webpackJsonp([2],[,,function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,o,i,c],l=0;s=new Error(t.replace(/%s/g,function(){return u[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.RouterContext=t.createRoutes=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var a=n(16);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return a.createRoutes}});var o=n(78);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var i=n(29);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return i.formatPattern}});var c=n(332),s=r(c),u=n(132),l=r(u),p=n(328),d=r(p),f=n(343),m=r(f),h=n(329),v=r(h),y=n(330),g=r(y),b=n(134),I=r(b),w=n(331),C=r(w),E=n(79),M=r(E),j=n(341),_=r(j),k=n(139),A=r(k),S=n(334),P=r(S),N=n(335),T=r(N),x=n(339),O=r(x),D=n(136),L=r(D);t.Router=s.default,t.Link=l.default,t.IndexLink=d.default,t.withRouter=m.default,t.IndexRedirect=v.default,t.IndexRoute=g.default,t.Redirect=I.default,t.Route=C.default,t.RouterContext=M.default,t.match=_.default,t.useRouterHistory=A.default,t.applyRouterMiddleware=P.default,t.browserHistory=T.default,t.hashHistory=O.default,t.createMemoryHistory=L.default},,,,,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){if(!t(e))throw d("error","uncaught at check",n),new Error(n)}function o(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=f({},e),n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}function c(e){for(var t=[],n=0;n<e;n++)t.push(i());return t}function s(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[y]=function(){return clearTimeout(n)},r}function u(){var e,t=!0,n=void 0,a=void 0;return e={},r(e,v,!0),r(e,"isRunning",function(){return t}),r(e,"result",function(){return n}),r(e,"error",function(){return a}),r(e,"setRunning",function(e){return t=e}),r(e,"setResult",function(e){return n=e}),r(e,"setError",function(e){return a=e}),e}function l(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return function(){return++e}}function p(e){var t=arguments.length<=1||void 0===arguments[1]?I:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],r={name:n,next:e,throw:t,return:w};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function d(e,t,n){"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e].call(console,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.check=a,t.remove=o,t.deferred=i,t.arrayOfDeffered=c,t.delay=s,t.createMockTask=u,t.autoInc=l,t.makeIterator=p,t.log=d;var h=t.sym=function(e){return"@@redux-saga/"+e},v=t.TASK=h("TASK"),y=(t.MATCH=h("MATCH"),t.CANCEL=h("cancelPromise")),g=t.konst=function(e){return function(){return e}},b=(t.kTrue=g(!0),t.kFalse=g(!1),t.noop=function(){},t.ident=function(e){return e},t.is={undef:function(e){return null===e||void 0===e},notUndef:function(e){return null!==e&&void 0!==e},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},array:Array.isArray,promise:function(e){return e&&b.func(e.then)},iterator:function(e){return e&&b.func(e.next)&&b.func(e.throw)},task:function(e){return e&&e[v]},take:function(e){return e&&b.func(e.take)},put:function(e){return e&&b.func(e.put)},observable:function(e){return e&&b.func(e.subscribe)},buffer:function(e){return e&&b.func(e.isEmpty)&&b.func(e.take)&&b.func(e.put)},pattern:function(e){return e&&("string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":m(e))||b.func(e)||b.array(e))}}),I=function(e){throw e},w=function(e){return{value:e,done:!0}};t.internalErr=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsisten state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")}},,function(e,t,n){"use strict";var r=n(161),a=n.n(r),o=n(147),i=n(74),c=n.n(i),s=window,u=s.localStorage,l=s.confirm,p=s.alert,d=s.MB,f=s.MBLocale,m=s.I18N,h=s.Team,v=s.Project,y=s.Combo,g=s.Template,b=s.Screen,I=s.Collaborator,w=s.Comment,C=s.CommentThread,E=s.$;"zh-CN"===f&&c()(a.a.settings.strings,o.a);var M=window,j=u,_={MBLocale:f,parseTimeAgo:function(e){return a()(e)}},k={Team:h,Project:v,Combo:y,Template:g,Screen:b,Collaborator:I,Comment:w,CommentThread:C,requestCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+Math.uuid(10,16)+Date.now()},queueSave:function(){return E("body").trigger("queue:save")}};t.a={Global:M,Storage:j,confirm:function(){return l.apply(void 0,arguments)},alert:function(){return p.apply(void 0,arguments)},MB:d,I18N:m,L10N:_,SpineModel:k}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var a=n(17),o=(r(a),t.addQueryStringValueToPath=function(e,t,n){var r=i(e),a=r.pathname,o=r.search,s=r.hash;return c({pathname:a,search:o+(o.indexOf("?")===-1?"?":"&")+t+"="+n,hash:s})},t.stripQueryStringValueFromPath=function(e,t){var n=i(e),r=n.pathname,a=n.search,o=n.hash;return c({pathname:r,search:a.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:o})},t.getQueryStringValueFromPath=function(e,t){var n=i(e),r=n.search,a=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return a&&a[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),i=t.parsePath=function(e){var t=o(e),n="",r="",a=t.indexOf("#");a!==-1&&(r=t.substring(a),t=t.substring(0,a));var i=t.indexOf("?");return i!==-1&&(n=t.substring(i),t=t.substring(0,i)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},c=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,a=e.hash,o=(t||"")+n;return r&&"?"!==r&&(o+=r),a&&(o+=a),o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return null==e||d.default.isValidElement(e)}function o(e){return a(e)||Array.isArray(e)&&e.every(a)}function i(e,t){return l({},e,t)}function c(e){var t=e.type,n=i(t.defaultProps,e.props);if(n.children){var r=s(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function s(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(c(e))}),n}function u(e){return o(e)?e=s(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=o,t.createRouteFromReactElement=c,t.createRoutesFromReactChildren=s,t.createRoutes=u;var p=n(0),d=r(p)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var a=n(324),o=r(a),i=n(325),c=r(i);t.Provider=o.default,t.connect=c.default},,function(e,t,n){"use strict";var r=n(13),a=n(181),o=n(178),i=(n(96),n(179));n.d(t,"a",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"b",function(){return i.a})},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},,,,function(e,t){e.exports={comment_panel_content_slide_panel:"cwtyZ9GaoqRzUhsz39exX",comment_panel_content_slide_panel_hide:"_1HA0m1poaQMIrYp0gyhu_",comment_thread:"_3WMpqqd-hCG36cq1kVSPFz",comment_thread_flex:"_214oYRwvBDUw82gbIIcqcj",comment_comment:"_2MLg8D4eVoQIE8-P5_RYMU",comment_comment_clickable:"_21z3zO5X1dU9gSZDX5EoBA",comment_comment_thread_initial:"lkoaW4KkzftUViJK_838G",comment_comment_thread_initial_focus:"_1zvanGQGd_iR7fT2m69PGp",comment_comment_upper:"w2HvgBkf0sWHaAyNxBQEu",comment_comment_user_initial:"_3rWRUCjx9j33-MB9x1Bk7S",comment_comment_appending:"_2m6vVBMTcfdMAtOOyMNHab",comment_comment_content:"_1Udcovj7DvHY4J9zeCOj8J",comment_comment_content_folded:"_1DJbgbZUrpTvYiUT_23OBD",comment_comment_lower:"_3AmzaY4k_ix60XmY2jUV2b",comment_marker:"_1XCu5uS-W2i8sK1tIYJfA9",comment_marker_locked:"_3-Jc5zPOI-IS88soyAuQl_",comment_marker_focus:"_2cVhv6QYA7fzRbnBr7eyQU",comment_marker_fade:"_1VqgB4DvWNfYfoj5wbsYF5",comment_marker_mini:"_2SP3_482Rf0QvB4U6M0aDc",comment_marker_panel:"_1H750cPMiuj8w6YvxtJhyV",editable_span:"gCugbcIzxeZGMvnxPWFjB",reply_textarea:"_2ajlBQKzClQ9CmVLLuH3pz"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),c=r(i),s=n(17),u=(r(s),n(15)),l=n(39),p=(t.createQuery=function(e){return o(Object.create(null),e)},t.createLocation=function(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?l.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r="string"==typeof e?(0,u.parsePath)(e):e,a=r.pathname||"/",o=r.search||"",i=r.hash||"",c=r.state;return{pathname:a,search:o,hash:i,state:c,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),d=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r="undefined"==typeof t?"undefined":a(t),o="undefined"==typeof n?"undefined":a(n);if(r!==o)return!1;if("function"===r?(0,c.default)(!1):void 0,"object"===r){if(p(t)&&p(n)?(0,c.default)(!1):void 0,!Array.isArray(t)){var i=Object.keys(t),s=Object.keys(n);return i.length===s.length&&i.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&d(e.state,t.state)}},function(e,t,n){var r=n(119),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],r=[],o=void 0,i=0,c=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=c.exec(e);)o.index!==i&&(r.push(e.slice(i,o.index)),t+=a(e.slice(i,o.index))),o[1]?(t+="([^/]+)",n.push(o[1])):"**"===o[0]?(t+="(.*)",n.push("splat")):"*"===o[0]?(t+="(.*?)",n.push("splat")):"("===o[0]?t+="(?:":")"===o[0]&&(t+=")?"),r.push(o[0]),i=c.lastIndex;return i!==e.length&&(r.push(e.slice(i,e.length)),t+=a(e.slice(i,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function i(e){return f[e]||(f[e]=o(e)),f[e]}function c(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=i(e),r=n.regexpSource,a=n.paramNames,o=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var c=t.match(new RegExp("^"+r,"i"));if(null==c)return null;var s=c[0],u=t.substr(s.length);if(u){if("/"!==s.charAt(s.length-1))return null;u="/"+u}return{remainingPathname:u,paramNames:a,paramValues:c.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function s(e){return i(e).paramNames}function u(e,t){var n=c(e,t);if(!n)return null;var r=n.paramNames,a=n.paramValues,o={};return r.forEach(function(e,t){o[e]=a[t]}),o}function l(e,t){t=t||{};for(var n=i(e),r=n.tokens,a=0,o="",c=0,s=[],u=void 0,l=void 0,p=void 0,f=0,m=r.length;f<m;++f)if(u=r[f],"*"===u||"**"===u)p=Array.isArray(t.splat)?t.splat[c++]:t.splat,null!=p||a>0?void 0:(0,d.default)(!1),null!=p&&(o+=encodeURI(p));else if("("===u)s[a]="",a+=1;else if(")"===u){var h=s.pop();a-=1,a?s[a-1]+=h:o+=h}else if(":"===u.charAt(0))if(l=u.substring(1),p=t[l],null!=p||a>0?void 0:(0,d.default)(!1),null==p){if(a){s[a-1]="";for(var v=r.indexOf(u),y=r.slice(v,r.length),g=-1,b=0;b<y.length;b++)if(")"==y[b]){g=b;break}g>0?void 0:(0,d.default)(!1),f=v+g-1}}else a?s[a-1]+=encodeURIComponent(p):o+=encodeURIComponent(p);else a?s[a-1]+=u:o+=u;return a<=0?void 0:(0,d.default)(!1),o.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=i,t.matchPattern=c,t.getParamNames=s,t.getParams=u,t.formatPattern=l;var p=n(2),d=r(p),f=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(t.indexOf("deprecated")!==-1){if(s[t])return;s[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];c.default.apply(void 0,[e,t].concat(r))}function o(){s={}}t.__esModule=!0,t.default=a,t._resetWarned=o;var i=n(17),c=r(i),s={}},,,function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var a=n(0),o=a.PropTypes.func,i=a.PropTypes.object,c=a.PropTypes.arrayOf,s=a.PropTypes.oneOfType,u=a.PropTypes.element,l=a.PropTypes.shape,p=a.PropTypes.string,d=(t.history=l({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),t.component=s([o,p])),f=(t.components=s([d,i]),t.route=s([i,u]));t.routes=s([f,c(f)])},,,,,function(e,t,n){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t,n){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.supportsPopstateOnHashchange=function(){return window.navigator.userAgent.indexOf("Trident")===-1}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(293),o=n(294),i=n(295),c=n(296),s=n(297);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}var a=n(46);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?s:c:u&&u in Object(e)?o(e):i(e)}var a=n(116),o=n(282),i=n(305),c="[object Null]",s="[object Undefined]",u=a?a.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}var a=n(291);e.exports=r},function(e,t,n){var r=n(71),a=r(Object,"create");e.exports=a},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){"use strict";function r(){function e(e){return n.push(e),function(){return(0,i.remove)(n,e)}}function t(e){for(var t=n.slice(),r=0,a=t.length;r<a;r++)t[r](e)}var n=[];return{subscribe:e,emit:t}}function a(e){function t(){if(o&&s.length)throw(0,i.internalErr)("Cannot have a closed channel with pending takers");if(s.length&&!e.isEmpty())throw(0,i.internalErr)("Cannot have pending takers with non empty buffer")}function n(n){if(t(),(0,i.check)(n,i.is.notUndef,d),!o)if(s.length)for(var r=0;r<s.length;r++){var a=s[r];if(!a[i.MATCH]||a[i.MATCH](n))return s.splice(r,1),a(n)}else e.put(n)}function r(n,r){t(),(0,i.check)(n,i.is.func,"channel.take's callback must be a function"),arguments.length>1&&((0,i.check)(r,i.is.func,"channel.take's matcher argument must be a function"),n[i.MATCH]=r),o&&e.isEmpty()?n(u):e.isEmpty()?(s.push(n),n.cancel=function(){return(0,i.remove)(s,n)}):n(e.take())}function a(){if(t(),!o&&(o=!0,s.length)){var e=s;s=[];for(var n=0,r=e.length;n<r;n++)e[n](u);s=[]}}var o=!1,s=[];return arguments.length>0?(0,i.check)(e,i.is.buffer,p):e=c.buffers.fixed(),{take:r,put:n,close:a,get __takers__(){return s},get __closed__(){return o}}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?c.buffers.none():arguments[1],n=arguments[2];arguments.length>2&&(0,i.check)(n,i.is.func,"Invalid match function passed to eventChannel");var r=a(t),o=e(function(e){l(e)?r.close():n&&!n(e)||r.put(e)});if(!i.is.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,close:function(){r.__closed__||(r.close(),o())}}}Object.defineProperty(t,"__esModule",{value:!0}),t.UNDEFINED_INPUT_ERROR=t.INVALID_BUFFER=t.isEnd=t.END=void 0,t.emitter=r,t.channel=a,t.eventChannel=o;var i=n(11),c=n(80),s="@@redux-saga/CHANNEL_END",u=t.END={type:s},l=t.isEnd=function(e){return e&&e.type===s},p=t.INVALID_BUFFER="invalid buffer passed to channel factory function",d=t.UNDEFINED_INPUT_ERROR="Saga was provided with an undefined action"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(arguments.length>=2)(0,I.check)(e,I.is.notUndef,"take(channel, pattern): channel is undefined"),(0,I.check)(e,I.is.take,"take(channel, pattern): argument "+String(e)+" is not a valid channel (channel argument must have a take method)"),(0,I.check)(t,I.is.notUndef,"take(channel, pattern): pattern is undefined"),(0,I.check)(t,I.is.pattern,"take(channel, pattern): argument "+String(t)+" is not a valid pattern (pattern must be String | Function: a => boolean | Array<String>)");else if(1===arguments.length)if((0,I.check)(e,I.is.notUndef,"take(patternOrChannel): undefined argument"),I.is.take(e))t="*";else{if(!I.is.pattern(e))throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern");t=e,e=null}else t="*";return x(C,{channel:e,pattern:t})}function o(){var e=a.apply(void 0,arguments);return e[C].maybe=!0,e}function i(e,t){return arguments.length>1?((0,I.check)(e,I.is.notUndef,"put(channel, action): argument channel is undefined"),(0,I.check)(e,I.is.put,"put(channel, action): argument "+e+" is not a valid channel (channel argument must have a put method)"),(0,I.check)(t,I.is.notUndef,"put(channel, action): argument action is undefined")):((0,I.check)(e,I.is.notUndef,"put(action): argument action is undefined"),t=e,e=null),x(E,{channel:e,action:t})}function c(e){return x(M,e)}function s(e,t,n){(0,I.check)(t,I.is.notUndef,e+": argument fn is undefined");var r=null;if(I.is.array(t)){var a=t,o=b(a,2);r=o[0],t=o[1]}else if(t.fn){var i=t;r=i.context,t=i.fn}return(0,I.check)(t,I.is.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(j,s("call",e,n))}function l(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return x(j,s("apply",{context:e,fn:t},n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(_,s("cps",e,n))}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(k,s("fork",e,n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=d.apply(void 0,[e].concat(n));return a[k].detached=!0,a}function m(e){if((0,I.check)(e,I.is.notUndef,"join(task): argument task is undefined"),!O(e))throw new Error("join(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return x(A,e)}function h(e){if((0,I.check)(e,I.is.notUndef,"cancel(task): argument task is undefined"),!O(e))throw new Error("cancel(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return x(S,e)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=I.ident:((0,I.check)(v,I.is.notUndef,"select(selector,[...]): argument selector is undefined"),(0,I.check)(e,I.is.func,"select(selector,[...]): argument "+e+" is not a function")),x(P,{selector:e,args:n})}function y(e,t){return(0,I.check)(e,I.is.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&((0,I.check)(t,I.is.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),(0,I.check)(t,I.is.notUndef,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),x(N,{pattern:e,buffer:t})}function g(){return x(T,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.asEffect=void 0;var b=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.take=a,t.takem=o,t.put=i,t.race=c,t.call=u,t.apply=l,t.cps=p,t.fork=d,t.spawn=f,t.join=m,t.cancel=h,t.select=v,t.actionChannel=y,t.cancelled=g;var I=n(11),w=(0,I.sym)("IO"),C="TAKE",E="PUT",M="RACE",j="CALL",_="CPS",k="FORK",A="JOIN",S="CANCEL",P="SELECT",N="ACTION_CHANNEL",T="CANCELLED",x=function(e,t){var n;return n={},r(n,w,!0),r(n,e,t),n};i.sync=function(){var e=i.apply(void 0,arguments);return e[E].sync=!0,e};var O=function(e){return e[I.TASK]};t.asEffect={take:function(e){return e&&e[w]&&e[C]},put:function(e){return e&&e[w]&&e[E]},race:function(e){return e&&e[w]&&e[M]},call:function(e){return e&&e[w]&&e[j]},cps:function(e){return e&&e[w]&&e[_]},fork:function(e){return e&&e[w]&&e[k]},join:function(e){return e&&e[w]&&e[A]},cancel:function(e){return e&&e[w]&&e[S]},select:function(e){return e&&e[w]&&e[P]},actionChannel:function(e){return e&&e[w]&&e[N]},cancelled:function(e){return e&&e[w]&&e[T]}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,,,function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}function a(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t&&void 0!==r[e]?void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function o(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"==typeof e?i(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var c=n(82),s=n(12);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=s({arrayFormat:"none"},t);var n=a(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(a),o,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=i(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=s(n,t);var a=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return o(n,t);if(Array.isArray(r)){var i=[];return r.slice().forEach(function(e){void 0!==e&&i.push(a(n,e,i.length))}),i.join("&")}return o(n,t)+"="+o(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(25),u=n.n(s);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isFocused=!1,n.spanRef=null,n}return o(t,e),p(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isFocus,n=e.focusType,r=e.dispatch;r&&t&&!this.isFocused&&r({type:"entry:focus-element",payload:{focusType:n,element:this.spanRef}}),this.isFocused=t}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,r=t.isFocus,a=t.isFade,o=t.isEditable,i=t.divAttributes,s=t.spanAttributes,p=r?u.a.comment_marker_focus:!r&&a?u.a.comment_marker_fade:"";return c.a.createElement("div",l({className:[u.a.comment_marker,p,o?"":u.a.comment_marker_locked].join(" ")},i),c.a.createElement("span",l({ref:function(t){return e.spanRef=t},tabIndex:n},s),n))}}]),t}(c.a.Component);d.propTypes={index:c.a.PropTypes.number,isFocus:c.a.PropTypes.bool,isFade:c.a.PropTypes.bool,isEditable:c.a.PropTypes.bool,divAttributes:c.a.PropTypes.object,spanAttributes:c.a.PropTypes.object,focusType:c.a.PropTypes.string,dispatch:c.a.PropTypes.func};var f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.index,r=t.isFocus,a=t.isFade,o=!r&&a?u.a.comment_marker_fade:"";return c.a.createElement("div",{className:[u.a.comment_marker,u.a.comment_marker_mini,o].join(" ")},c.a.createElement("span",{ref:function(t){return e.spanRef=t},tabIndex:n,"data-index":n}))}}]),t}(d);f.propTypes={index:c.a.PropTypes.number,isFocus:c.a.PropTypes.bool,isFade:c.a.PropTypes.bool,focusType:c.a.PropTypes.string,dispatch:c.a.PropTypes.func}},,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(26),a=n(40),o=n(109),i=n(15),c=n(67),s="popstate",u="hashchange",l=c.canUseDOM&&!(0,a.supportsPopstateOnHashchange)(),p=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,o.readState)(t):void 0},void 0,t)},d=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return p(e)},f=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){void 0!==t.state&&e(p(t.state))};(0,a.addEventListener)(window,s,t);var n=function(){return e(d())};return l&&(0,a.addEventListener)(window,u,n),function(){(0,a.removeEventListener)(window,s,t),l&&(0,a.removeEventListener)(window,u,n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,o.saveState)(r,n),t({key:r},(0,i.createPath)(e))});t.pushLocation=function(e){return f(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return f(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(243),o=n(15),i=n(69),c=r(i),s=n(39),u=n(26),l=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.getCurrentLocation,n=e.getUserConfirmation,r=e.pushLocation,i=e.replaceLocation,l=e.go,p=e.keyLength,d=void 0,f=void 0,m=[],h=[],v=[],y=function(){return f&&f.action===s.POP?v.indexOf(f.key):d?v.indexOf(d.key):-1},g=function(e){var t=y();d=e,d.action===s.PUSH?v=[].concat(v.slice(0,t+1),[d.key]):d.action===s.REPLACE&&(v[t]=d.key),h.forEach(function(e){return e(d)})},b=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},I=function(e){return h.push(e),function(){return h=h.filter(function(t){return t!==e})}},w=function(e,t){(0,a.loopAsync)(m.length,function(t,n,r){(0,c.default)(m[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(e!==!1)}):t(e!==!1)})},C=function(e){d&&(0,u.locationsAreEqual)(d,e)||f&&(0,u.locationsAreEqual)(f,e)||(f=e,w(e,function(t){if(f===e)if(f=null,t){if(e.action===s.PUSH){var n=(0,o.createPath)(d),a=(0,o.createPath)(e);a===n&&(0,u.statesAreEqual)(d.state,e.state)&&(e.action=s.REPLACE)}e.action===s.POP?g(e):e.action===s.PUSH?r(e)!==!1&&g(e):e.action===s.REPLACE&&i(e)!==!1&&g(e)}else if(d&&e.action===s.POP){var c=v.indexOf(d.key),p=v.indexOf(e.key);c!==-1&&p!==-1&&l(c-p)}}))},E=function(e){return C(S(e,s.PUSH))},M=function(e){return C(S(e,s.REPLACE))},j=function(){return l(-1)},_=function(){return l(1)},k=function(){return Math.random().toString(36).substr(2,p||6)},A=function(e){return(0,o.createPath)(e)},S=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?k():arguments[2];return(0,u.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:b,listen:I,transitionTo:C,push:E,replace:M,go:l,goBack:j,goForward:_,
createKey:k,createPath:o.createPath,createHref:A,createLocation:S}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(17),o=(r(a),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=o},function(e,t,n){function r(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var a=n(118);e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t);return a(n)?n:void 0}var a=n(267),o=n(283);e.exports=r},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!a(e)}var a=n(73),o=n(127);e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=a(e);return t==c||t==s||t==i||t==u}var a=n(43),o=n(21),i="[object AsyncFunction]",c="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=r},function(e,t,n){var r=n(270),a=n(158),o=a(function(e,t,n){r(e,t,n)});e.exports=o},,function(e,t,n){"use strict";function r(e,t,n){function r(){return i=!0,c?void(u=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function a(){if(!i&&(s=!0,!c)){for(c=!0;!i&&o<e&&s;)s=!1,t.call(this,o++,a,r);return c=!1,i?void n.apply(this,u):void(o>=e&&s&&(i=!0,n()))}}var o=0,i=!1,c=!1,s=!1,u=void 0;a()}function a(e,t,n){function r(e,t,r){i||(t?(i=!0,n(t)):(o[e]=r,i=++c===a,i&&n(null,o)))}var a=e.length,o=[];if(0===a)return n(null,o);var i=!1,c=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=r,t.mapAsync=a},function(e,t,n){"use strict";function r(e){return"@@contextSubscriber/"+e}function a(e){var t,n,a=r(e),o=a+"/listeners",i=a+"/eventIndex",s=a+"/subscribe";return n={childContextTypes:(t={},t[a]=c.isRequired,t),getChildContext:function(){var e;return e={},e[a]={eventIndex:this[i],subscribe:this[s]},e},componentWillMount:function(){this[o]=[],this[i]=0},componentWillReceiveProps:function(){this[i]++},componentDidUpdate:function(){var e=this;this[o].forEach(function(t){return t(e[i])})}},n[s]=function(e){var t=this;return this[o].push(e),function(){t[o]=t[o].filter(function(t){return t!==e})}},n}function o(e){var t,n,a=r(e),o=a+"/lastRenderedEventIndex",i=a+"/handleContextUpdate",s=a+"/unsubscribe";return n={contextTypes:(t={},t[a]=c,t),getInitialState:function(){var e;return this.context[a]?(e={},e[o]=this.context[a].eventIndex,e):{}},componentDidMount:function(){this.context[a]&&(this[s]=this.context[a].subscribe(this[i]))},componentWillReceiveProps:function(){var e;this.context[a]&&this.setState((e={},e[o]=this.context[a].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[i]=function(e){if(e!==this.state[o]){var t;this.setState((t={},t[o]=e,t))}},n}t.__esModule=!0,t.ContextProvider=a,t.ContextSubscriber=o;var i=n(0),c=i.PropTypes.shape({subscribe:i.PropTypes.func.isRequired,eventIndex:i.PropTypes.number.isRequired})},function(e,t,n){"use strict";t.__esModule=!0,t.locationShape=t.routerShape=void 0;var r=n(0),a=r.PropTypes.func,o=r.PropTypes.object,i=r.PropTypes.shape,c=r.PropTypes.string;t.routerShape=i({push:a.isRequired,replace:a.isRequired,go:a.isRequired,goBack:a.isRequired,goForward:a.isRequired,setRouteLeaveHook:a.isRequired,isActive:a.isRequired}),t.locationShape=i({pathname:c.isRequired,search:c.isRequired,state:o,action:c.isRequired,key:c})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(2),c=r(i),s=n(0),u=r(s),l=n(338),p=r(l),d=n(77),f=n(16),m=u.default.PropTypes,h=m.array,v=m.func,y=m.object,g=u.default.createClass({displayName:"RouterContext",mixins:[(0,d.ContextProvider)("router")],propTypes:{router:y.isRequired,location:y.isRequired,routes:h.isRequired,params:y.isRequired,components:h.isRequired,createElement:v.isRequired},getDefaultProps:function(){return{createElement:u.default.createElement}},childContextTypes:{router:y.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,i=t.params,s=t.components,l=t.router,d=null;return s&&(d=s.reduceRight(function(t,c,s){if(null==c)return t;var u=r[s],d=(0,p.default)(u,i),m={location:n,params:i,route:u,router:l,routeParams:d,routes:r};if((0,f.isReactChildren)(t))m.children=t;else if(t)for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&(m[h]=t[h]);if("object"===("undefined"==typeof c?"undefined":o(c))){var v={};for(var y in c)Object.prototype.hasOwnProperty.call(c,y)&&(v[y]=e.createElement(c[y],a({key:y},m)));return v}return e.createElement(c,m)},d)),null===d||d===!1||u.default.isValidElement(d)?void 0:(0,c.default)(!1),d}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?10:arguments[0],t=arguments[1],n=new Array(e),r=0,a=0,c=0;return{isEmpty:function(){return 0==r},put:function(u){if(r<e)n[a]=u,a=(a+1)%e,r++;else switch(t){case i:throw new Error(o);case s:n[a]=u,a=(a+1)%e,c=a}},take:function(){if(0!=r){var t=n[c];return n[c]=null,r--,c=(c+1)%e,t}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.buffers=t.BUFFER_OVERFLOW=void 0;var a=n(11),o=t.BUFFER_OVERFLOW="Channel's Buffer overflow!",i=1,c=2,s=3,u={isEmpty:a.kTrue,put:a.noop,take:a.noop};t.buffers={none:function(){return u},fixed:function(e){return r(e,i)},dropping:function(e){return r(e,c)},sliding:function(e){return r(e,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(144),a=n(356),o=n(355),i=n(354),c=n(143);n(145);n.d(t,"createStore",function(){return r.a}),n.d(t,"combineReducers",function(){return a.a}),n.d(t,"bindActionCreators",function(){return o.a}),n.d(t,"applyMiddleware",function(){return i.a}),n.d(t,"compose",function(){return c.a})},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},,,,,function(e,t,n){function r(e){return i(e)?a(e,!0):o(e)}var a=n(262),o=n(269),i=n(72);e.exports=r},,,,,,,,,function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){return n.i(s.createStore)(e,s.applyMiddleware.apply(void 0,r(t)))}function o(e,t){return n.i(s.combineReducers)({service:n.i(s.combineReducers)(e),container:n.i(s.combineReducers)(t)})}function i(e,t){var n=new u.ReduxService;for(var r in e)n.setService(r,e[r]);for(var a in t)n.setEntry(a,t[a]);return n}function c(e){var t=e.serviceMap,n=e.entryMap,r=e.serviceReducerMap,c=e.containerReducerMap,s=i(t,n),u=a(o(r,c),[s.middleware]);return s.startAllService(),{store:u,reduxService:s}}var s=n(81),u=n(142);n.n(u);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(0),o=n.n(a),i=n(5),c=n.n(i),s=n(18),u=(n.n(s),n(20)),l=n(225),p=n(200),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(){r(this,e),this.isInited=!1,this.panelElement=null,this.markerPanelElement=null,this.markerContainerElement=null,this.markerReferenceElement=null,this.rangeElement=null}return f(e,[{key:"init",value:function(e){!this.isInited&&e&&(e.dispatch({type:"entry:comment:start"}),this.isInited=!0,this.panelElement=document.getElementById("ui-comment-panel"),this.markerPanelElement=document.getElementById("ui-comment-marker-panel"),this.markerContainerElement=document.getElementById("simulator-container"),this.rangeElement=document.getElementById("simulator-wrapper"))}},{key:"clear",value:function(e){this.isInited&&(this.stop(e),e&&e.dispatch({type:"service:comment:stop"}),this.isInited=!1,this.isStarted=!1,this.panelElement=null,this.markerPanelElement=null,this.markerContainerElement=null,this.markerReferenceElement=null,this.rangeElement=null)}},{key:"start",value:function(e){this.isInited&&(this.isStarted=!0)}},{key:"update",value:function(e){this.isInited&&this.isStarted&&(this.markerReferenceElement=document.getElementsByClassName("pcanvas active")[0].getElementsByClassName("scontainer")[0],this.render(e))}},{key:"stop",value:function(e){this.isInited&&this.isStarted&&(e&&this.render(null),e&&e.dispatch({type:"container:comment:set:is-minified",payload:{isMinified:!1}}),this.isStarted=!1)}},{key:"render",value:function(e){this.isInited&&this.isStarted&&(this.panelElement&&c.a.render(e?o.a.createElement(s.Provider,{store:e},o.a.createElement(p.a.containers.CommentPanel,null)):o.a.createElement("div",null),this.panelElement),this.markerPanelElement&&c.a.render(e?o.a.createElement(s.Provider,{store:e},o.a.createElement(p.a.containers.CommentMarkerPanel,{containerElement:this.markerContainerElement,rangeElement:this.rangeElement,referenceElement:this.markerReferenceElement})):o.a.createElement("div",null),this.markerPanelElement))}},{key:"pushData",value:function(e,t,n,r){var a="thread"===t?u.a.SpineModel.CommentThread:"comment"===t?u.a.SpineModel.Comment:null,o=a&&a.findByAttribute("cid",r.cid);"update"===n&&(o||(o=new a(r)),o.load(r),o.lsave(!1)),"destroy"===n&&o.ldestroy(!1),o&&e&&e.dispatch({type:"service:comment:push-data",payload:{pushType:t,action:n,data:r,record:o}})}},{key:"startWithSelectedThread",value:function(e,t){this.start(e),this.update(e),e&&e.dispatch({type:"container:comment:select",payload:{select:t.cid}})}}]),e}(),h=function(){function e(){r(this,e),this.isInited=!1,this.panelElement=null}return f(e,[{key:"init",value:function(e){!this.isInited&&e&&(this.isInited=!0,e.dispatch({type:"entry:screen:start"}),this.panelElement=document.getElementById("ui-screen-panel"))}},{key:"clear",value:function(e){this.isInited&&(this.stop(e),e&&this.render(null),e&&e.dispatch({type:"service:screen:stop"}),this.isInited=!1,this.panelElement=null)}},{key:"start",value:function(e){}},{key:"update",value:function(e){this.render(e)}},{key:"stop",value:function(e){e&&this.render(null)}},{key:"render",value:function(e){this.isInited&&this.panelElement&&c.a.render(e?o.a.createElement(s.Provider,{store:e},o.a.createElement(l.a.containers.ScreenPanel,null)):o.a.createElement("div",null),this.panelElement)}}]),e}();t.a={serviceList:["user","team","project","screen","collaborator","comment","inspect"],containerReducerMap:{screen:l.a.reducers,comment:p.a.reducers},viewMap:{screen:new h,comment:new m},extendCallback:function(e){e.previewInit=function(){e.callViewMethod("screen","init"),e.callViewMethod("comment","init")},e.previewClear=function(){e.callViewMethod("screen","clear"),e.callViewMethod("comment","clear")},e.checkHash=function(t,n){var r=t&&t.hash;if(r){if(r.startsWith("#thread=")){var a=function(){var a=r.substr("#thread=".length);n.replaceState?n.replaceState(null,null,t.pathname):n.pushState(null,null,t.pathname);var o=u.a.SpineModel.CommentThread.findByAttribute("cid",a);return o?void setTimeout(function(){e.updateCurrentScreen(),e.callViewMethod("comment","start"),e.store.dispatch({type:"container:comment:select",payload:{select:o.cid}})},200):{v:console.warn("[checkHash] missing commentThread")}}();if("object"===("undefined"==typeof a?"undefined":d(a)))return a.v}if(r.startsWith("#screen=")){var o=function(){var t=r.substr("#screen=".length),n=u.a.SpineModel.Screen.findByAttribute("cid",t);return n?void setTimeout(function(){e.callViewMethod("screen","start"),e.store.dispatch({type:"entry:inspect:screen",payload:{screen:n}})},200):{v:console.warn("[checkHash] missing screen")}}();if("object"===("undefined"==typeof o?"undefined":d(o)))return o.v}}},e.updateCurrentScreen=function(){var t=u.a.MB.currentScreen||null;return t?(e.store.dispatch({type:"entry:external:inspect:screen",payload:{screen:t}}),void(u.a.Global.location.hash="#screen="+t.cid)):console.warn("[CommentView][update] missing screen")},e.getUserRole=function(){var t=e.store.getState().service.inspect;return t.collaborator&&t.collaborator.userRole}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(25),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleEditing=function(e){void 0===e&&(e=!n.state.isEditing),n.setState({isEditing:e,editingValue:n.props.getValue()}),e&&setTimeout(n.focusTextarea,0)},n.onEditUpdate=function(e){return n.setState({editingValue:e.target.value})},n.onEditKeyPress=function(e){return 13===e.which&&(!n.props.isMultiLine||!e.shiftKey)&&n.onEditFinish()},n.onEditFinish=function(){var e=n.state.editingValue.trim();e!==n.getSpanValue()&&n.props.onValueChange(e),n.toggleEditing(!1)},n.focusTextarea=function(){var e=n.refs&&n.refs.textarea;if(e){e.focus&&e.focus();var t=e.value.length;e.setSelectionRange(t,t),e.scrollTop=e.scrollHeight-e.offsetHeight}},n.state={isEditing:!1,editingValue:""},e.initEditing&&setTimeout(function(){return n.toggleEditing(!0)},50),n}return o(t,e),l(t,[{key:"getSpanValue",value:function(){return this.props.getValue()||""}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.isEditLocked,a=this.state,o=a.isEditing,i=a.editingValue;return r?c.a.createElement("span",{className:u.a.editable_span},this.getSpanValue()):o?c.a.createElement("textarea",{className:u.a.editable_span,ref:"textarea",value:i,placeholder:n||"",onChange:this.onEditUpdate,onKeyDown:this.onEditKeyPress,onBlur:this.onEditFinish}):c.a.createElement("span",{className:u.a.editable_span,onDoubleClick:function(){return e.toggleEditing(!0)}},this.getSpanValue())}}]),t}(c.a.Component);p.propTypes={onValueChange:c.a.PropTypes.func,getValue:c.a.PropTypes.func,placeholder:c.a.PropTypes.string,isMultiLine:c.a.PropTypes.bool,initEditing:c.a.PropTypes.bool,isEditLocked:c.a.PropTypes.bool};var d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEditUpdate=function(e){return!n.props.isEditLocked&&n.setState({editingValue:e.target.value})},n.onEditKeyPress=function(e){return 13===e.which&&(!n.props.isMultiLine||!e.shiftKey)&&n.onEditFinish(e)},n.onEditFinish=function(e){e&&e.preventDefault(),e&&e.stopPropagation();var t=n.getValue();t&&n.props.onValueChange(t),n.setState({editingValue:""})},n.getValue=function(){return n.state&&n.state.editingValue&&n.state.editingValue.trim()},n.focus=function(){return n.textareaElement&&n.textareaElement.focus()},n.state={editingValue:""},n}return o(t,e),l(t,[{key:"componentDidUpdate",value:function(){this.props.isAutoHeight&&this.textareaElement&&(this.textareaElement.style.height="auto",this.textareaElement.style.height=Math.max(this.textareaElement.scrollHeight+2,this.textareaElement.offsetHeight)+"px")}},{key:"render",value:function(){var e=this,t=this.props.placeholder,n=this.state.editingValue;return c.a.createElement("textarea",{ref:function(t){return e.textareaElement=t},className:u.a.reply_textarea,rows:1,value:n,placeholder:t||"",onChange:this.onEditUpdate,onKeyDown:this.onEditKeyPress})}}]),t}(c.a.Component);d.propTypes={onValueChange:c.a.PropTypes.func,placeholder:c.a.PropTypes.string,isMultiLine:c.a.PropTypes.bool,isEditLocked:c.a.PropTypes.bool,isAutoHeight:c.a.PropTypes.bool},t.a={EditableSpan:p,ReplyTextarea:d}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=window,l=u.I18N,p=u.MB,d=u.$,f=["gift","phone","key","trophy","music","bell","glass","truck","thumbs-up","flask","fire","camera-retro","coffee","plane","smile-o","bank","dashboard","futbol-o","pagelines","magic","bug","graduation-cap","legal","umbrella","suitcase","car","shopping-cart"],m=["RGB(255,255,247)","RGB(255,247,255)","RGB(247,255,255)","RGB(255,247,247)","RGB(247,255,247)","RGB(247,247,255)"],h=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.updateIcon=function(e){var t=o.props.team;t.icon=e,o.forceUpdate()},o.updateColor=function(e){var t=o.props.team;t.color=e,o.forceUpdate()},o.handleKeyUp=function(e){"Enter"===e.key&&o.handleSave()},o.handleUpdate=function(e){o.props.team.name=e.target.value,o.forceUpdate()},o.handleSave=function(){var e=o.props.team,t=e.isNew();e.lsave(),d("body").trigger("queue:save"),d("#team-modal").modal("hide"),p.webpackInterface.refreshTeam(),p.mp("完成了团队创建"),t&&(p.renderCollaboratorsModal(e,""),d("#collaborators-modal").modal())},i=n,a(o,i)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.team;t.icon||(t.icon=f[Math.floor(100*Math.random())%f.length]);var n=t.exists()?l.edit_team:l.new_team,r=t.exists()?l.update:l.create;return c.a.createElement("div",{className:"form-horizontal"},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement(p.ModalHeader,{title:n}),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"name",className:"control-label col-sm-3"},l.team_name),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("input",{type:"text",name:"name",className:"form-control",value:t.name||"",onKeyUp:this.handleKeyUp,onChange:this.handleUpdate,placeholder:l.team_name}))),c.a.createElement(p.HR,{value:l.icon_and_color}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label col-sm-3"},l.team_icon),c.a.createElement("div",{className:"col-sm-9 team-icons"},f.map(function(n){return c.a.createElement("span",{className:"team-icon "+(t.icon===n?"active":""),key:n,onClick:e.updateIcon.bind(e,n)},c.a.createElement("i",{className:"fa fa-"+n}))},this))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label col-sm-3"},l.team_color),c.a.createElement("div",{className:"col-sm-9"},m.map(function(n){return c.a.createElement("span",{className:"team-color "+(t.color===n?"active":""),key:n,onClick:e.updateColor.bind(e,n),style:{backgroundColor:n}},c.a.createElement("i",{className:"fa fa-check"}))},this)))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{type:"submit",className:"btn btn-primary",disabled:!t.name,onClick:this.handleSave},r)))))}}]),t}(c.a.Component);t.a=h,h.propTypes={team:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(218),u=n(217),l=n(216),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=window,f=d.MB,m=d.$,h=d.alert,v=d.I18N,y=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleNew=function(e){e.preventDefault();var t=o.props.team,n=o.context.router;t?["admin","editor"].indexOf(t.roleByUid(f.user.id))===-1?h(v.no_privilege):(f.mp("点击了创建团队项目"),n.push({pathname:"/workspace/teams/"+t.cid+"/start",state:{fromList:!0}})):(f.ga("send","event","feature","进入项目新建页面"),n.push({pathname:"/workspace/start",state:{fromList:!0}}))},o.openTrash=function(e){e.preventDefault(),f.renderTrashProjectModal()},i=n,a(o,i)}return o(t,e),p(t,[{key:"componentDidMount",value:function(){m(this.refs.list).perfectScrollbar()}},{key:"componentDidUpdate",value:function(){this.refs.list.scrollTop=0,m(this.refs.list).perfectScrollbar("update")}},{key:"render",value:function(){var e=this.props,t=e.team,n=e.order,r=e.keyword,a=e.projects,o=e.dispatch,i=this.context.router.location.query.type,p=void 0===i?"mine":i,d={},m={mine:[],archives:[]},h=void 0;if(t)h=a;else{for(var y=0;y<a.length;y++){var g=a[y];if(!g.deleted&&!g.team_cid)if(g.owner_id!==f.user.id){d[g.owner_id]=g.owner_name;var b=g.owner_id;m[b]=m[b]||[],m[b].push(g)}else g.archived?m.archives.push(g):m.mine.push(g)}h=m[p]||[]}var I=h.filter(function(e){return e.name.toLowerCase().indexOf(r)!==-1});return"asc"===n?I.sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}):I.sort(function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()}),c.a.createElement("div",{className:"list-body"},c.a.createElement(l.a,{team:t,type:p,order:n,keyword:r,dispatch:o,handleNew:this.handleNew,collaborations:d}),c.a.createElement("section",{className:"list-content",ref:"list"},c.a.createElement("a",{className:"btn btn-default trash-btn",onClick:this.openTrash},c.a.createElement("i",{className:"icon-trash"}),c.a.createElement("span",null,v.transh_can)),I.length?c.a.createElement("div",{className:"project-list"},I.map(function(e){return c.a.createElement(u.a,{key:e.cid,app:e,dispatch:o})},this)):c.a.createElement(s.a,{team:t,handleNew:this.handleNew})))}}]),t}(c.a.Component);t.a=y,y.contextTypes={router:c.a.PropTypes.object},y.propTypes={team:c.a.PropTypes.object,order:c.a.PropTypes.string,keyword:c.a.PropTypes.string,projects:c.a.PropTypes.array,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(220),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=window,p=l.MB,d=l.I18N,f=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleChange=function(e){p.ga("send","event","feature","使用了搜索功能");var t=e.target.value.toLowerCase();o.props.dispatch({type:"container:listpage:set:keyword",payload:{keyword:t}})},o.handleClear=function(e){o.props.dispatch({type:"container:listpage:set:keyword",payload:{keyword:""}})},o.handleSortClick=function(e){p.ga("send","event","feature","点击了排序按钮"),o.props.dispatch({type:"entry:listpage:toggle:order"})},i=n,a(o,i)}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.keyword,n=e.placeholder,r=e.order,a=e.btnText,o=e.handleNew,i=this.handleChange,u=this.handleClear,l={asc:d.created_time,desc:d.updated_time};return c.a.createElement("div",{className:"header-actions"},c.a.createElement(s.a,{keyword:t,placeholder:n,handleClear:u,handleChange:i}),c.a.createElement("a",{className:"sort",onClick:this.handleSortClick},c.a.createElement("span",null,l[r]),c.a.createElement("i",{className:"fa fa-sort-amount-"+r})),c.a.createElement("a",{className:"btn btn-primary new",onClick:o},c.a.createElement("i",{className:"fa fa-plus"}),c.a.createElement("span",null,a)))}}]),t}(c.a.Component);t.a=f,f.propTypes={dispatch:c.a.PropTypes.func,handleNew:c.a.PropTypes.func,order:c.a.PropTypes.string,btnText:c.a.PropTypes.string,keyword:c.a.PropTypes.string,placeholder:c.a.PropTypes.string}},function(e,t,n){"use strict";var r=n(18),a=(n.n(r),n(221)),o=n(211),i=n(207),c=n(215),s=n(205),u=n(203),l={Header:n.i(r.connect)(function(e){return{userService:e.service.user}})(u.a),MyApps:n.i(r.connect)(function(e){return{projectService:e.service.project,listContainer:e.container.listpage}})(s.a),TeamList:n.i(r.connect)(function(e){return{teamService:e.service.team,listContainer:e.container.listpage}})(o.a),TeamApps:n.i(r.connect)(function(e){return{teamService:e.service.team,projectService:e.service.project,listContainer:e.container.listpage}})(i.a),Welcome:c.a};t.a={reducers:a.a,containers:l}},,function(e,t,n){"use strict";var r=n(227),a=n(228);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a});r.a},,,,function(e,t){e.exports={invisible:"_1x87K8eQ3ce_xOzwVtuavQ",preview_panel:"_13fX-Z6eUqJYQ--fN1qCQf",preview_panel_empty:"_3qexqoubp4mK09wedaAr0E",preview_panel_upper:"p2sUwe9RcaJ_Ks3Yth_zq",screen_count:"_1aaRR9LvRTxlXzsStKfZUW",preview_panel_content:"gRH0YCvWt4iXuONssnCOV",preview_panel_popup:"_1KlfzEcLUn7woeHCwTKUTl",preview_panel_popup_minified:"-PASx39HC8Ss8oQWWPjpX"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.readState=t.saveState=void 0;var a=n(17),o=(r(a),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),i={SecurityError:!0},c="@@History/",s=function(e){return c+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(s(e)):window.sessionStorage.setItem(s(e),JSON.stringify(t))}catch(e){if(i[e.name])return;if(o[e.name]&&0===window.sessionStorage.length)return;throw e}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(s(e))}catch(e){if(i[e.name])return}if(t)try{return JSON.parse(t)}catch(e){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(69),i=r(o),c=n(15),s=function(e){return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e(t),r=t.basename,o=function(e){return e?(r&&null==e.basename&&(0===e.pathname.indexOf(r)?(e.pathname=e.pathname.substring(r.length),e.basename=r,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},s=function(e){if(!r)return e;var t="string"==typeof e?(0,c.parsePath)(e):e,n=t.pathname,o="/"===r.slice(-1)?r:r+"/",i="/"===n.charAt(0)?n.slice(1):n,s=o+i;return a({},t,{pathname:s})},u=function(){return o(n.getCurrentLocation())},l=function(e){return n.listenBefore(function(t,n){return(0,i.default)(e,o(t),n)})},p=function(e){return n.listen(function(t){return e(o(t))})},d=function(e){return n.push(s(e))},f=function(e){return n.replace(s(e))},m=function(e){return n.createPath(s(e))},h=function(e){return n.createHref(s(e))},v=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return o(n.createLocation.apply(n,[s(e)].concat(r)))};return a({},n,{getCurrentLocation:u,listenBefore:l,listen:p,push:d,replace:f,createPath:m,createHref:h,createLocation:v})}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(56),i=n(69),c=r(i),s=n(26),u=n(15),l=function(e){return(0,o.stringify)(e).replace(/%20/g,"+")},p=o.parse,d=function(e){return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e(t),r=t.stringifyQuery,o=t.parseQueryString;"function"!=typeof r&&(r=l),"function"!=typeof o&&(o=p);var i=function(e){return e?(null==e.query&&(e.query=o(e.search.substring(1))),e):e},d=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,u.parsePath)(e):e,o=r(t),i=o?"?"+o:"";return a({},n,{search:i})},f=function(){return i(n.getCurrentLocation())},m=function(e){return n.listenBefore(function(t,n){return(0,c.default)(e,i(t),n)})},h=function(e){return n.listen(function(t){return e(i(t))})},v=function(e){return n.push(d(e,e.query))},y=function(e){return n.replace(d(e,e.query))},g=function(e){return n.createPath(d(e,e.query))},b=function(e){return n.createHref(d(e,e.query))},I=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var o=n.createLocation.apply(n,[d(e,e.query)].concat(r));return e.query&&(o.query=(0,s.createQuery)(e.query)),i(o)};return a({},n,{getCurrentLocation:f,listenBefore:m,listen:h,push:v,replace:y,createPath:g,createHref:b,createLocation:I})}};t.default=d},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);o&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var c=0;c<i.length;++c)if(!(r[i[c]]||a[i[c]]||n&&n[i[c]]))try{e[i[c]]=t[i[c]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=n(255),a=r.a.Symbol;t.a=a},function(e,t,n){"use strict";function r(e){if(!n.i(i.a)(e)||n.i(a.a)(e)!=c)return!1;var t=n.i(o.a)(e);if(null===t)return!0;var r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}var a=n(249),o=n(251),i=n(256),c="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,p=u.hasOwnProperty,d=l.call(Object);
t.a=r},function(e,t,n){var r=n(71),a=n(27),o=r(a,"Map");e.exports=o},function(e,t,n){var r=n(27),a=r.Symbol;e.exports=a},function(e,t,n){function r(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||a(e,t,n)}var a=n(70),o=n(46);e.exports=r},function(e,t,n){var r=n(71),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(24))},function(e,t,n){var r=n(306),a=r(Object.getPrototypeOf,Object);e.exports=a},function(e,t){function n(e,t){return t=null==t?r:t,!!t&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,a=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(266),a=n(33),o=Object.prototype,i=o.hasOwnProperty,c=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!c.call(e,"callee")};e.exports=s},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(27),a=n(318),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===o,s=c?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||a;e.exports=l}).call(t,n(49)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e){if(!i(e)||a(e)!=c)return!1;var t=o(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var a=n(43),o=n(120),i=n(33),c="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,p=u.hasOwnProperty,d=l.call(Object);e.exports=r},function(e,t,n){var r=n(268),a=n(275),o=n(304),i=o&&o.isTypedArray,c=i?a(i):r;e.exports=c},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return 0===e.button}function i(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function s(e,t){return"function"==typeof e?e(t.location):e}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),p=r(l),d=n(2),f=r(d),m=n(78),h=n(77),v=p.default.PropTypes,y=v.bool,g=v.object,b=v.string,I=v.func,w=v.oneOfType,C=p.default.createClass({displayName:"Link",mixins:[(0,h.ContextSubscriber)("router")],contextTypes:{router:m.routerShape},propTypes:{to:w([b,g,I]),query:g,hash:b,state:g,activeStyle:g,activeClassName:b,onlyActiveOnIndex:y.isRequired,onClick:I,target:b},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t?void 0:(0,f.default)(!1),!i(e)&&o(e)&&(this.props.target||(e.preventDefault(),t.push(s(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,r=e.activeStyle,o=e.onlyActiveOnIndex,i=a(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),l=this.context.router;if(l){if(null==t)return p.default.createElement("a",i);var d=s(t,l);i.href=l.createHref(d),(n||null!=r&&!c(r))&&l.isActive(d,o)&&(n&&(i.className?i.className+=" "+n:i.className=n),r&&(i.style=u({},i.style,r)))}return p.default.createElement("a",u({},i,{onClick:this.handleClick}))}});t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then}t.__esModule=!0,t.isPromise=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(0),o=r(a),i=n(2),c=r(i),s=n(16),u=n(29),l=n(34),p=o.default.PropTypes,d=p.string,f=p.object,m=o.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,s.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,a=e.params,o=void 0;if("/"===t.to.charAt(0))o=(0,u.formatPattern)(t.to,a);else if(t.to){var i=e.routes.indexOf(t),c=m.getRoutePattern(e.routes,i-1),s=c.replace(/\/*$/,"/")+t.to;o=(0,u.formatPattern)(s,a)}else o=r.pathname;n({pathname:o,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var a=e[r],o=a.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:d,from:d,to:d.isRequired,query:f,state:f,onEnter:l.falsy,children:l.falsy},render:function(){(0,c.default)(!1)}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){var r=o({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive});return a(r,n)}function a(e,t){var n=t.location,r=t.params,a=t.routes;return e.location=n,e.params=r,e.routes=a,e}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=r,t.assignRouterState=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,l.default)(e),n=function(){return t},r=(0,i.default)((0,s.default)(n))(e);return r}t.__esModule=!0,t.default=a;var o=n(111),i=r(o),c=n(110),s=r(c),u=n(248),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){var t=void 0;return i&&(t=(0,o.default)(e)()),t};var a=n(139),o=r(a),i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t,n){return t=e.createLocation(t),(0,d.default)(t,n,b.location,b.routes,b.params)}function r(e,n){I&&I.location===e?o(I,n):(0,v.default)(t,e,function(t,r){t?n(t):r?o(i({},r,{location:e}),n):n()})}function o(e,t){function n(n,a){return n||a?r(n,a):void(0,m.default)(e,function(n,r){n?t(n):t(null,null,b=i({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var a=(0,u.default)(b,e),o=a.leaveRoutes,c=a.changeRoutes,s=a.enterRoutes;(0,l.runLeaveHooks)(o,b),o.filter(function(e){return s.indexOf(e)===-1}).forEach(h),(0,l.runChangeHooks)(c,b,e,function(t,a){return t||a?r(t,a):void(0,l.runEnterHooks)(s,e,n)})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=w++)}function s(e){return e.map(function(e){return C[c(e)]}).filter(function(e){return e})}function p(e,n){(0,v.default)(t,e,function(t,r){if(null==r)return void n();I=i({},r,{location:e});for(var a=s((0,u.default)(b,I).leaveRoutes),o=void 0,c=0,l=a.length;null==o&&c<l;++c)o=a[c](e);n(o)})}function f(){if(b.routes){for(var e=s(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function h(e){var t=c(e);t&&(delete C[t],a(C)||(E&&(E(),E=null),M&&(M(),M=null)))}function y(t,n){var r=!a(C),o=c(t,!0);return C[o]=n,r&&(E=e.listenBefore(p),e.listenBeforeUnload&&(M=e.listenBeforeUnload(f))),function(){h(t)}}function g(t){function n(n){b.location===n?t(null,b):r(n,function(n,r,a){n?t(n):r?e.replace(r):a&&t(null,a)})}var a=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),a}var b={},I=void 0,w=1,C=Object.create(null),E=void 0,M=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:y,listen:g}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var c=n(30),s=(r(c),n(336)),u=r(s),l=n(333),p=n(340),d=r(p),f=n(337),m=r(f),h=n(342),v=r(h);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t){var n=(0,i.default)((0,s.default)(e))(t);return n}}t.__esModule=!0,t.default=a;var o=n(111),i=r(o),c=n(110),s=r(c);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.repeat=function(e,t){return new Array(t+1).join(e)},a=t.pad=function(e,t){return r("0",t-e.toString().length)+e};t.formatTime=function(e){return a(e.getHours(),2)+":"+a(e.getMinutes(),2)+":"+a(e.getSeconds(),2)+"."+a(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return("*"===e?w.wildcard:l.is.array(e)?w.array:l.is.func(e)?w.predicate:w.default)(e)}function s(e,t,n){function r(e){o(),n(e,!0)}function a(e){i.push(e),e.cont=function(a,o){s||((0,l.remove)(i,e),e.cont=l.noop,o?r(a):(e===t&&(c=a),i.length||(s=!0,n(c))))}}function o(){s||(s=!0,i.forEach(function(e){e.cont=l.noop,e.cancel()}),i=[])}var i=[],c=void 0,s=!1;return a(t),{addTask:a,cancelAll:o,abort:r,getTasks:function(){return i},taskNames:function(){return i.map(function(e){return e.name})}}}function u(e){function t(){X.isRunning&&!X.isCancelled&&(X.isCancelled=!0,r(I))}function n(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,J.cancelAll(),p(I))}function r(t,n){if(!X.isRunning)throw new Error("Trying to resume an already finished generator");try{var a=void 0;n?a=e.throw(t):t===I?(X.isCancelled=!0,r.cancel(),a=l.is.func(e.return)?e.return(I):{done:!0,value:I}):a=t===b?l.is.func(e.return)?e.return():{done:!0}:e.next(t),a.done?(X.isMainRunning=!1,X.cont&&X.cont(a.value)):w(a.value,W,"",r)}catch(e){X.isCancelled&&Y("error","uncaught at "+z,e.message),X.isMainRunning=!1,X.cont(e,!0)}}function p(t,n){e._isRunning=!1,F.close(),n?(t instanceof Error&&(t.sagaStack="at "+z+" \n "+(t.sagaStack||t.stack)),Q.cont||Y("error","uncaught",t.sagaStack||t.stack),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(t===I&&v&&Y("info",z+" has been cancelled",""),e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),Q.cont&&Q.cont(t,n),Q.joiners.forEach(function(e){return e.cb(t,n)}),Q.joiners=null}function w(e,t){function n(e,t){i||(i=!0,a.cancel=l.noop,H&&(t?H.effectRejected(o,e):H.effectResolved(o,e)),a(e,t))}var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],a=arguments[3],o=g();H&&H.effectTriggered({effectId:o,parentEffectId:t,label:r,effect:e});var i=void 0;n.cancel=l.noop,a.cancel=function(){if(!i){i=!0;try{n.cancel()}catch(e){Y("error","uncaught at "+z,e.message)}n.cancel=l.noop,H&&H.effectCancelled(o)}};var c=void 0;return l.is.promise(e)?C(e,n):l.is.iterator(e)?E(e,o,z,n):l.is.array(e)?N(e,o,n):l.is.notUndef(c=f.asEffect.take(e))?M(c,n):l.is.notUndef(c=f.asEffect.put(e))?j(c,n):l.is.notUndef(c=f.asEffect.race(e))?T(c,o,n):l.is.notUndef(c=f.asEffect.call(e))?_(c,o,n):l.is.notUndef(c=f.asEffect.cps(e))?k(c,n):l.is.notUndef(c=f.asEffect.fork(e))?A(c,o,n):l.is.notUndef(c=f.asEffect.join(e))?S(c,n):l.is.notUndef(c=f.asEffect.cancel(e))?P(c,n):l.is.notUndef(c=f.asEffect.select(e))?x(c,n):l.is.notUndef(c=f.asEffect.actionChannel(e))?O(c,n):l.is.notUndef(c=f.asEffect.cancelled(e))?D(c,n):n(e)}function C(e,t){var n=e[l.CANCEL];"function"==typeof n&&(t.cancel=n),e.then(t,function(e){return t(e,!0)})}function E(e,t,n,r){u(e,R,Z,G,B,t,n,r)}function M(e,t){var n=e.channel,r=e.pattern,a=e.maybe;n=n||F;var o=function(e){return e instanceof Error?t(e,!0):t((0,m.isEnd)(e)&&!a?b:e)};try{n.take(o,c(r))}catch(e){return t(e,!0)}t.cancel=o.cancel}function j(e,t){var n=e.channel,r=e.action,a=e.sync;(0,d.default)(function(){var e=void 0;try{e=(n?n.put:Z)(r)}catch(e){return t(e,!0)}return a&&l.is.promise(e)?void C(e,t):t(e)})}function _(e,t,n){var r=e.context,a=e.fn,o=e.args,i=void 0;try{i=a.apply(r,o)}catch(e){return n(e,!0)}return l.is.promise(i)?C(i,n):l.is.iterator(i)?E(i,t,a.name,n):n(i)}function k(e,t){var n=e.context,r=e.fn,a=e.args;try{r.apply(n,a.concat(function(e,n){return l.is.undef(e)?t(n):t(e,!0)}))}catch(e){return t(e,!0)}}function A(e,t,n){var r=e.context,a=e.fn,o=e.args,i=e.detached,c=void 0,s=void 0,p=void 0;try{c=a.apply(r,o)}catch(e){s=e}p=l.is.iterator(c)?c:s?(0,l.makeIterator)(function(){throw s}):(0,l.makeIterator)(function(){var e=void 0,t={done:!1,value:c},n=function(e){return{done:!0,value:e}};return function(r){return e?n(r):(e=!0,t)}}()),d.default.suspend();var f=u(p,R,Z,G,B,t,a.name,i?null:l.noop);i?n(f):p._isRunning?(J.addTask(f),n(f)):p._error?J.abort(p._error):n(f),d.default.flush()}function S(e,t){e.isRunning()?!function(){var n={task:Q,cb:t};t.cancel=function(){return(0,l.remove)(e.joiners,n)},e.joiners.push(n)}():e.isAborted()?t(e.error(),!0):t(e.result())}function P(e,t){e.isRunning()&&e.cancel(),t()}function N(e,t,n){function r(){a===i.length&&(o=!0,n(i))}if(!e.length)return n([]);var a=0,o=void 0,i=Array(e.length),c=e.map(function(e,t){var c=function(e,c){o||(c||(0,m.isEnd)(e)||e===b||e===I?(n.cancel(),n(e,c)):(i[t]=e,a++,r()))};return c.cancel=l.noop,c});n.cancel=function(){o||(o=!0,c.forEach(function(e){return e.cancel()}))},e.forEach(function(e,n){return w(e,t,n,c[n])})}function T(e,t,n){var r=void 0,a=Object.keys(e),o={};a.forEach(function(e){var t=function(t,a){r||(a?(n.cancel(),n(t,!0)):(0,m.isEnd)(t)||t===b||t===I||(n.cancel(),r=!0,n(i({},e,t))))};t.cancel=l.noop,o[e]=t}),n.cancel=function(){r||(r=!0,a.forEach(function(e){return o[e].cancel()}))},a.forEach(function(n){return w(e[n],t,n,o[n])})}function x(e,t){var n=e.selector,r=e.args;try{var a=n.apply(void 0,[G()].concat(o(r)));t(a)}catch(e){t(e,!0)}}function O(e,t){var n=e.pattern,r=e.buffer,a=c(n);a.pattern=n,t((0,m.eventChannel)(R,r||h.buffers.fixed(),a))}function D(e,t){t(!!X.isCancelled)}function L(e,t,r,o){var c,s,u;return r._deferredEnd=null,s={},i(s,l.TASK,!0),i(s,"id",e),i(s,"name",t),c="done",u={},u[c]=u[c]||{},u[c].get=function(){if(r._deferredEnd)return r._deferredEnd.promise;var e=(0,l.deferred)();return r._deferredEnd=e,r._isRunning||(r._error?e.reject(r._error):e.resolve(r._result)),e.promise},i(s,"cont",o),i(s,"joiners",[]),i(s,"cancel",n),i(s,"isRunning",function(){return r._isRunning}),i(s,"isCancelled",function(){return r._isCancelled}),i(s,"isAborted",function(){return r._isAborted}),i(s,"result",function(){return r._result}),i(s,"error",function(){return r._error}),a(s,u),s}var R=arguments.length<=1||void 0===arguments[1]?function(){return l.noop}:arguments[1],Z=arguments.length<=2||void 0===arguments[2]?l.noop:arguments[2],G=arguments.length<=3||void 0===arguments[3]?l.noop:arguments[3],B=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],W=arguments.length<=5||void 0===arguments[5]?0:arguments[5],z=arguments.length<=6||void 0===arguments[6]?"anonymous":arguments[6],U=arguments[7];(0,l.check)(e,l.is.iterator,y);var H=B.sagaMonitor,V=B.logger,Y=V||l.log,F=(0,m.eventChannel)(R);r.cancel=l.noop;var Q=L(W,z,e,U),X={name:z,cancel:t,isRunning:!0},J=s(z,X,p);return U&&(U.cancel=n),e._isRunning=!0,r(),Q}Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_CANCEL=t.CHANNEL_END=t.NOT_ITERATOR_ERROR=void 0,t.default=u;var l=n(11),p=n(349),d=r(p),f=n(48),m=n(47),h=n(80),v=!1,y=t.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",g=(0,l.autoInc)(),b=t.CHANNEL_END={toString:function(){return"@@redux-saga/CHANNEL_END"}},I=t.TASK_CANCEL={toString:function(){return"@@redux-saga/TASK_CANCEL"}},w={wildcard:function(){return l.kTrue},default:function(e){return function(t){return t.type===e}},array:function(e){return function(t){return e.some(function(e){return e===t.type})}},predicate:function(e){return function(t){return e(t)}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=o({},t,{_tick:0});return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments[1];return r.type===e?o({},t,r.payload,{_tick:t._tick+1}):t}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c={done:!0,value:null},s=function(){function e(t){var n=this;r(this,e),this.type=t,this.generator=null,this.observer=null,this.running=!1,this.isEnteredInput=!1,this.expect={},this.respond=c,this.contextObject={req:function(e){n.expect=[].concat(e).reduce(function(e,t){return e[t]=!0,e},{})},res:function(e){n.respond={done:!1,value:e}}}}return i(e,[{key:"linkGenerator",value:function(e,t){var n=this;this.generator=e(o({},this.contextObject,t)),this.generatorNext=function(e){n.respond=c,n.running&&(n.running=n.generator.next(e).done===!1)}}},{key:"linkObserver",value:function(e){this.observer=e}},{key:"start",value:function(e){this.running||(this.running=!0,this.next(e))}},{key:"input",value:function(e,t){var n=!1;return this.running&&this.expect[e]&&(this.isEnteredInput?console.error("[ReduxService][LiteCSP] unexpected re-entry of "+this.type+", key: "+e):this.isEnteredInput=!0,this.next(t),this.isEnteredInput=!1,n=!0),n}},{key:"next",value:function(e){for(this.generatorNext(e);this.observer&&this.running&&!this.respond.done;)this.observer(this.respond.value),!this.respond.done&&this.generatorNext(e)}},{key:"stop",value:function(e){this.running&&(this.generator.return(e),this.running=!1,this.expect={})}}]),e}(),u=["middleware","setEntry","setService","startService","startAllService","stopService"],l=function(){function e(){var t=this;r(this,e),this.store=null,this.entryMap={},this.serviceMap={},this.serviceGeneratorFunctionMap={},this.bindMap={},u.forEach(function(e){return t[e]=t.bindMap[e]=t[e].bind(t)})}return i(e,[{key:"middleware",value:function(e){var t=this;return this.setStore(e),function(e){return function(n){return t.onAction(n)||e(n)}}}},{key:"setStore",value:function(e){this.store=e}},{key:"setEntry",value:function(e,t){this.entryMap[e]&&console.warn("[ReduxService] possible unexpected entry overwrite:",e,t),this.entryMap[e]=t}},{key:"setService",value:function(e,t){this.serviceGeneratorFunctionMap[e]&&console.warn("[ReduxService] possible unexpected service overwrite:",e,t),this.serviceGeneratorFunctionMap[e]=t}},{key:"startService",value:function(e){var t=this,n=this.serviceGeneratorFunctionMap[e];if(!n)return console.warn("[ReduxService] service not found:",e);if(this.serviceMap[e])return console.warn("[ReduxService] service already started:",e);var r=new s(e);return r.linkGenerator(n,o({store:this.store},this.bindMap)),r.linkObserver(function(){var e;return(e=t.store).dispatch.apply(e,arguments)}),r.start(),r.running?void(this.serviceMap[e]=r):console.warn("[ReduxService] service failed to start:",e)}},{key:"startAllService",value:function(){for(var e in this.serviceGeneratorFunctionMap)!this.serviceMap[e]&&this.startService(e)}},{key:"stopService",value:function(e){var t=this.serviceMap[e];t&&(t.stop(),delete this.serviceMap[t.type])}},{key:"onAction",value:function(e){this.store||console.warn("[ReduxService] caught action before store configured:",e);var t=this.entryMap[e.type];if(t){var n=t(this.store,e);if(n)return!0}for(var r in this.serviceMap){var a=this.serviceMap[r];if(a.input(e.type,e))return a.running||delete this.serviceMap[a.type],!0}return!1}}]),e}();t.ReduxService=l,t.createSessionReducer=a,t.default={ReduxService:l,createSessionReducer:a}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],a=t.slice(0,-1);return function(){return a.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.a=r},function(e,t,n){"use strict";function r(e,t,o){function s(){g===y&&(g=y.slice())}function u(){return v}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return s(),g.push(e),function(){if(t){t=!1,s();var n=g.indexOf(e);g.splice(n,1)}}}function p(e){if(!n.i(a.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,v=h(v,e)}finally{b=!1}for(var t=y=g,r=0;r<t.length;r++)t[r]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,p({type:c.INIT})}function f(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(u())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[i.a]=function(){return this},e}var m;if("function"==typeof t&&"undefined"==typeof o&&(o=t,t=void 0),"undefined"!=typeof o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,v=t,y=[],g=y,b=!1;return p({type:c.INIT}),m={dispatch:p,subscribe:l,getState:u,replaceReducer:d},m[i.a]=f,m}var a=n(114),o=n(357),i=n.n(o);n.d(t,"b",function(){return c}),t.a=r;var c={INIT:"@@redux/INIT"}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(5),u=n.n(s),l=n(239),p=n.n(l);n.d(t,"a",function(){return m});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){return c.a.createElement("div",{className:"drop-caret"},c.a.createElement("span",{className:"caret-outer"}),c.a.createElement("span",{className:"caret-inner"}))},m=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDocClick=n.handleDocClick.bind(n),n.openDropdown=n.openDropdown.bind(n),n.closeDropdown=n.closeDropdown.bind(n),n.toggleDropDown=n.toggleDropDown.bind(n),n.onChildrenClick=n.onChildrenClick.bind(n),n.state={isOpen:!1},n}return o(t,e),d(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocClick,!1)}},{key:"handleDocClick",value:function(e){u.a.findDOMNode(this).contains(e.target)||this.closeDropdown()}},{key:"closeDropdown",value:function(e){this.setState({isOpen:!1})}},{key:"openDropdown",value:function(e){this.setState({isOpen:!0})}},{key:"toggleDropDown",value:function(e){this.state.isOpen?("function"==typeof this.props.onDropdownClose&&this.props.onDropdownClose(),this.closeDropdown()):("function"==typeof this.props.onDropdownOpen&&this.props.onDropdownOpen(),this.openDropdown())}},{key:"onChildrenClick",value:function(e){e.target.dataset.shouldClose&&this.closeDropdown()}},{key:"render",value:function(){var e=this,t=this.props,n=t.dropdownIcon,r=t.children,a=t.footer,o=this.state.isOpen;return c.a.createElement("div",{className:p.a.dropdown},c.a.createElement("div",{onClick:function(t){t.preventDefault(),e.toggleDropDown(t)}},n),!!o&&c.a.createElement("div",{className:"dropmenu"},c.a.createElement("div",{onClick:this.onChildrenClick},c.a.createElement(f,null),r,a)))}}]),t}(c.a.Component);m.propTypes={dropdownIcon:c.a.PropTypes.element,children:c.a.PropTypes.element,tabIndex:c.a.PropTypes.string,footer:c.a.PropTypes.oneOfType([c.a.PropTypes.element,c.a.PropTypes.bool]),onDropdownOpen:c.a.PropTypes.func,onDropdownClose:c.a.PropTypes.func},t.b=m},function(e,t,n){"use strict";t.a={prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到 1 分钟",minute:"大约 1 分钟",minutes:"%d 分钟",hour:"大约 1 小时",hours:"大约 %d 小时",day:"1 天",days:"%d 天",month:"大约 1 个月",months:"%d 月",year:"大约 1 年",years:"%d 年",numbers:[],wordSeparator:""}},,,,,,,,,,function(e,t,n){function r(e,t,n,r){var i=!n;n||(n={});for(var c=-1,s=t.length;++c<s;){var u=t[c],l=r?r(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?o(n,u,l):a(n,u,l)}return n}var a=n(263),o=n(70);e.exports=r},function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,c&&o(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var a=n(272),o=n(290);e.exports=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return r.take}}),Object.defineProperty(t,"takem",{enumerable:!0,get:function(){return r.takem}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return r.put}}),Object.defineProperty(t,"race",{enumerable:!0,get:function(){return r.race}}),Object.defineProperty(t,"call",{enumerable:!0,get:function(){return r.call}}),Object.defineProperty(t,"apply",{enumerable:!0,get:function(){return r.apply}}),Object.defineProperty(t,"cps",{enumerable:!0,get:function(){return r.cps}}),Object.defineProperty(t,"fork",{enumerable:!0,get:function(){return r.fork}}),Object.defineProperty(t,"spawn",{enumerable:!0,get:function(){return r.spawn}}),Object.defineProperty(t,"join",{enumerable:!0,get:function(){return r.join}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return r.cancel}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(t,"actionChannel",{enumerable:!0,get:function(){return r.actionChannel}}),Object.defineProperty(t,"cancelled",{enumerable:!0,get:function(){return r.cancelled}})},function(e,t){function n(e){if(e){var t=e.trim();return t=t.replace(/\.\d\d\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}}function r(e){return i.inWords(a(e))}function a(e){return(new Date).getTime()-e.getTime()}e.exports=function(e){return e instanceof Date?r(e):"string"==typeof e?r(n(e)):"number"==typeof e?r(new Date(e)):void 0};var o={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},i=o.strings;e.exports.settings=o,i.inWords=function(e){function t(t,n){var r="function"==typeof t?t(n,e):t,a=i.numbers&&i.numbers[n]||n;return r.replace(/%d/i,a)}var n=i.prefixAgo,r=i.suffixAgo;o.allowFuture&&e<0&&(n=i.prefixFromNow,r=i.suffixFromNow);var a=Math.abs(e)/1e3,c=a/60,s=c/60,u=s/24,l=u/365,p=a<45&&t(i.seconds,Math.round(a))||a<90&&t(i.minute,1)||c<45&&t(i.minutes,Math.round(c))||c<90&&t(i.hour,1)||s<24&&t(i.hours,Math.round(s))||s<48&&t(i.day,1)||u<30&&t(i.days,Math.floor(u))||u<60&&t(i.month,1)||u<365&&t(i.months,Math.floor(u/30))||l<2&&t(i.year,1)||t(i.years,Math.floor(l)),d=i.wordSeparator||"";return void 0===i.wordSeparator&&(d=" "),[n,p,r].join(d).toString().trim()},i.parse=n},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=window,l=u.$,p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){l(".modal").modal("hide"),l("#header .dropmenu").addClass("hidden");var e=this.refs.iframe.contentWindow;e.addEventListener("click",function(){document.body.click()})}},{key:"render",value:function(){var e=this.context.router.params.splat;return c.a.createElement("iframe",{ref:"iframe",className:"iframe",src:"/"+e,id:"container",allowFullScreen:"true"})}}]),t}(c.a.Component);t.a=p,p.contextTypes={router:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(240),u=(n.n(s),n(177)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=window,d=(p.MB,function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.wordify(),this.adjustSize()}},{key:"componentDidUpdate",value:function(e){e.title!==this.props.title&&(this.wordify(),this.adjustSize())}},{key:"wordify",value:function(){var e=this.refs.$rt.querySelector(".title-text");e.innerHTML=e.innerText.replace(u.a,'<span class="word" lang="en">$1</span>')}},{key:"adjustSize",value:function(){var e=this.props.bgColor,t=this.refs.$rt,n=t.querySelector(".tester"),r=t.querySelector(".title-text");
n&&(t.classList.remove("is-smaller","is-smallest","has-ellipsis"),n.remove()),t.insertAdjacentHTML("beforeend",'<div class="tester">'+t.innerHTML+"</div>");for(var a=["is-smaller","is-smallest"],o=t.querySelector(".tester .title-text"),i=r.clientWidth;a.length>0&&o.clientWidth>i;)t.classList.add(a.shift());var c=getComputedStyle(r),s=c.lineHeight,u=2*parseInt(s);r.clientHeight>u&&(t.style.maxHeight=parseInt(u)+"px",t.classList.add("has-ellipsis"),r.insertAdjacentHTML("beforeend",'<span class="ellipsis" style="top: '+s+"; height: "+s+"; background: linear-gradient(to right, #fff0 0%, "+e+' 75%);"></span>'))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,r=e.isHTML;return c.a.createElement("div",{ref:"$rt",className:"responsive-title "+t},r?c.a.createElement("span",{className:"title-text",dangerouslySetInnerHTML:{__html:n}}):c.a.createElement("span",{className:"title-text"},n))}}]),t}(c.a.Component));d.defaultProps={className:"",bgColor:"#fff"},d.propTypes={className:i.PropTypes.string,title:i.PropTypes.string,bgColor:i.PropTypes.string,isHTML:i.PropTypes.bool},t.a=d},function(e,t,n){"use strict";var r="['\"‘“\\(\\[¡¿⸘«‹‚“„]",a="['\"”’\\)\\]»›‛”‟‼‽⁇-⁉,.;:!?]",o="[\\/~\\-&‐-—_]",i="[A-Za-z0-9À-ÿĀ-ſƀ-ɏⱠ-Ɀ꜠-ꟿḀ-ỿ]",c="[0-9Ͱ-Ͽἀ-῿]",s="[0-9Ѐ-҂Ҋ-ӿԀ-ԯꙀ-ꙮ꙾-ꚗ]",u="[̀-᷀ͅ-᷿]",l="[҃-҉ⷠ-ⷿ꙯-꙽ꚟ]",p=""+i+u+"*",d=""+c+u+"*",f=""+s+l+"*",m=r+"|"+a+"|"+o;t.a=new RegExp("(("+p+"|"+d+"|"+f+"|"+m+")+)","gi")},function(e,t,n){"use strict";function r(e){var t=s()(),r=[t];return l({},n.i(i.createStore)(e,void 0,i.applyMiddleware.apply(void 0,r)),{startService:t.run})}function a(e,t){var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value;e.startService(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t();case 3:e.next=0;break;case 5:case"end":return e.stop()}},e,this)}))},c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)i()}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}}function o(e,t){var o=r(n.i(i.combineReducers)(e));return a(o,t),o}var i=n(81),c=n(348),s=n.n(c),u=n(347);n.n(u);t.a=o;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=e.serviceList,a=e.containerReducerMap,l=e.viewMap,p=e.extendCallback,d=new i.a;for(var f in l)d.setView(f,l[f]);var m=n.i(o.a)({entryMap:u({},s.a,{"entry:webpack-interface:view:call":function(e,t){var n=(t.type,t.payload);setTimeout(function(){return d.callViewMethod.apply(d,[n.name,n.method].concat(r(n.args||{})))},0)}}),serviceMap:t.reduce(function(e,t){return e[t]=c.a[t],e},{}),serviceReducerMap:t.reduce(function(e,t){return e[t]=c.b[t],e},{}),containerReducerMap:a}),h=m.store,v=m.reduxService;return v.startAllService(),d.setStore(h),p&&p(d),d}var o=n(96),i=n(104),c=n(195),s=n(180);t.a=a;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(13);n.d(t,"a",function(){return a});var a={"entry:service:init":function(e,t){var n=e.dispatch,a=r.a.MB.user||null;n({type:"service:user:init"}),n({type:"service:user:set:user",payload:{user:a}}),n({type:"service:team:init"}),n({type:"service:project:init"}),n({type:"service:screen:init"}),n({type:"service:collaborator:init"}),n({type:"service:comment:init"}),n({type:"service:inspect:init"})},"entry:inspect:clear":function(e,t){var n=e.dispatch,r=t.payload;n({type:"service:inspect:project:clear",payload:r}),n({type:"service:inspect:team:clear",payload:r})},"entry:inspect:team":function(e,t){var n=e.dispatch,r=t.payload;n({type:"service:inspect:team",payload:r})},"entry:inspect:project":function(e,t){var n=e.dispatch,r=t.payload;n({type:"service:inspect:project",payload:r})},"entry:inspect:screen":function(e,t){var n=e.dispatch,a=t.payload;n({type:"service:inspect:screen",payload:a}),n({type:"service:comment:inspect:screen",payload:a}),r.a.MB.runner.loadScreen(a.screen.cid)},"entry:external:inspect:screen":function(e,t){var n=e.dispatch,r=t.payload;n({type:"entry:webpack-interface:view:call",payload:{name:"screen",method:"update"}}),n({type:"entry:webpack-interface:view:call",payload:{name:"comment",method:"update"}}),n({type:"service:inspect:screen",payload:r}),n({type:"service:comment:inspect:screen",payload:r})},"entry:inspect:tick":function(e,t){var n=e.dispatch,a=r.a.MB.currentProject||null;if(a){var o=a.team_cid?r.a.SpineModel.Team.findByAttribute("cid",a.team_cid):null;o&&n({type:"entry:inspect:team",payload:{team:o}}),n({type:"entry:inspect:project",payload:{project:a}})}},"entry:comment:start":function(e,t){var n=e.dispatch;n({type:"entry:inspect:tick"}),n({type:"service:comment:start"})},"entry:screen:start":function(e,t){var n=e.dispatch;n({type:"entry:inspect:tick"}),n({type:"service:screen:start"})},"entry:comment:thread:create":function(e,t){var n=e.dispatch;r.a.MB.mp("创建了 CommentThread");var a=t.payload,o=a.message,i=a.top,c=a.left,s=r.a.SpineModel.requestCid("cmth");n({type:"service:comment:thread:create",payload:{cid:s,top:i,left:c}}),n({type:"service:comment:comment:create",payload:{thread_cid:s,message:o}})},"entry:refresh:team":function(e,t){var n=e.dispatch;n({type:"service:team:refresh"}),n({type:"service:collaborator:refresh"})},"entry:refresh:project":function(e,t){var n=e.dispatch;n({type:"service:project:refresh"}),n({type:"service:collaborator:refresh"})},"entry:service:team:delete":function(e,t){var n=e.dispatch,a=e.getState,o=t.payload,i=o.team,c=a().service.user.id;if(i.owner_id===c){if(i.cprojects().length>0)return void r.a.alert(r.a.I18N.delete_projects_first);r.a.confirm(r.a.I18N.are_you_sure)===!0&&n({type:"service:team:delete",payload:{team:i}})}else if(r.a.confirm(r.a.I18N.are_you_sure)){var s=i.collaboratorByUid(c);n({type:"service:collaborator:delete",payload:{collaborator:s}}),n({type:"service:team:delete",payload:{isLocal:!0,team:i}})}},"entry:service:project:delete":function(e,t){var n=e.dispatch,a=e.getState,o=t.payload,i=o.project,c=a().service.user.id;if(i.owner_id===c||i.canAdmin()&&i.team_cid)r.a.confirm(r.a.I18N.del_app_confirmation)===!0&&n({type:"service:project:delete",payload:{project:i}});else if(r.a.confirm(r.a.I18N.are_you_sure)){var s=r.a.SpineModel.Collaborator.select(function(e){return e.project_cid===i.cid&&e.user_id===c}),u=s[0];n({type:"service:collaborator:delete",payload:{collaborator:u}}),n({type:"service:project:delete",payload:{isLocal:!0,project:i}})}},"entry:listpage:toggle:order":function(e){var t=e.dispatch,n=e.getState,a=r.a.MB.preference(),o=n().container.listpage.order,i=void 0;o?(i="asc"===o?"desc":"asc",a.app_order=i,a.lsave()):i=a.app_order,t({type:"container:listpage:set:order",payload:{order:i}})},"entry:focus-element":function(e,t){var n=e.dispatch,r=e.getState,a=t.payload,o=a.focusType,i=a.element;return!(i&&!r().container.comment.isMinified)||(setTimeout(function(){switch(o){case"normal":i.focus&&i.focus();break;case"external":n({type:"entry:webpack-interface:observer:call",payload:{key:"focus-method:request-focus",args:[i]}}),i.focus&&i.focus()}},100),!0)},"service:comment:modify":function(e,t){var n=e.dispatch,r=t.payload,a=r.actionType,o=r.result;"service:comment:thread:create"!==a||!o.cid||0===o.left&&0===o.top||n({type:"container:comment:select",payload:{select:o.cid}})},"container:comment:select":function(e,t){var n=e.dispatch,a=e.getState,o=t.payload,i=a(),c=i.service,s=i.container,u=c.comment,l=u.commentThreadMap,p=u.commentListMap,d=l[s.comment.select];d&&o.select!==s.comment.select&&!p[d.cid].length&&n({type:"service:comment:thread:delete",payload:{commentThread:d}}),d&&r.a.MB.mp("打开了 CommentThread")}}},function(e,t,n){"use strict";var r=n(97),a=n(187);t.a={Preview:r.a,Workspace:a.a}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(0),o=n.n(a),i=n(5),c=n.n(i),s=n(18),u=(n.n(s),n(3)),l=(n.n(u),n(102)),p=n(184),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=window,m=f.$,h=function(){function e(){r(this,e),this.isInited=!1,this.rootElement=null}return d(e,[{key:"init",value:function(e){!this.isInited&&e&&(this.isInited=!0,this.rootElement=document.getElementById("workspace"))}},{key:"clear",value:function(e){this.isInited&&(this.stop(e),this.isInited=!1,this.rootElement=null)}},{key:"start",value:function(e){this.isInited&&(this.isStarted=!0)}},{key:"update",value:function(e){this.render(e)}},{key:"stop",value:function(e){this.isInited&&this.isStarted&&(e&&this.render(null),this.isStarted=!1)}},{key:"render",value:function(e){if(this.isInited){var t=function(e){var t=e.children;e.location.pathname;return o.a.createElement("div",null,t)};t.propTypes={children:o.a.PropTypes.element,location:o.a.PropTypes.object},c.a.render(e?o.a.createElement(s.Provider,{store:e},o.a.createElement(u.Router,{history:u.browserHistory},o.a.createElement(u.Redirect,{from:"/workspace",to:"/workspace/apps"}),o.a.createElement(u.Route,{path:"/workspace",component:t},n.i(p.a)(e),n.i(p.b)(e),n.i(p.c)(e)),o.a.createElement(u.Redirect,{from:"*",to:"/workspace/apps"}))):o.a.createElement("div",null),this.rootElement)}}}]),e}();t.a={serviceList:["user","team","project","collaborator"],containerReducerMap:{listpage:l.a.reducers},viewMap:{listpage:new h},extendCallback:function(e){e.navigateTo=function(e,t){u.browserHistory.push({pathname:e,state:t})},e.replace=function(e){u.browserHistory.replace(e)},e.goBack=function(e){m("#workspace").data("state",e),u.browserHistory.goBack()},e.getState=function(){return u.browserHistory.getCurrentLocation().state}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=v("#design");t.one("animationend",function(){t.removeClass("enter"),v("#links").show(),e&&e()}),t.show().addClass("enter")}function c(e){y.ga("send","event","goal","进入了编辑界面"),y.setProject(e),y.renderDesigner(),y.designer.updateScreenContainer();var t=v("#workspace").data("state"),n=t&&t.screenCid,r=w.find(n);y.currentScreen=r||y.project().homeScreen();var a=t&&t.leftNavTab;y.renderLeftNav(a),y.renderScreen(),y.renderRightNav("screens"),y.assetUploader=y.iconsManager=null,y.renderIcons(),y.renderAssetUploader(),y.renderToolboxes(),y.webpackInterface&&y.webpackInterface.refreshProject(),"combo"===y.currentProject.type()&&(v("#screens").css("right",0),v("#screens").perfectScrollbar("update"),C.renderRuler(y.currentScreen))}function s(){var e=w.find(v("#screen").data("cid"));if(e.cid===y.currentScreen.cid){var t=v("#screen").data("state_cid");C.updateState(y.currentScreen,t),C.renderRuler(y.currentScreen),y.currentScreen.setState(t,!0),y.renderLinks()}else C.activate(y.currentScreen);y.renderRightNav()}function u(){C.activate(y.currentScreen);var e=v("#workspace"),t=e.data("state");if(t){var n=t.stateCid;e.data("state",null),C.updateState(y.currentScreen,n),y.currentScreen.setState(n,!0)}}function l(e){var t=function(e,t,n){var r=e.params.cid,a=g.find(r)||b.find(r)||I.find(r),o=v("#preview").data("visible");o?(v("#preview").data("visible",!1),n(),i(function(){s()})):a?a.download(function(){0===a.cscreens().length&&setTimeout(function(){window.alert(window.I18N.error_project),y.webpackInterface.deleteProjectByCid(a.cid,!1),y.webpackInterface.navigateTo("/workspace/apps")}),n(),c(a),i(function(){u()})},function(){v("#safemode").hide(),t("/workspace/apps"),n()}):(t("/workspace/apps"),n())};return d.a.createElement(f.Route,{path:"apps/:cid",component:E,onEnter:t})}var p=n(0),d=n.n(p),f=n(3);n.n(f);t.a=l;var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=window,v=h.$,y=h.MB,g=h.Project,b=h.Template,I=h.Combo,w=h.Screen,C=h.ScreenManager,E=(h.Panel,h.PanelManager,function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"render",value:function(){return null}}]),t}(d.a.Component));E.contextTypes={router:d.a.PropTypes.object}},function(e,t,n){"use strict";var r=n(185);n.d(t,"a",function(){return r.a});var a=n(183);n.d(t,"b",function(){return a.a});var o=n(186);n.d(t,"c",function(){return o.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=function(t,n,r){y.currentProject=y.currentScreen=null,y.pusher.subscribed=[],v("#workspace").data("enter",!0),v("#design").find("[data-reactroot]").each(function(e,t){l.a.unmountComponentAtNode(t.parentNode)}),v("#design").html("").hide(),e.dispatch({type:"entry:refresh:team"}),e.dispatch({type:"entry:refresh:project"}),e.dispatch({type:"entry:listpage:toggle:order"}),r()},n=function(){e.dispatch({type:"container:listpage:set:order",payload:{order:""}})},r=function(){e.dispatch({type:"container:listpage:set:keyword",payload:{keyword:""}})};return s.a.createElement(p.Route,{path:"/workspace",component:M,onEnter:t,onLeave:n,onChange:r},s.a.createElement(p.Route,{path:"apps",component:I}),s.a.createElement(p.Route,{path:"teams",component:j},s.a.createElement(p.IndexRoute,{component:w}),s.a.createElement(p.Route,{path:":tcid",component:C}),s.a.createElement(p.Route,{path:":tcid/start",component:E})),s.a.createElement(p.Route,{path:"page/**",component:f.a}),s.a.createElement(p.Route,{path:"start",component:E}))}var c=n(0),s=n.n(c),u=n(5),l=n.n(u),p=n(3),d=(n.n(p),n(102)),f=n(175);t.a=i;var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=window,v=h.$,y=h.MB,g=d.a.containers,b=g.Header,I=g.MyApps,w=g.TeamList,C=g.TeamApps,E=g.Welcome,M=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"componentDidMount",value:function(){this.enterAnimation()}},{key:"enterAnimation",value:function(){var e=v("#list-page");e.one("animationend",function(){e.removeClass("enter")}),e.show().addClass("enter")}},{key:"render",value:function(){return s.a.createElement("section",{id:"list-page"},s.a.createElement(b,null),this.props.children)}}]),t}(s.a.Component);M.propTypes={children:s.a.PropTypes.element.isRequired};var j=function(e){var t=e.children;return s.a.createElement("div",null,t)};j.propTypes={children:s.a.PropTypes.element.isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=function(e,t,n){var r=e.params.cid;f.currentProject?n():(t("/workspace/apps/"+r),n())};return s.a.createElement(u.Route,{path:"apps/:cid/preview",component:m,onEnter:t})}var c=n(0),s=n.n(c),u=n(3);n.n(u);t.a=i;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=window,d=p.$,f=p.MB,m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.enterAnimation(),this.launch(),d("#preview").on("click","a.design",f.designer.backDesign),d("#workspace").data("prevScale",f.currentProject.scale)}},{key:"componentWillUnmount",value:function(){f.runner.clear();var e=d("#workspace").data("prevScale");f.project().scale=e,f.project().lsave(!1),d("body").data("scale",e),d("#preview").html("").hide(),d("#preview").off("click")}},{key:"enterAnimation",value:function(){var e=d("#preview");e.one("animationend",function(){e.removeClass("enter")}),e.show().addClass("enter")}},{key:"launch",value:function(){d("#preview").data("visible",!0),d("#screen").data("state_cid",f.currentScreen.state_cid),f.runner.render(f.project().cid,d("#screen").data("cid"))}},{key:"render",value:function(){return s.a.createElement("section",{id:"preview"})}}]),t}(s.a.Component)},function(e,t,n){"use strict";var r=n(20),a=n(104),o=n(97),i=n(182),c={extendCallback:function(e){e.refreshTeam=function(){e.store.dispatch({type:"entry:refresh:team"})},e.refreshProject=function(){e.store.dispatch({type:"entry:refresh:project"})},e.deleteProjectByCid=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.store.getState().service.project.projectMap[t];r&&e.store.dispatch({type:"service:project:delete",payload:{isLocal:n,project:r}})},e.deleteTeamByCid=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.store.getState().service.team.teamMap[t];r&&e.store.dispatch({type:"service:team:delete",payload:{isLocal:n,team:r}})},e.checkHash=function(e,t){},e.updateCurrentScreen=function(){var t=r.a.MB.currentScreen||null;return t?void e.store.dispatch({type:"entry:external:inspect:screen",payload:{screen:t}}):console.warn("[CommentView][update] missing screen")}}};t.a=n.i(a.b)([o.a,i.a,c])},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t,n,r,a,o,i=e.req,c=e.res,s=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.getState().service,n=t.user,r=t.team,a=t.project,n){e.next=3;break}throw new Error("[Error][service:collaborator] service User required");case 3:if(r){e.next=5;break}throw new Error("[Error][service:collaborator] service Team required");case 5:if(a){e.next=7;break}throw new Error("[Error][service:collaborator] service Project required");case 7:return e.next=9,i("service:collaborator:init");case 9:l(y,s);case 10:return e.next=13,c({type:"reducer:collaborator:update",payload:y});case 13:return e.next=15,i(["service:collaborator:create","service:collaborator:update","service:collaborator:delete","service:collaborator:start","service:collaborator:stop","service:collaborator:refresh"]);case 15:o=e.sent,e.t0=o.type,e.next="service:collaborator:create"===e.t0?19:"service:collaborator:update"===e.t0?19:"service:collaborator:delete"===e.t0?19:"service:collaborator:start"===e.t0?21:"service:collaborator:stop"===e.t0?24:"service:collaborator:refresh"===e.t0?26:28;break;case 19:return g[o.type]&&g[o.type](y,s,o.payload),e.abrupt("break",28);case 21:return u(y,s),y.isActive=!0,e.abrupt("break",28);case 24:return y.isActive=!1,e.abrupt("break",28);case 26:return u(y,s),e.abrupt("break",28);case 28:e.next=10;break;case 30:case"end":return e.stop()}},h[0],this)}function o(e,t,n){var r=t.getState;if(!n.email)return console.warn("[Collaborator] collaborator with no email",n);var a=e.collaboratorList,o=e.collaboratorMap,i=e.collaboratorUserMap,s=e.collaboratorProjectListMap,u=e.collaboratorTeamListMap;if(o[n.cid])return console.warn("[Collaborator] try to create duplicate collaborator",n);var l=r().service,f=l.user.id,m=l.team.teamUserMap[f]||{},h=l.project.projectUserMap[f]||{};n.isDirect=Boolean(n.user_id!==f&&(h[n.project_cid]||m[n.team_cid])),a.push(n),o[n.cid]=n,n.user_id&&d(i,n.user_id,n.cid,n),n.team_cid&&p(u,n.team_cid,n),n.project_cid&&p(s,n.project_cid,n),c(e,n)}function i(e,t,n){var r=e.collaboratorList,a=e.collaboratorMap,o=e.collaboratorUserMap,i=e.collaboratorProjectListMap,c=e.collaboratorTeamListMap;a[n.cid]&&(f(r,n),delete a[n.cid],n.user_id&&delete o[n.user_id][n.cid],n.team_cid&&f(c[n.team_cid],n),n.project_cid&&f(i[n.project_cid],n),s(e,n))}function c(e,t){var n=e.uniqueCollaboratorMap[t.email]||function(t){var n=t.email,r=t.name,a=t.avatar,o=t.user_id,i={email:n,name:r||null,user_id:o||null,avatar:a||v,collaboratorList:[],isInPlan:!1};return e.uniqueCollaboratorList.push(i),e.uniqueCollaboratorMap[n]=i,o&&(e.uniqueCollaboratorUserMap[o]=i),e.promptMap[i.email.trim().toLowerCase()]=i,i.name&&(e.promptMap[i.name.trim().toLowerCase()]=i),i}(t);t.isDirect&&!n.isInPlan&&(e.planUniqueCollaboratorList.push(n),n.isInPlan=!0),n.collaboratorList.push(t)}function s(e,t){var n=e.uniqueCollaboratorMap[t.email];n&&(n&&f(n.collaboratorList,t),n.collaboratorList.length||(f(e.uniqueCollaboratorList,n),f(e.planUniqueCollaboratorList,n),delete e.uniqueCollaboratorMap[n.email],n.user_id&&delete e.uniqueCollaboratorUserMap[n.user_id],delete e.promptMap[n.email.trim().toLowerCase()],n.name&&delete e.promptMap[n.name.trim().toLowerCase()]))}function u(e,t){var n=t.getState().service;n.team.teamList.forEach(function(n){return b(e,t,n,!0)}),n.project.projectList.forEach(function(n){return b(e,t,n,!1)})}function l(e,t){var n=m.a.SpineModel.Collaborator.all();u(e,t),n.forEach(function(n){return o(e,t,n)})}function p(e,t,n){e[t]?e[t].push(n):e[t]=[n]}function d(e,t,n,a){e[t]?e[t][n]=a:e[t]=r({},n,a)}function f(e,t){var n=e.indexOf(t);return n>=0?e.splice(t,1)[0]:null}var m=n(13),h=[a].map(regeneratorRuntime.mark),v="/images/avatar.png",y={isActive:!1,collaboratorList:[],collaboratorMap:{},collaboratorUserMap:{},collaboratorTeamListMap:{},collaboratorProjectListMap:{},uniqueCollaboratorList:[],planUniqueCollaboratorList:[],uniqueCollaboratorMap:{},uniqueCollaboratorUserMap:{},promptMap:{}},g={"service:collaborator:create":function(e,t,n){var r=n.isLocal,a=n.email,i=n.role,c=n.name,s=n.user_id,u=n.cid,l=n.team_cid,p=n.project_cid,d=n.avatar,f=t.getState().service.inspect.collaborator.userData||{},h=new m.a.SpineModel.Collaborator({email:a,role:i,name:c,user_id:s,cid:u||m.a.SpineModel.requestCid("co"),team_cid:l||f.team_cid||null,project_cid:p||f.project_cid||null,avatar:d||v});return h.lsave(!r),!r&&m.a.SpineModel.queueSave(),o(e,t,h),h},"service:collaborator:update":function(e,t,n){var r=n.isLocal,a=n.collaborator,o=n.role;return a.role=o,a.lsave(!r),!r&&m.a.SpineModel.queueSave(),a},"service:collaborator:delete":function(e,t,n){var r=n.isLocal,a=n.collaborator;return a.ldestroy(!r),!r&&m.a.SpineModel.queueSave(),i(e,t,a),a}},b=function(e,t,n,r){var a="co_MOCK_"+n.cid;e.collaboratorMap[a]||g["service:collaborator:create"](e,t,{isLocal:!0,cid:a,role:"owner",user_id:n.owner_id,name:n.owner_name,email:n.owner_email||"email_MOCK_"+n.owner_id,avatar:n.owner_avatar,team_cid:r?n.cid:null,project_cid:r?null:n.cid})};t.a={name:"collaborator",type:"collaborator",session:y,service:a}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return JSON.parse(f.a.Storage[e+"_commentTick"]||"{}")}function o(e,t){f.a.Storage[e+"_commentTick"]=JSON.stringify(t)}function i(e,t){var n=a(e);n[t]=Math.floor(.001*Date.now()+2),o(e,n)}function c(){for(var e=.001*Date.now()-2592e3,t=[],n=function(n,r){var a=f.a.Storage.key(n);if(!a.endsWith("_commentTick"))return"continue";var o=JSON.parse(f.a.Storage[a]||"{}");return Object.keys(o).find(function(t){return o[t]>=e})?"continue":void t.push(a)},r=0,a=f.a.Storage.length;r<a;r++){n(r,a)}t.forEach(function(e){return f.a.Storage.removeItem(e)})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e[t]=(e[t]||0)+n}function u(e){var t,n,r,a,o,c=this,u=e.req,p=e.res,m=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("service:comment:init");case 2:return g.commentThreadList=[],g.commentThreadMap={},g.commentListMap={},g.commentMap={},g.screenThreadCountMap={},g.tickData=null,e.next=11,p({type:"reducer:comment:update",payload:g});case 11:return e.next=13,u("service:comment:start");case 13:t=m.getState().service,n=t.inspect,r=n.collaborator,a=n.project,f.a.SpineModel.CommentThread.all().forEach(function(e){return s(g.screenThreadCountMap,e.screen_cid)}),g.tickData=new y,"guest"!==r.userRole&&g.tickData.init(a.data.cid),g.isActive=!0,o=regeneratorRuntime.mark(function e(){var t,n,r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({type:"reducer:comment:update",payload:g});case 2:return t=m.getState().service,n=t.inspect,r=n.collaborator,a=n.project,o=n.screen,"guest"!==r.userRole&&a.data&&o.data&&i(a.data.cid,o.data.cid),e.next=7,u(["service:comment:inspect:screen","service:comment:comment:create","service:comment:comment:update","service:comment:comment:delete","service:comment:thread:create","service:comment:thread:update","service:comment:thread:delete","service:comment:read-comment","service:comment:push-data","service:comment:stop"]);case 7:s=e.sent,function(){switch(s.type){case"service:comment:stop":g.isActive=!1;break;case"service:comment:inspect:screen":l(g,m,s.payload);break;case"service:comment:read-comment":g.tickData&&g.tickData.popUnreadComment(s.payload.comment);break;default:var e=m.getState().service,t=w[e.inspect.collaborator.userRole]?d(s.type,g,m,s.payload,!1):null;if(t){var n=g.commentThreadList,r=g.screenThreadCountMap;r[e.inspect.screen.data.cid]=n.length,setTimeout(function(){return m.dispatch({type:"service:comment:modify",payload:{result:t,actionType:s.type}})},0)}}}();case 9:case"end":return e.stop()}},e,c)});case 20:if(!g.isActive){e.next=24;break}return e.delegateYield(o(),"t0",22);case 22:e.next=20;break;case 24:e.next=2;break;case 26:case"end":return e.stop()}},v[0],this)}function l(e,t,n){var r=t.getState,a=r().service,o=a.inspect.screen.data.cid,i=[],c={},s={},u={};f.a.SpineModel.CommentThread.all().forEach(function(e){e.screen_cid===o&&(i.push(e),c[e.cid]=e,s[e.cid]=[],e.permission=p(a,e.user_id))}),f.a.SpineModel.Comment.all().forEach(function(e){var t=s[e.thread_cid];t&&(t.push(e),u[e.cid]=e,e.message=e.message||"",e.permission=p(a,e.user_id),e.collaborator=a.collaborator.uniqueCollaboratorUserMap[e.user_id])}),i.sort(b);for(var l in s)s[l].sort(b);e.commentThreadList=i,e.commentThreadMap=c,e.commentListMap=s,e.commentMap=u}function p(e,t){var n=e.inspect.collaborator.userRole,r=w[n]||!1,a=r&&e.user.id===t,o=a||C[n]||!1;return I[(r?1:0)+(a?2:0)+(o?4:0)]}function d(e,t,n,r,a){var o=E[e];return o?o(t,n,r,a):null}var f=n(13),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=[u].map(regeneratorRuntime.mark),y=function(){function e(){r(this,e),this.unreadCommentMap={},this.unreadCountThreadMap={},this.unreadCountScreenMap={}}return h(e,[{key:"init",value:function(e){var t=this,n=f.a.SpineModel.CommentThread.all(),r=a(e),i={},u={};n.forEach(function(e){var t=e.cid,n=e.screen_cid;u[t]=n,i[n]=r[n]}),f.a.SpineModel.Comment.all().forEach(function(e){(i[u[e.thread_cid]]||0)<e.updated_at&&(t.unreadCommentMap[e.cid]=!0,s(t.unreadCountThreadMap,e.thread_cid))}),n.forEach(function(e){t.unreadCountThreadMap[e.cid]&&s(t.unreadCountScreenMap,e.screen_cid,t.unreadCountThreadMap[e.cid])}),o(e,i),c()}},{key:"addUnreadCount",value:function(e,t){s(this.unreadCountThreadMap,e.thread_cid,t);var n=f.a.SpineModel.CommentThread.findByAttribute("cid",e.thread_cid);n&&s(this.unreadCountScreenMap,n.screen_cid,t)}},{key:"pushUnreadComment",value:function(e){this.unreadCommentMap[e.cid]||(this.unreadCommentMap[e.cid]=!0,this.addUnreadCount(e,1))}},{key:"popUnreadComment",value:function(e){this.unreadCommentMap[e.cid]&&(delete this.unreadCommentMap[e.cid],this.addUnreadCount(e,-1))}}]),e}(),g={isActive:!1,commentThreadList:[],commentThreadMap:{},commentListMap:{},commentMap:{},screenThreadCountMap:{},tickData:null},b=function(e,t){return e.created_at-t.created_at},I=[0,1,2,3,4,5,6,7].map(function(e){return{create:!!(1&e),update:!!(2&e),delete:!!(4&e)}}),w={owner:!0,admin:!0,editor:!0,viewer:!0},C={owner:!0,admin:!0},E={"service:comment:thread:create":function(e,t,n){var r=t.getState,a=n.left,o=n.top,i=n.cid,c=r().service,s=.001*Date.now(),u=new f.a.SpineModel.CommentThread({cid:i||f.a.SpineModel.requestCid("cmth"),screen_cid:c.inspect.screen.data.cid,user_id:c.user.id,created_at:s,updated_at:s});return u.setLeft(a),u.setTop(o),u.lsave(!1),u.permission=p(c,u.user_id),e.commentThreadList.push(u),e.commentThreadMap[u.cid]=u,e.commentListMap[u.cid]=[],u},"service:comment:thread:update":function(e,t,n){var r=(t.getState,n.commentThread),a=n.left,o=n.top;if(!r.permission.update)return null;var i=0===e.commentListMap[r.cid].length,c=.001*Date.now();return r.setLeft(a),r.setTop(o),r.updated_at=c,r.lsave(!i),!i&&f.a.SpineModel.queueSave(),r},"service:comment:thread:delete":function(e,t,n){var r=(t.getState,n.commentThread);if(!r.permission.delete)return null;var a=e.commentThreadList.findIndex(function(e){return e===r});return a>=0&&e.commentThreadList.splice(a,1),delete e.commentThreadMap[r.cid],delete e.commentListMap[r.cid],r.ldestroy(),f.a.SpineModel.queueSave(),r},"service:comment:comment:create":function(e,t,n){var r=t.getState,a=n.thread_cid,o=n.message,i=r().service,c=.001*Date.now(),s=new f.a.SpineModel.Comment({cid:f.a.SpineModel.requestCid("cm"),thread_cid:a,message:o,user_id:i.user.id,created_at:c,updated_at:c});if(0===e.commentListMap[a].length){var u=e.commentThreadMap[a];u.lsave(!0)}return s.lsave(),f.a.SpineModel.queueSave(),s.permission=p(i,s.user_id),s.collaborator=i.inspect.collaborator.userData,e.commentListMap[a].push(s),e.commentMap[s.cid]=s,s},"service:comment:comment:update":function(e,t,n){var r=(t.getState,n.comment),a=n.message;if(!r.permission.update)return null;var o=.001*Date.now();return r.message=a,r.updated_at=o,r.lsave(),f.a.SpineModel.queueSave(),r},"service:comment:comment:delete":function(e,t,n){var r=(t.getState,n.comment);if(!r.permission.delete)return null;var a=e.commentListMap[r.thread_cid],o=a?a.findIndex(function(e){return e===r}):0;return o>=0&&a.splice(o,1),delete e.commentMap[r.cid],r.ldestroy(),f.a.SpineModel.queueSave(),
r},"service:comment:push-data":function(e,t,n){var r=t.getState,a=n.pushType,o=n.action,i=n.data,c=n.record,s=r().service,u=function(){switch(a){case"thread":if(i.screen_cid!==s.inspect.screen.data.cid)return{v:null};var t=e.commentThreadMap[i.cid]||null;if("update"===o)t||(t=c,t.permission=p(s,t.user_id),e.commentThreadList.push(t),e.commentThreadMap[t.cid]=t,e.commentListMap[t.cid]=[]);else if("destroy"===o&&t){var n=e.commentThreadList.findIndex(function(e){return e===t});n>=0&&e.commentThreadList.splice(n,1),delete e.commentThreadMap[t.cid],delete e.commentListMap[t.cid]}return{v:t};case"comment":if(!e.commentThreadMap[i.thread_cid])return{v:null};var r=e.commentMap[i.cid]||null;if("update"===o)r||(r=c,r.permission=p(s,r.user_id),r.collaborator=s.collaborator.uniqueCollaboratorUserMap[r.user_id],e.commentListMap[r.thread_cid].push(r),e.commentMap[r.cid]=r),e.tickData.pushUnreadComment(i);else if("destroy"===o&&r){var u=e.commentListMap[r.thread_cid],l=u?u.findIndex(function(e){return e===r}):0;l>=0&&u.splice(l,1),delete e.commentMap[r.cid]}return{v:r}}}();return"object"===("undefined"==typeof u?"undefined":m(u))?u.v:null}};t.a={name:"comment",type:"comment",service:u,session:g}},function(e,t,n){"use strict";function r(e){var t,n,r=e.req,a=e.res,o=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("service:inspect:init");case 2:return e.next=5,a({type:"reducer:inspect:update",payload:s});case 5:return e.next=7,r(["service:inspect:team","service:inspect:team:clear","service:inspect:project","service:inspect:project:clear","service:inspect:screen","service:inspect:screen:clear"]);case 7:t=e.sent,n=u[t.type],n&&n(s,o,t.payload),e.next=2;break;case 12:case"end":return e.stop()}},c[0],this)}function a(e){switch(e){case"owner":case"admin":case"editor":case"viewer":return e;default:return"guest"}}function o(e,t,n){e[t]?e[t].push(n):e[t]=[n]}var i=n(13),c=[r].map(regeneratorRuntime.mark),s={team:{data:null},project:{data:null,type:"",screenList:[],screenMap:{},screenRootList:[]},screen:{data:null},collaborator:{type:"",ownerData:null,userData:null,userRole:"guest"}},u={"service:inspect:team":function(e,t,n){var r=n.team;e.team.data=r,u["service:inspect:collaborator"](e,t,{team:r})},"service:inspect:team:clear":function(e,t,n){e.team.data=null,u["service:inspect:collaborator:clear"](e,t,n)},"service:inspect:project":function(e,t,n){var r=n.project;e.project.data=r,e.project.type=r.team_cid?"team-project":"project";var a=r.cid,c=[],s={},l={};i.a.SpineModel.Screen.all().forEach(function(e){e.project_cid===a&&(e.displayName=i.a.MB.unescape(e.name),c.push(e),s[e.cid]=e,o(l,e.parent_cid||"ROOT_SCREEN",e))});var p=[];for(var d in l){var f=l[d];if(f.sort(function(e,t){return e.position-t.position}),"ROOT_SCREEN"===d)p=f;else{var m=s[d];m?m.subScreens=f:console.warn("[buildScreenMap] missing parentScreen for",d,f)}}e.project.screenList=c,e.project.screenMap=s,e.project.screenRootList=p,"project"===e.project.type&&u["service:inspect:collaborator"](e,t,{project:r})},"service:inspect:project:clear":function(e,t,n){"project"===e.project.type&&u["service:inspect:collaborator:clear"](e,t,n),e.project.data=null,e.project.type="",e.project.screenList=[],e.project.screenMap={},e.project.screenRootList=[]},"service:inspect:collaborator":function(e,t,n){var r=n.team,o=n.project,i=t.getState().service,c=i.collaborator,s=c.uniqueCollaboratorUserMap,u=c.collaboratorTeamListMap,l=c.collaboratorProjectListMap,p=c.collaboratorList;if(e.collaborator.type=r?"team":o?"project":"",e.collaborator.type){var d=s[i.user.id];e.collaborator.ownerData=r&&u[r.cid]&&u[r.cid].find(function(e){return"owner"===e.role})||o&&l[o.cid]&&l[o.cid].find(function(e){return"owner"===e.role})||null,e.collaborator.userData=d?r?d.collaboratorList.find(function(e){return e.team_cid===r.cid}):o?d.collaboratorList.find(function(e){return e.project_cid===o.cid}):null:null,e.collaborator.userRole=a(e.collaborator.userData&&e.collaborator.userData.role);var f={},m=r?function(e){e.team_cid===r.cid}:o?function(e){e.project_cid===o.cid}:function(e){return!1};p.forEach(function(e){"owner"!==e.role&&m(e)&&(f[e.email.trim().toLowerCase()]=!0,e.name&&(f[e.name.trim().toLowerCase()]=!0))}),e.collaborator.promptExcludeMap=f}},"service:inspect:collaborator:clear":function(e,t,n){e.collaborator.type="",e.collaborator.ownerData=null,e.collaborator.userData=null,e.collaborator.userRole="guest",e.collaborator.promptExcludeMap={}},"service:inspect:screen":function(e,t,n){var r=n.screen;e.screen.data=r},"service:inspect:screen:clear":function(e,t,n){e.screen.data=null}};t.a={name:"inspect",type:"inspect",session:s,service:r}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t,n=e.req,r=e.res,a=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("service:project:init");case 2:o(d,a);case 3:return e.next=6,r({type:"reducer:project:update",payload:d});case 6:return e.next=8,n(["service:project:refresh","service:project:clear","service:project:delete"]);case 8:t=e.sent,e.t0=t.type,e.next="service:project:refresh"===e.t0?12:"service:project:clear"===e.t0?14:"service:project:delete"===e.t0?16:18;break;case 12:return i(d,a,t.payload),e.abrupt("break",18);case 14:return s(d,a,t.payload),e.abrupt("break",18);case 16:return c(d,a,t.payload),e.abrupt("break",18);case 18:e.next=3;break;case 20:case"end":return e.stop()}},p[0],this)}function o(e,t,n){var r=l.a.SpineModel.Project.all(),a={},o={};r.forEach(function(e){a[e.cid]=e,u(o,e.owner_id,e.cid,e)}),e.projectList=r,e.projectMap=a,e.projectUserMap=o}function i(e,t,n){var r=l.a.SpineModel.Project.all();r.forEach(function(t){t.deleted||e.projectMap[t.cid]||(e.projectList.push(t),e.projectMap[t.cid]=t,u(e.projectUserMap,t.owner_id,t.cid,t))})}function c(e,t,n){var r=n.isLocal,a=n.project;if(a.destroyed)return null;var o=e.projectList.findIndex(function(e){return e===a});return o>=0&&e.projectList.splice(o,1),delete e.projectMap[a.cid],a.ldestroy(!r),r||l.a.SpineModel.queueSave(),a}function s(e,t,n){e.projectList=[],e.projectMap={},e.projectUserMap={}}function u(e,t,n,a){e[t]?e[t][n]=a:e[t]=r({},n,a)}var l=n(13),p=[a].map(regeneratorRuntime.mark),d={projectList:[],projectMap:{},projectUserMap:{}};t.a={name:"project",type:"project",session:d,service:a}},function(e,t,n){"use strict";function r(e){var t,n=e.req,r=e.res,c=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("service:screen:init");case 2:a(f,c);case 3:return e.next=6,r({type:"reducer:screen:update",payload:f});case 6:return e.next=8,n(["service:screen:start","service:screen:stop","service:screen:refresh","service:screen:delete"]);case 8:t=e.sent,e.t0=t.type,e.next="service:screen:start"===e.t0?12:"service:screen:stop"===e.t0?14:"service:screen:refresh"===e.t0?16:"service:screen:delete"===e.t0?18:20;break;case 12:return f.isActive=!0,e.abrupt("break",20);case 14:return f.isActive=!1,e.abrupt("break",20);case 16:return o(f,c,t.payload),e.abrupt("break",20);case 18:return i(f,c,t.payload),e.abrupt("break",20);case 20:e.next=3;break;case 22:case"end":return e.stop()}},s[0],this)}function a(e,t,n){var r=c.a.SpineModel.Screen.all(),a={};r.forEach(function(e){a[e.cid]=e}),e.screenList=r,e.screenMap=a}function o(e,t,n){var r=c.a.SpineModel.Screen.all();r.forEach(function(t){e.screenMap[t.cid]||(e.screenList.push(t),e.screenMap[t.cid]=t)})}function i(e,t,n){var r=n.isLocal,a=n.screen;if(a.destroyed)return null;var o=e.screenList.findIndex(function(e){return e===a});return o>=0&&e.screenList.splice(o,1),delete e.screenMap[a.cid],r?a.ldestroy(!1):(l.select(function(e){e.target_cid!==a.cid&&e.state_cid!==a.cid||e.ldestroy()}),a.cpanels().map(function(e){return e.ldestroy(!1)}),a.cwidgets().map(function(e){return e.ldestroy(!1)}),a.clinks().map(function(e){return e.ldestroy(!1)}),p.findAllByAttribute("screenstate_cid",a.cid).map(function(e){return e.ldestroy(!1)}),d.findAllByAttribute("screenstate_cid",a.cid).map(function(e){return e.ldestroy(!1)}),a.cscreenstates().map(function(e){e.widgetStates().map(function(e){return e.ldestroy(!1)}),e.panelStates().map(function(e){return e.ldestroy(!1)}),e.ldestroy(!1)}),a.ldestroy(),c.a.SpineModel.queueSave()),a}var c=n(13),s=[r].map(regeneratorRuntime.mark),u=window,l=u.Link,p=u.Widgetstate,d=u.Panelstate,f={isActive:!1,screenList:[],screenMap:{}};t.a={name:"screen",type:"screen",session:f,service:r}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t,n=e.req,r=e.res,a=e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("service:team:init");case 2:o(d,a);case 3:return e.next=6,r({type:"reducer:team:update",payload:d});case 6:return e.next=8,n(["service:team:refresh","service:team:clear","service:team:delete"]);case 8:t=e.sent,e.t0=t.type,e.next="service:team:refresh"===e.t0?12:"service:team:clear"===e.t0?14:"service:team:delete"===e.t0?16:18;break;case 12:return i(d,a,t.payload),e.abrupt("break",18);case 14:return c(d,a,t.payload),e.abrupt("break",18);case 16:return s(d,a,t.payload),e.abrupt("break",18);case 18:e.next=3;break;case 20:case"end":return e.stop()}},p[0],this)}function o(e,t,n){var r=l.a.SpineModel.Team.all(),a={},o={};r.forEach(function(e){a[e.cid]=e,u(o,e.owner_id,e.cid,e)}),e.teamList=r,e.teamMap=a,e.teamUserMap=o}function i(e,t,n){var r=l.a.SpineModel.Team.all();r.forEach(function(t){e.teamMap[t.cid]||(e.teamList.push(t),e.teamMap[t.cid]=t,u(e.teamUserMap,t.owner_id,t.cid,t))})}function c(e,t,n){e.teamList=[],e.teamMap={},e.teamUserMap={}}function s(e,t,n){var r=n.isLocal,a=n.team;if(a.destroyed)return null;var o=e.teamList.findIndex(function(e){return e===a});return o>=0&&e.teamList.splice(o,1),delete e.teamMap[a.cid],a.ldestroy(!r),!r&&l.a.SpineModel.queueSave(),a}function u(e,t,n,a){e[t]?e[t][n]=a:e[t]=r({},n,a)}var l=n(13),p=[a].map(regeneratorRuntime.mark),d={teamList:[],teamMap:{},teamUserMap:{}};t.a={name:"team",type:"team",session:d,service:a}},function(e,t,n){"use strict";function r(e){var t,n,r=e.req,c=e.res;e.store;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("service:user:init");case 2:return e.next=5,c({type:"reducer:user:update",payload:i});case 5:return e.next=7,r(["service:user:set:user","service:user:clear"]);case 7:t=e.sent,e.t0=t.type,e.next="service:user:set:user"===e.t0?11:"service:user:clear"===e.t0?21:27;break;case 11:return n=t.payload.user,i.id=n.id||"",i.name=n.name||"",i.email=n.email||"",i.avatar=n.avatar||"",i.plan=a(n),i.trial=n.trial,i.expired=n.expired,i.partner_id=n.partner_id,e.abrupt("break",27);case 21:return i.id="",i.name="",i.email="",i.avatar="",i.plan={state:"",type:"free",rawType:"free",collaboratorLimitation:0,daysLeft:""},e.abrupt("break",27);case 27:e.next=2;break;case 29:case"end":return e.stop()}},o[0],this)}function a(e){var t=e.plan,n=e.state,r=e.limitation,a=e.days_left,o="active"===n;return{state:n||"",rawType:t||"free",type:o&&t||"free",collaboratorLimitation:o&&r||0,daysLeft:a}}var o=[r].map(regeneratorRuntime.mark),i={id:"",name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",collaboratorLimitation:0}};t.a={name:"user",type:"user",session:i,service:r}},function(e,t,n){"use strict";var r=n(142),a=(n.n(r),n(194)),o=n(193),i=n(191),c=n(192),s=n(188),u=n(189),l=n(190);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var p=[a.a,o.a,i.a,c.a,s.a,u.a,l.a],d={},f={},m={};p.forEach(function(e){var t=e.name,a=e.type,o=e.service,i=e.session;d[t]=o,f[t]=i,m[t]=n.i(r.createSessionReducer)("reducer:"+a+":update",i)})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(20),u=n(25),l=n.n(u),p=n(60),d=n(98);n.d(t,"a",function(){return m});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleFolded=function(e){void 0===e&&(e=!n.state.isFolded),n.setState({isFolded:e})},n.toggleEditing=function(){return n.editableSpanComponent&&n.editableSpanComponent.toggleEditing()},n.doUpdateComment=function(e){return n.props.dispatch({type:"service:comment:comment:update",payload:{comment:n.props.comment,message:e}})},n.doDeleteComment=function(){return s.a.confirm(s.a.I18N.preview.comment.comment_delete_confirm)&&n.props.dispatch({type:"service:comment:comment:delete",payload:{comment:n.props.comment}})},n.state={isFolded:n.props.comment.message.length>120||!1},n}return o(t,e),f(t,[{key:"renderCommentUpper",value:function(e){return c.a.createElement("div",{className:l.a.comment_comment_upper,type:"toolbar"},e.collaborator&&c.a.createElement("span",{type:"name","data-css":"spacer"},e.collaborator.name),c.a.createElement("span",{type:"time"},s.a.L10N.parseTimeAgo(1e3*e.created_at)))}},{key:"renderCommentMiddle",value:function(e){var t=this,n=e.updated_at!==e.created_at;return c.a.createElement("div",{className:[l.a.comment_comment_content,this.state.isFolded?l.a.comment_comment_content_folded:""].join(" ")},c.a.createElement(d.a.EditableSpan,{ref:function(e){return t.editableSpanComponent=e},onValueChange:this.doUpdateComment,getValue:function(){return e.message},isMultiLine:!0,initEditing:!1,placeholder:s.a.I18N.preview.comment.comment_placeholder,isEditLocked:!e.permission.update}),n&&c.a.createElement("span",{type:"edited"},s.a.I18N.preview.comment.tag_edited))}},{key:"renderCommentLower",value:function(e){var t=this;return this.state.isFolded||e.permission.update||e.permission.delete?c.a.createElement("div",{className:l.a.comment_comment_lower,type:"toolbar"},this.state.isFolded&&c.a.createElement("span",{type:"modify",onClick:function(){return t.toggleFolded()}},s.a.I18N.preview.comment.unfold),this.state.isFolded&&c.a.createElement("span",{type:"dot"}),e.permission.update&&c.a.createElement("span",{type:"modify",onClick:this.toggleEditing},s.a.I18N.preview.comment.modify_edit),e.permission.update&&c.a.createElement("span",{type:"dot"}),e.permission.delete&&c.a.createElement("span",{type:"modify",onClick:this.doDeleteComment},s.a.I18N.preview.comment.modify_delete)):null}},{key:"renderThreadInitial",value:function(e,t){return c.a.createElement("div",{className:[l.a.comment_comment,l.a.comment_comment_thread_initial].join(" "),onClick:this.toggleSelect,onMouseEnter:this.doReadComment},c.a.createElement(p.b,{index:t,isFocus:!1,isFade:!1}),e&&e.collaborator&&c.a.createElement("img",{type:"avatar",src:e.collaborator.avatar}),e&&this.renderCommentUpper(e),e&&this.renderCommentMiddle(e),e&&this.renderCommentLower(e))}},{key:"renderUserInitial",value:function(e){return c.a.createElement("div",{className:[l.a.comment_comment,l.a.comment_comment_user_initial].join(" "),onClick:this.toggleSelect,onMouseEnter:this.doReadComment},e&&e.collaborator&&c.a.createElement("img",{type:"avatar",src:e.collaborator.avatar}),e&&this.renderCommentUpper(e),e&&this.renderCommentMiddle(e),e&&this.renderCommentLower(e))}},{key:"renderAppending",value:function(e){return c.a.createElement("div",{className:[l.a.comment_comment,l.a.comment_comment_appending].join(" "),onClick:this.toggleSelect,onMouseEnter:this.doReadComment},e&&this.renderCommentMiddle(e),e&&this.renderCommentLower(e))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isThreadInitial,r=e.isUserInitial,a=e.commentMarkerIndex;return n?this.renderThreadInitial(t,a):r?this.renderUserInitial(t):this.renderAppending(t)}}]),t}(c.a.Component);m.propTypes={commentMarkerIndex:c.a.PropTypes.number,comment:c.a.PropTypes.object,isThreadInitial:c.a.PropTypes.bool,isUserInitial:c.a.PropTypes.bool,tickData:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){e.preventDefault(),e.stopPropagation()}function c(e){for(var t={top:0,left:0};e;)t.top+=e.offsetTop-e.scrollTop,t.left+=e.offsetLeft-e.scrollLeft,e=e.offsetParent;return t}function s(e,t){var n=e.getBoundingClientRect();return n.left<=t.clientX&&n.top<=t.clientY&&n.left+n.width>=t.clientX&&n.top+n.height>=t.clientY}function u(e,t){var n=e.getBoundingClientRect(),r=Math.min(Math.max(t.clientX,n.left+b),n.left+n.width-b)-t.clientX,a=Math.min(Math.max(t.clientY,n.top+b),n.top+n.height-b)-t.clientY;return{x:r,y:a}}function l(e,t){var n=e.getTop()-t.top,r=e.getLeft()-t.left;return n*n+r*r>225}var p=n(0),d=n.n(p),f=n(25),m=n.n(f),h=n(60);n.d(t,"a",function(){return y});var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addEventListener=function(e){for(var t in e)n.props.containerElement.addEventListener(t,e[t])},n.removeEventListener=function(e){for(var t in e)n.props.containerElement.removeEventListener(t,e[t])},n.getMarkerPosition=function(e){var t=u(n.props.rangeElement,e),r=c(n.props.referenceElement);return{left:e.pageX-r.left+t.x,top:e.pageY-r.top+t.y}},n.addMarkerListener=function(e){s(n.props.rangeElement,e)&&(i(e),n.props.dispatch({type:"service:comment:thread:create",payload:n.getMarkerPosition(e)}))},n.props.containerElement.addEventListener("dblclick",n.addMarkerListener),n}return o(t,e),v(t,[{key:"componentWillUnmount",value:function(){this.props.containerElement.removeEventListener("dblclick",this.addMarkerListener)}},{key:"render",value:function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,a=r.commentThreadList;return d.a.createElement("div",{className:m.a.comment_marker_panel},a.map(function(t,r){return d.a.createElement(g,{key:t.cid,commentThread:t,commentMarkerIndex:r+1,commentContainer:n,isEditable:t.permission.update,addEventListener:e.addEventListener,removeEventListener:e.removeEventListener,getMarkerPosition:e.getMarkerPosition,dispatch:e.props.dispatch})}))}}]),t}(d.a.Component);y.propTypes={containerElement:d.a.PropTypes.object,referenceElement:d.a.PropTypes.object,rangeElement:d.a.PropTypes.object,commentContainer:d.a.PropTypes.object,commentSession:d.a.PropTypes.object,dispatch:d.a.PropTypes.func};var g=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o={mousemove:function(e){i(e);var t=n.props.getMarkerPosition(e);(n.state.isDragging||l(n.props.commentThread,t))&&n.setState({isDragging:!0,position:t})},mouseup:function(e){if(i(e),s(),n.state.isDragging){var t=n.props.getMarkerPosition(e),r=t.left,a=t.top;n.props.dispatch({type:"service:comment:thread:update",payload:{commentThread:n.props.commentThread,left:r,top:a}})}else setTimeout(n.toggleSelect,0);n.setState({isDragging:!1,position:{left:0,top:0}})},mouseleave:function(){s(),n.toggleFocus(!1),n.setState({isDragging:!1,position:{left:0,top:0}})},mousedown:i,mouseout:i,click:i,dblclick:i},c={mouseup:o.mouseup,mousedown:i,mousemove:i,mouseleave:i,mouseout:i,click:i,dblclick:i},s=function(){return n.props.removeEventListener(o)};return n.toggleFocus=function(e){var t=n.props,r=t.commentThread,a=t.dispatch;a({type:"container:comment:focus",payload:{focus:e?r.cid:null}})},n.toggleSelect=function(){var e=n.props,t=e.commentContainer,r=e.commentThread,a=e.dispatch,o=t.select===r.cid;a({type:"container:comment:select",payload:{select:o?null:r.cid}})},n.onMouseDown=function(e){i(e),n.props.addEventListener(n.props.isEditable?o:c)},n.onMouseEnter=function(e){i(e),n.toggleFocus(!0)},n.onMouseLeave=function(e){i(e),n.toggleFocus(!1)},n.state={isDragging:!1,position:{left:0,top:0}},n}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.commentThread,n=e.commentMarkerIndex,r=e.commentContainer,a=e.isEditable,o=e.dispatch,c=this.state,s=c.isDragging,u=c.position,l=s?u:{left:t.getLeft(),top:t.getTop()},p=r.select===t.cid,f=r.focus===t.cid,m=r.select&&!p||r.focus&&!f;return d.a.createElement(h.a,{index:n,isFocus:f||p,isFade:m,isEditable:a,divAttributes:{style:l},spanAttributes:{onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:i,onDoubleClick:i,onClick:i},focusType:"external",dispatch:o})}}]),t}(d.a.Component);g.propTypes={commentThread:d.a.PropTypes.object,commentMarkerIndex:d.a.PropTypes.number,commentContainer:d.a.PropTypes.object,addEventListener:d.a.PropTypes.func,removeEventListener:d.a.PropTypes.func,getMarkerPosition:d.a.PropTypes.func,isEditable:d.a.PropTypes.bool,dispatch:d.a.PropTypes.func};var b=20},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(20),u=n(108),l=n.n(u),p=n(25),d=n.n(p),f=n(199),m=n(98);n.d(t,"a",function(){return v});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.dispatch;return n.renderContentEmpty=n.renderContentEmpty.bind(n),n.tickUpdate=function(){o({type:"container:screen:set:bottom-covered-height",payload:{bottomCoveredHeight:n.panelRef?n.panelRef.offsetHeight:0}}),setTimeout(function(){return n.replyTextareaRef&&n.replyTextareaRef.focus()},500)},n.doRedirectAuth=function(){window.location.href="/signin?next="+window.location.pathname},n.doReply=function(e){n.replyTextareaRef&&n.replyTextareaRef.onEditFinish(e)},n.doCreateThread=function(e){e&&(o({type:"entry:comment:thread:create",payload:{top:0,left:0,message:e}}),n.threadEntryRef&&n.threadEntryRef.doScrollToBottom())},n.doCreateComment=function(e){if(e){var t=n.props,r=t.commentContainer,a=t.commentSession,i=a.commentThreadMap[r.select];i&&(o({type:"service:comment:comment:create",payload:{thread_cid:i.cid,message:e}}),n.threadDetailRef&&n.threadDetailRef.doScrollToBottom(),s.a.MB.mp("回复了评论"))}},n.cancelSelect=function(){o({type:"container:comment:select",payload:{select:null}})},n.toggleMinifyUI=function(){var e=n.props.commentContainer;o({type:"container:comment:set:is-minified",payload:{isMinified:!e.isMinified}})},n.replyTextareaRef=null,n.threadEntryRef=null,n.threadDetailRef=null,n.panelRef=null,n}return o(t,e),h(t,[{key:"componentDidMount",value:function(){this.tickUpdate()}},{key:"componentDidUpdate",value:function(){this.tickUpdate()}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"container:screen:set:bottom-covered-height",payload:{bottomCoveredHeight:0}})}},{key:"getUserStatus",value:function(){var e=this.props,t=e.userSession,n=e.inspectSession;return t.id?"guest"===n.collaborator.userRole?"not_collaborator":"collaborator":"not_signin"}},{key:"renderContentEmpty",value:function(){var e=this.props,t=e.commentContainer,n=e.commentSession,r=t.select&&n.commentThreadMap[t.select],a="not_signin"===this.getUserStatus()?s.a.I18N.preview.comment.thread_none_tip_signin:r?s.a.I18N.preview.comment.reply_none_tip:s.a.I18N.preview.comment.thread_none_tip;return c.a.createElement("div",{"data-css":"list"},c.a.createElement("div",{className:l.a.preview_panel_empty},c.a.createElement("i",{className:"fa fa-comments-o"}),c.a.createElement("span",null,a)))}},{key:"renderContentList",value:function(e){var t=this,n=this.props,r=n.commentContainer,a=n.commentSession,o=n.dispatch;return e?c.a.createElement(f.a,{key:e.cid,ref:function(e){t.threadDetailRef=e},commentContainer:r,commentSession:a,renderEmptyComponent:this.renderContentEmpty,dispatch:o}):c.a.createElement(f.b,{ref:function(e){t.threadEntryRef=e},commentContainer:r,commentSession:a,renderEmptyComponent:this.renderContentEmpty,dispatch:o})}},{key:"renderContentReply",value:function(e,t){var n=this,r=this.getUserStatus();return c.a.createElement("div",{"data-css":"reply"},"collaborator"===r&&c.a.createElement(m.a.ReplyTextarea,{ref:function(e){n.replyTextareaRef=e},onValueChange:e?this.doCreateComment:this.doCreateThread,placeholder:s.a.I18N.preview.comment.comment_placeholder,isMultiLine:!0,isAutoHeight:!0,isEditLocked:!1}),"not_signin"===r&&c.a.createElement("button",{"data-css":"primary",onClick:this.doRedirectAuth},c.a.createElement("i",{className:"fa fa-sign-in"}),s.a.I18N.web_signin),"not_collaborator"===r&&c.a.createElement("button",{"data-css":"primary",onClick:this.doRedirectAuth},c.a.createElement("i",{className:"fa fa-sign-in"}),s.a.I18N.web_signin),"collaborator"===r&&c.a.createElement("button",{"data-css":"primary",onClick:this.doReply},e?t===-1?s.a.I18N.preview.comment.comment_create_initial:s.a.I18N.preview.comment.comment_create:s.a.I18N.preview.comment.thread_create))}},{key:"renderMinified",value:function(){var e=this.props.commentSession.commentThreadList;return c.a.createElement("div",{className:[l.a.preview_panel,l.a.preview_panel_popup,l.a.preview_panel_popup_minified,d.a.comment_panel].join(" ")},c.a.createElement("div",{className:[l.a.preview_panel_upper,l.a.preview_panel_upper_minified].join(" "),type:"toolbar",onClick:this.toggleMinifyUI},c.a.createElement("p",null,e.length?e.length+s.a.I18N.preview.comment.panel:s.a.I18N.preview.comment.thread_none),c.a.createElement("button",{type:"button-right"},c.a.createElement("i",{className:"fa fa-chevron-up"}))))}},{key:"renderFull",value:function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,a=r.commentThreadList,o=r.commentThreadMap,i=r.commentListMap,u=n.select,p=u&&o[u],f=i[u]?i[u].length-1:-1;return c.a.createElement("div",{ref:function(t){e.panelRef=t},className:[l.a.preview_panel,l.a.preview_panel_popup,d.a.comment_panel].join(" ")},c.a.createElement("div",{className:l.a.preview_panel_upper,type:"toolbar"},p?c.a.createElement("button",{type:"button-left",onClick:this.cancelSelect},c.a.createElement("i",{className:"fa fa-chevron-left"})):c.a.createElement("div",{type:"button-left"}),c.a.createElement("p",null,!p&&a.length?a.length+s.a.I18N.preview.comment.panel:p?f>0?f+s.a.I18N.preview.comment.reply:0===f?s.a.I18N.preview.comment.reply_none:s.a.I18N.preview.comment.comment_create_initial_title:s.a.I18N.preview.comment.thread_none),c.a.createElement("button",{type:"button-right",onClick:this.toggleMinifyUI},c.a.createElement("i",{className:"fa fa-minus"}))),c.a.createElement("div",{className:l.a.preview_panel_content},c.a.createElement("div",{className:[d.a.comment_thread,d.a.comment_thread_flex].join(" ")},this.renderContentList(p),this.renderContentReply(p,f))))}},{key:"render",value:function(){return this.props.commentContainer.isMinified?this.renderMinified():this.renderFull()}}]),t}(c.a.Component);v.propTypes={commentSession:c.a.PropTypes.object,inspectSession:c.a.PropTypes.object,userSession:c.a.PropTypes.object,commentContainer:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return s.a.createElement("div",{"data-css":"divider",key:"divider"},s.a.createElement("div",null),s.a.createElement("span",null,u.a.I18N.preview.comment.divider_new),s.a.createElement("div",null))}var c=n(0),s=n.n(c),u=n(20),l=n(25),p=n.n(l),d=n(60),f=n(196);n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){setTimeout(function(){e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)},100)},v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.dispatch;return n.toggleSelect=function(e){var t=n.props.commentContainer,r=t.select===e.cid;o({type:"container:comment:select",payload:{select:r?null:e.cid}})},n.doDeleteThread=function(e){u.a.confirm(u.a.I18N.preview.comment.thread_delete_confirm)&&o({type:"service:comment:thread:delete",payload:{commentThread:e}})},n.doScrollToBottom=function(){return h(n.scrollRef)},n.scrollRef=null,n}return o(t,e),m(t,[{key:"renderEntry",value:function(e,t,n,r,a,o){var i=this,c=n.length,l=c>0&&n[0],f=a.unreadCountThreadMap[e.cid],m=r===e.cid;return s.a.createElement("div",{key:t,className:p.a.comment_thread},s.a.createElement(d.b,{index:t,isFocus:m,isFade:Boolean(r),focusType:"normal",dispatch:o}),s.a.createElement("div",{className:[p.a.comment_comment,p.a.comment_comment_thread_initial,p.a.comment_comment_clickable,m?p.a.comment_comment_thread_initial_focus:""].join(" "),onClick:function(){return i.toggleSelect(e)}},l&&l.collaborator&&s.a.createElement("img",{type:"avatar",src:l.collaborator.avatar}),s.a.createElement("div",{className:p.a.comment_comment_upper,type:"toolbar"},l&&l.collaborator&&s.a.createElement("span",{type:"name","data-css":"spacer"},l.collaborator.name),l&&s.a.createElement("span",{type:"time"},u.a.L10N.parseTimeAgo(1e3*l.created_at))),l&&s.a.createElement("div",{className:p.a.comment_comment_content,type:"toolbar"},s.a.createElement("span",{type:"entry"},l.message)),s.a.createElement("div",{className:p.a.comment_comment_lower,type:"toolbar"},c<=1?s.a.createElement("span",{type:"reply-none"},u.a.I18N.preview.comment.reply_none):s.a.createElement("span",{type:"reply-count"},c-1+u.a.I18N.preview.comment.reply),f>0&&s.a.createElement("span",{
type:"new"},f===c?u.a.I18N.preview.comment.reply_new_thread:f+u.a.I18N.preview.comment.reply_new),e.permission.delete&&s.a.createElement("span",{type:"dot"}),e.permission.delete&&s.a.createElement("span",{type:"modify",onClick:function(){return i.doDeleteThread(e)}},u.a.I18N.preview.comment.modify_delete))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,a=t.renderEmptyComponent,o=t.dispatch,i=r.commentThreadList,c=r.commentListMap,u=r.tickData,l=n.focus||n.select;return i.length?s.a.createElement("div",{"data-css":"list",ref:function(t){e.scrollRef=t}},i.map(function(t,n){return e.renderEntry(t,n+1,c[t.cid]||[],l,u,o)})):a()}}]),t}(s.a.Component);v.propTypes={commentSession:s.a.PropTypes.object,commentContainer:s.a.PropTypes.object,renderEmptyComponent:s.a.PropTypes.func,dispatch:s.a.PropTypes.func};var y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toggleShowAll=function(e){void 0===e&&(e=!n.state.isShowAll),n.setState({isShowAll:e})},n.doScrollToBottom=function(){return h(n.scrollRef)};var o=n.calcFoldDivider(),i=o.foldCount,c=o.newDividerIndex;return n.foldCount=i,n.newDividerIndex=c,n.scrollRef=null,n.state={isShowAll:!1},n}return o(t,e),m(t,[{key:"componentDidMount",value:function(){this.tickReadComment()}},{key:"componentDidUpdate",value:function(){this.tickReadComment()}},{key:"getSelected",value:function(){var e=this.props,t=e.commentContainer,n=e.commentSession,r=n.commentThreadMap,a=n.commentListMap,o=n.tickData,i=r[t.select],c=a[t.select];return{tickData:o,commentList:c,commentThread:i}}},{key:"calcFoldDivider",value:function(){for(var e=this.getSelected(),t=e.commentList,n=e.tickData,r=0,a=1/0,o=t.length-1;o>=0&&n.unreadCommentMap[t[o].cid];)a=o,o--;if(0===a&&(a=1),a>4)for(var i=1;i<=t.length-3&&!n.unreadCommentMap[t[i].cid];)r++,i++;return{newDividerIndex:a,foldCount:r}}},{key:"tickReadComment",value:function(){var e=this.props.dispatch,t=this.getSelected(),n=t.commentList,r=t.tickData,a=!1;n.forEach(function(t){r.unreadCommentMap[t.cid]&&(e({type:"service:comment:read-comment",payload:{comment:t}}),a=!0)}),a||(this.newDividerIndex=1/0)}},{key:"getCommentReducer",value:function(e,t){var n=this,r=this.state.isShowAll,a=1,o=a+this.foldCount-1,c=null;return function(l,p,d){return!r&&d>=a&&d<=o?d===o&&l.push(s.a.createElement("div",{"data-css":"expand",key:"expand"},s.a.createElement("button",{onClick:function(){return n.toggleShowAll(!0)}},u.a.I18N.preview.comment.show_all_0+n.foldCount+u.a.I18N.preview.comment.show_all_1))):(1===d&&l.push(s.a.createElement("div",{"data-css":"divider-line",key:"divider-line"})),d===n.newDividerIndex&&l.push(i()),l.push(s.a.createElement(f.a,{key:p.cid,commentMarkerIndex:e,comment:p,isThreadInitial:0===d,isUserInitial:0!==d&&c!==p.user_id&&(c=p.user_id,!0),tickData:t,dispatch:n.props.dispatch}))),l}}},{key:"render",value:function(){var e=this,t=this.props,n=t.commentContainer,r=t.commentSession,a=t.renderEmptyComponent,o=r.commentThreadList,i=r.commentListMap,c=r.tickData,u=1+o.findIndex(function(e){return e.cid===n.select}),l=i[n.select];return l.length?s.a.createElement("div",{"data-css":"list",ref:function(t){e.scrollRef=t}},l.reduce(this.getCommentReducer(u,c),[])):a()}}]),t}(s.a.Component);y.propTypes={commentSession:s.a.PropTypes.object,commentContainer:s.a.PropTypes.object,renderEmptyComponent:s.a.PropTypes.func,dispatch:s.a.PropTypes.func}},function(e,t,n){"use strict";var r=n(18),a=(n.n(r),n(201)),o=n(198),i=n(197),c={CommentPanel:n.i(r.connect)(function(e){return{commentSession:e.service.comment,inspectSession:e.service.inspect,userSession:e.service.user,commentContainer:e.container.comment}})(o.a),CommentMarkerPanel:n.i(r.connect)(function(e){return{commentSession:e.service.comment,commentContainer:e.container.comment}})(i.a)};t.a={reducers:a.a,containers:c}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={isMinified:!1,select:null,focus:null,from:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,o=t.payload;switch(n){case"container:comment:set:is-minified":return r({},e,{isMinified:o.isMinified,focus:null,select:null});case"container:comment:focus":return r({},e,{focus:o.focus});case"container:comment:select":return r({},e,{isMinified:!1,focus:o.select&&e.focus,select:o.select})}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(3),u=(n.n(s),n(146)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=window,d=p.I18N,f=function(e){return c.a.createElement("div",{className:"dropdown__icon"},c.a.createElement("div",{className:"dropdown__caret"},c.a.createElement("i",{className:"fa fa-caret-down"})),c.a.createElement("div",{className:"avatar"},e))},m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props.user,t=e.avatar,n=e.email,r=e.name,a=e.trial,o=e.expired,i=e.plan,l=i.daysLeft,p="/images/avatar.png",m=t&&t!==p?c.a.createElement("img",{src:t}):c.a.createElement("div",{className:"default-avatar"},r[0].toUpperCase()),h=void 0,v=void 0;return a?(h="upgrade",v=d.upgrade):o||l?(h="renew",v=d.renew):(h="active",v=d.active),c.a.createElement("div",{className:"header__item user-info"},c.a.createElement(u.a,{tabIndex:"2",dropdownIcon:f(m)},c.a.createElement("div",null,c.a.createElement("div",{className:"pull-right"},c.a.createElement("p",null,c.a.createElement("a",{href:"/account",className:"state "+h},v))),c.a.createElement("div",{className:"name"},c.a.createElement("p",{className:"username"},r),c.a.createElement("p",{className:"email"},n)),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(s.Link,{to:"/workspace/page/guide"},c.a.createElement("i",{className:"fa fa-book"}),c.a.createElement("span",null,d.guide))),c.a.createElement("li",null,c.a.createElement(s.Link,{to:"/workspace/page/forum/update"},c.a.createElement("i",{className:"fa fa-feed"}),c.a.createElement("span",null,d.feature_update))),c.a.createElement("li",null,c.a.createElement("a",{href:"/account"},c.a.createElement("i",{className:"fa fa-cog"}),c.a.createElement("span",null,d.my_account))),c.a.createElement("li",null,c.a.createElement("a",{href:"/signout"},c.a.createElement("i",{className:"fa fa-sign-out"}),c.a.createElement("span",null,d.signout)))))))}}]),t}(c.a.Component);t.a=m,m.propTypes={user:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(5),u=n.n(s),l=n(3),p=(n.n(l),n(202)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=window,m=f.$,h=f.I18N,v=f.MB,y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"componentDidMount",value:function(){m("title").text(h.site_title+" - "+h.all_apps),v.renderNotifications(m("#header .notifications-dropdown")[0])}},{key:"componentWillUnmount",value:function(){u.a.unmountComponentAtNode(m("#header .notifications-dropdown")[0])}},{key:"render",value:function(){var e=this.props.userService,t="active",n="en"===v.locale?"/cn":"/en",r=e.plan,a=r.type,o=r.daysLeft,i=r.expired,s=e.trial,u=i&&s?h.free:h[a],d="";return e.partner_id?d="":o?d=o:s&&(d=h.trial),c.a.createElement("div",{id:"header",className:"header"},c.a.createElement("div",{className:"header-section"},c.a.createElement("div",{className:"header__item locale-info"},c.a.createElement("img",{className:"logo",src:"/images/logo-lg.svg"}),c.a.createElement("a",{className:"lang",href:n},h.locale_text))),c.a.createElement("ul",{className:"main-nav"},c.a.createElement("li",null,c.a.createElement(l.Link,{to:"/workspace/apps",activeClassName:t},c.a.createElement("i",{className:"fa fa-user"}),c.a.createElement("span",null,h.my_apps))),c.a.createElement("li",null,c.a.createElement(l.Link,{to:"/workspace/teams",activeClassName:t},c.a.createElement("i",{className:"fa fa-users"}),c.a.createElement("span",null,h.team_apps))),c.a.createElement("li",null,c.a.createElement(l.Link,{to:"/workspace/page/forum",activeClassName:t},c.a.createElement("i",{className:"fa fa-comments"}),c.a.createElement("span",null,h.forum)))),c.a.createElement("div",{className:"header-section"},c.a.createElement("div",{className:"header__item notifications-dropdown"}),c.a.createElement("div",{className:"header__item account-state"},c.a.createElement("div",{className:"popover"},c.a.createElement("div",{className:"arrow"}),c.a.createElement("a",{href:"/account",className:"popover-content"},u+" "+d))),c.a.createElement(p.a,{user:e})))}}]),t}(c.a.Component);t.a=y,y.propTypes={userService:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(3),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=window,p=l.I18N,d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.collaborations,r=void 0;return r="mine"===t?p.all_apps:"archives"===t?p.archived:n[t]+p.others_apps,c.a.createElement("div",{className:"header-tabs"},c.a.createElement("a",{id:"header-tabs","data-target":"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r,c.a.createElement("span",{className:"caret"})),c.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"header-tabs"},c.a.createElement("li",{className:"mine"===t?"active":null},c.a.createElement(s.Link,{to:{pathname:"/workspace/apps"}},p.all_apps)),c.a.createElement("li",{className:"archives"===t?"active":null},c.a.createElement(s.Link,{to:{pathname:"/workspace/apps",query:{type:"archives"}}},p.archived)),Object.keys(n).map(function(e){return c.a.createElement("li",{key:e,className:t===e?"active":null},c.a.createElement(s.Link,{to:{pathname:"/workspace/apps",query:{type:e}}},n[e],p.others_apps))},this)))}}]),t}(c.a.Component);t.a=d,d.propTypes={type:c.a.PropTypes.string,collaborations:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e){var t=e.dispatch,n=e.listContainer,r=n.order,a=n.keyword,c=e.projectService.projectList;return o.a.createElement(i.a,{order:r,keyword:a,dispatch:t,projects:c})}var a=n(0),o=n.n(a),i=n(100);t.a=r,r.propTypes={dispatch:o.a.PropTypes.func,projectService:o.a.PropTypes.object,listContainer:o.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(3),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=window,p=l.I18N,d=l.MB,f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.team,t=this.context.router,n=t.location.state,r=void 0,a=void 0;return"all"===n?(a=p.all_teams,r="all"):e.owner_id===d.user.id?(a=p.created_teams,r="mine"):(a=p.joined_teams,r="joined"),c.a.createElement("div",{className:"header-tabs breadcrumb"},c.a.createElement(s.Link,{to:{pathname:"/workspace/teams",query:{type:r}}},a),c.a.createElement("span",{className:"fa fa-angle-right"}),c.a.createElement("a",null,e.name))}}]),t}(c.a.Component);t.a=f,f.contextTypes={router:c.a.PropTypes.object},f.propTypes={team:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(100),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=window,p=l.MB,d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.teamService,r=e.projectService,a=e.listContainer,o=this.context.router.params.tcid,i=n.teamMap[o],u=r.projectList,l=a.order,d=a.keyword,f=void 0;switch(o){case"mine":f=u.filter(function(e){return e.owner_id===p.user.id});break;case"joined":f=u.filter(function(e){return e.owner_id!==p.user.id&&!e.team_cid});break;default:f=u.filter(function(e){return e.team_cid===o})}return c.a.createElement(s.a,{team:i,order:l,keyword:d,dispatch:t,projects:f})}}]),t}(c.a.Component);t.a=d,d.contextTypes={router:c.a.PropTypes.object},d.propTypes={dispatch:c.a.PropTypes.func,teamService:c.a.PropTypes.object,projectService:c.a.PropTypes.object,listContainer:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=window,l=u.I18N,p=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleNew=function(e){o.props.handleNew(e)},o.handleIntro=function(e){e.stopPropagation()},i=n,a(o,i)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.isOwner?l.no_team:l.no_joined_team;return c.a.createElement("div",{className:"list-content no-app"},c.a.createElement("div",{className:"create-body",onClick:this.handleNew},c.a.createElement("img",{src:"/images/workspace/no_app.png",alt:""}),c.a.createElement("p",{className:"no-tips"},e),c.a.createElement("p",{className:"create-tips"},l.create_team_tips),c.a.createElement("a",{className:"btn btn-primary new"},c.a.createElement("i",{className:"fa fa-plus"}),c.a.createElement("span",null,l.new_team))),c.a.createElement("p",{className:"create-bottom"},c.a.createElement("a",{href:"/posts/team-intro",onClick:this.handleIntro,target:"_blank"},l.team_intro)))}}]),t}(c.a.Component);t.a=p,p.propTypes={handleNew:c.a.PropTypes.func,isOwner:c.a.PropTypes.bool}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(3),u=(n.n(s),n(101)),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=window,d=p.I18N,f=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleNew=function(e){o.props.handleNew(e)},i=n,a(o,i)}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.activeTab,n=e.keyword,r=e.order,a=void 0;return"all"===t?a=d.all_teams:"mine"===t?a=d.created_teams:"joined"===t&&(a=d.joined_teams),c.a.createElement("div",{className:"list-header"},c.a.createElement("div",{className:"header-tabs"},c.a.createElement("a",{id:"header-tabs","data-target":"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},a,c.a.createElement("span",{className:"caret"})),c.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"header-tabs"},c.a.createElement("li",{className:"all"===t?"active":null},c.a.createElement(s.Link,{to:"/workspace/teams"},d.all_teams)),c.a.createElement("li",{className:"mine"===t?"active":null},c.a.createElement(s.Link,{to:{pathname:"/workspace/teams",query:{type:"mine"}}},d.created_teams)),c.a.createElement("li",{className:"joined"===t?"active":null},c.a.createElement(s.Link,{to:{pathname:"/workspace/teams",query:{type:"joined"}}},d.joined_teams)))),c.a.createElement(u.a,{order:r,keyword:n,btnText:d.new_team,handleNew:this.handleNew,dispatch:this.props.dispatch,placeholder:d.type2search+d.team}))}}]),t}(c.a.Component);t.a=f,f.propTypes={order:c.a.PropTypes.string,dispatch:c.a.PropTypes.func,handleNew:c.a.PropTypes.func,keyword:c.a.PropTypes.string,activeTab:c.a.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(5),u=n.n(s),l=n(3),p=(n.n(l),n(99)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=window,m=f.I18N,h=f.MB,v=f.$,y=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleSettings=function(e){var t;e.preventDefault(),e.stopPropagation(),t=o.props.team,u.a.render(c.a.createElement(p.a,{team:t}),v("#team-modal")[0]),v("#team-modal").modal()},o.handleDel=function(e){e.preventDefault(),e.stopPropagation();var t=o.props,n=t.team,r=t.dispatch;r({type:"entry:service:team:delete",payload:{team:n}})},i=n,a(o,i)}return o(t,e),d(t,[{key:"componentDidMount",value:function(){v("#team"+this.props.team.cid+" .circle").tooltip({container:"body",trigger:"hover focus click"})}},{key:"render",value:function(){var e=this.props,t=e.team,n=e.enterFrom,r=t.owner_id===h.user.id,a=r?"owner":t.roleByUid(h.user.id),o=r||"admin"===a,i=r?m.delete:m.remove_me,s=t.cprojects().length+" "+m.projects_count;t.cprojects().length<2&&(s=s.replace(/s$/,""));var u=t.collaborators().length+" "+m.members_count;return t.collaborators().length||(u=u.replace(/s$/,"")),c.a.createElement("div",{id:"team"+t.cid,"data-cid":t.cid,className:"v2 item team"},c.a.createElement("section",{className:"item-top"},c.a.createElement(h.Collaborators,{host:t})),c.a.createElement("div",{className:"card",style:{backgroundColor:t.colorO(".9")}},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:"fa fa-"+t.icon})),c.a.createElement("div",{className:"title"},c.a.createElement("span",{className:"name"},t.name)),c.a.createElement("div",{className:"timestamp"},s),c.a.createElement("div",{className:"meta"},c.a.createElement("span",null,m.role," ： ",m.roles[a])),c.a.createElement(l.Link,{className:"overlay",to:{pathname:"/workspace/teams/"+t.cid,state:n}},c.a.createElement("div",{className:"icons"},c.a.createElement("div",{className:"action-icon","data-toggle":"tooltip","data-placement":"top",title:m.setting,onClick:this.handleSettings,style:{display:h.shouldDisplay(o)}},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4zICgzMzgzOSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJpY19zZXR0aW5ncyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBvbHlnb24gaWQ9IkJvdW5kcyIgcG9pbnRzPSIwIDAgMjQgMCAyNCAyNCAwIDI0Ij48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTTE5LjQzLDEyLjk4IEMxOS40NywxMi42NiAxOS41LDEyLjM0IDE5LjUsMTIgQzE5LjUsMTEuNjYgMTkuNDcsMTEuMzQgMTkuNDMsMTEuMDIgTDIxLjU0LDkuMzcgQzIxLjczLDkuMjIgMjEuNzgsOC45NSAyMS42Niw4LjczIEwxOS42Niw1LjI3IEMxOS41NCw1LjA1IDE5LjI3LDQuOTcgMTkuMDUsNS4wNSBMMTYuNTYsNi4wNSBDMTYuMDQsNS42NSAxNS40OCw1LjMyIDE0Ljg3LDUuMDcgTDE0LjQ5LDIuNDIgQzE0LjQ2LDIuMTggMTQuMjUsMiAxNCwyIEwxMCwyIEM5Ljc1LDIgOS41NCwyLjE4IDkuNTEsMi40MiBMOS4xMyw1LjA3IEM4LjUyLDUuMzIgNy45Niw1LjY2IDcuNDQsNi4wNSBMNC45NSw1LjA1IEM0LjcyLDQuOTYgNC40Niw1LjA1IDQuMzQsNS4yNyBMMi4zNCw4LjczIEMyLjIxLDguOTUgMi4yNyw5LjIyIDIuNDYsOS4zNyBMNC41NywxMS4wMiBDNC41MywxMS4zNCA0LjUsMTEuNjcgNC41LDEyIEM0LjUsMTIuMzMgNC41MywxMi42NiA0LjU3LDEyLjk4IEwyLjQ2LDE0LjYzIEMyLjI3LDE0Ljc4IDIuMjIsMTUuMDUgMi4zNCwxNS4yNyBMNC4zNCwxOC43MyBDNC40NiwxOC45NSA0LjczLDE5LjAzIDQuOTUsMTguOTUgTDcuNDQsMTcuOTUgQzcuOTYsMTguMzUgOC41MiwxOC42OCA5LjEzLDE4LjkzIEw5LjUxLDIxLjU4IEM5LjU0LDIxLjgyIDkuNzUsMjIgMTAsMjIgTDE0LDIyIEMxNC4yNSwyMiAxNC40NiwyMS44MiAxNC40OSwyMS41OCBMMTQuODcsMTguOTMgQzE1LjQ4LDE4LjY4IDE2LjA0LDE4LjM0IDE2LjU2LDE3Ljk1IEwxOS4wNSwxOC45NSBDMTkuMjgsMTkuMDQgMTkuNTQsMTguOTUgMTkuNjYsMTguNzMgTDIxLjY2LDE1LjI3IEMyMS43OCwxNS4wNSAyMS43MywxNC43OCAyMS41NCwxNC42MyBMMTkuNDMsMTIuOTggTDE5LjQzLDEyLjk4IFogTTEyLDE1LjUgQzEwLjA3LDE1LjUgOC41LDEzLjkzIDguNSwxMiBDOC41LDEwLjA3IDEwLjA3LDguNSAxMiw4LjUgQzEzLjkzLDguNSAxNS41LDEwLjA3IDE1LjUsMTIgQzE1LjUsMTMuOTMgMTMuOTMsMTUuNSAxMiwxNS41IEwxMiwxNS41IFoiIGlkPSJJY29uIiBmaWxsPSIjNDI0QjU3Ij48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==",alt:""})),c.a.createElement("div",{className:"action-icon","data-toggle":"tooltip","data-placement":"top",title:i,onClick:this.handleDel},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iNTAgMCAyNCAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iaWNfZGVsZXRlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MC4wMDAwMDAsIDAuMDAwMDAwKSI+CiAgICAgICAgPHBvbHlnb24gaWQ9IkJvdW5kcyIgcG9pbnRzPSIwIDAgMjQgMCAyNCAyNCAwIDI0Ij48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTTYsMTkgQzYsMjAuMSA2LjksMjEgOCwyMSBMMTYsMjEgQzE3LjEsMjEgMTgsMjAuMSAxOCwxOSBMMTgsNyBMNiw3IEw2LDE5IEw2LDE5IFogTTE5LDQgTDE1LjUsNCBMMTQuNSwzIEw5LjUsMyBMOC41LDQgTDUsNCBMNSw2IEwxOSw2IEwxOSw0IEwxOSw0IFoiIGlkPSJJY29uIiBmaWxsPSIjNDI0QjU3Ij48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==",alt:""}))))))}}]),t}(c.a.Component);t.a=y,y.propTypes={team:c.a.PropTypes.object,enterFrom:c.a.PropTypes.string,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(5),u=n.n(s),l=n(208),p=n(210),d=n(99),f=n(209),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=window,v=h.$,y=h.MB,g=h.Team,b=function(e){function t(){var e,n,o,i;r(this,t);for(var s=arguments.length,l=Array(s),p=0;p<s;p++)l[p]=arguments[p];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleNew=function(e){e.preventDefault(),y.mp("点击了团队创建按钮");var t=new g({cid:"te"+Math.uuid(10,16)+(new Date).valueOf(),owner_id:y.user.id,owner_email:y.user.email,owner_name:y.user.name,owner_avatar:y.user.avatar,color:"RGB(255,255,247)",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});u.a.render(c.a.createElement(d.a,{team:t}),document.getElementById("team-modal")),v("#team-modal").modal()},i=n,a(o,i)}return o(t,e),m(t,[{key:"componentDidMount",value:function(){v(this.refs.list).perfectScrollbar()}},{key:"render",value:function(){var e=this,t=this.props.teamService.teamList,n=this.props.listContainer,r=n.keyword,a=n.order,o=this.context.router.location.query.type,i=void 0===o?"all":o,s=void 0;if("all"===i)s=t;else{for(var u=[],d=[],m=0;m<t.length;m++){var h=t[m];h.owner_id===y.user.id?u.push(h):d.push(h)}"mine"===i?s=u:"joined"===i&&(s=d)}var v=s.filter(function(e){return e.name.toLowerCase().indexOf(r)!==-1});return"asc"===a?v.sort(function(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}):v.sort(function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()}),c.a.createElement("div",{className:"list-body"},c.a.createElement(f.a,{order:a,keyword:r,activeTab:i,handleNew:this.handleNew,dispatch:this.props.dispatch}),c.a.createElement("section",{className:"list-content",ref:"list"},v.length?c.a.createElement("div",{className:"project-list"},v.map(function(t){return c.a.createElement(p.a,{key:t.cid,team:t,dispatch:e.props.dispatch,enterFrom:i})})):c.a.createElement(l.a,{isOwner:"all"===i||"mine"===i,handleNew:this.handleNew})))}}]),t}(c.a.Component);t.a=b,b.contextTypes={router:c.a.PropTypes.object},b.propTypes={dispatch:c.a.PropTypes.func,teamService:c.a.PropTypes.object,listContainer:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n,r){var a="p"+Math.uuid(10,16)+(new Date).valueOf(),o=new f({cid:a,access_token:Math.uuid(31),archived:!1,auto_scale:!1,device:e,model:t,scale:100,access:"private",orientation:"portrait",highlight:!0,shell_type:n,template:!1,combo:!1,icon:"/images/icon_normal.png",owner_id:d.user.id,owner_name:d.user.name,owner_avatar:d.user.avatar,owenr_plan:d.user.plan,validated:d.user.validated,screens_count:2,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),i=m.find(r);return i&&(o.team_cid=i.cid,o.owner_id=i.owner_id,o.owner_avatar=i.owner_avatar,o.access="private"),o}var c=n(0),s=n.n(c),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=window,p=l.$,d=l.MB,f=l.Project,m=l.Team,h=function(e){function t(){var e,n,o,c;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.handleIPhone=function(){var e=i("iphone","iphone_5","device",o.props.tcid);o.renderModal(e)},o.handleIPad=function(){var e=i("ipad","ipad_3_4","device",o.props.tcid);o.renderModal(e)},o.handleAndroid=function(){d.DEVICES.android.customize.width=360,d.DEVICES.android.customize.height=640;
var e=i("android","google_nexus","device",o.props.tcid);o.renderModal(e)},o.handleCustomize=function(){d.DEVICES.android.customize.width=1440,d.DEVICES.android.customize.height=1024;var e=i("web","desktop","none",o.props.tcid);o.renderModal(e)},c=n,a(o,c)}return o(t,e),u(t,[{key:"renderModal",value:function(e){d.renderAppModal(e),p("#app-modal").modal()}},{key:"render",value:function(){return s.a.createElement("div",{className:"section blank"},s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY0cHgiIGhlaWdodD0iMTY0cHgiIHZpZXdCb3g9IjI1OCAxNTQgMTY0IDE2NCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd0JsdXJPdXRlcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbXBvc2l0ZT4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuNTkyMTU2ODYzICAgMCAwIDAgMCAwLjYxMTc2NDcwNiAgIDAgMCAwIDAgMC42MzUyOTQxMTggIDAgMCAwIDAuMTUgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxtYXNrIGlkPSJtYXNrLTMiIG1hc2tDb250ZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC00IiB4PSIwIiB5PSIwIiB3aWR0aD0iMzYiIGhlaWdodD0iNjQiIHJ4PSI1Ij48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNSIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSIzNiIgaGVpZ2h0PSI2NCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTQiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC02IiB4PSIwIiB5PSI2IiB3aWR0aD0iMzYiIGhlaWdodD0iNDkiPjwvcmVjdD4KICAgICAgICA8bWFzayBpZD0ibWFzay03IiBtYXNrQ29udGVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgbWFza1VuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeD0iMCIgeT0iMCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjQ5IiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Ikdyb3VwLTIzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjAuMDAwMDAwLCAxNTUuMDAwMDAwKSI+CiAgICAgICAgPGcgaWQ9IlJlY3RhbmdsZS0xNyI+CiAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0yKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDx1c2Ugc3Ryb2tlLW9wYWNpdHk9IjAuNSIgc3Ryb2tlPSIjREVERkUxIiBtYXNrPSJ1cmwoI21hc2stMykiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9Im1vYmlsZSIgb3BhY2l0eT0iMC41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Mi4wMDAwMDAsIDMxLjAwMDAwMCkiIHN0cm9rZT0iIzQyNEI1NyIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stNSkiIHN0cm9rZS13aWR0aD0iMiIgeGxpbms6aHJlZj0iI3BhdGgtNCI+PC91c2U+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stNykiIHN0cm9rZS13aWR0aD0iMiIgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMSIgY3g9IjE4IiBjeT0iNTkiIHI9IjIiPjwvY2lyY2xlPgogICAgICAgIDwvZz4KICAgICAgICA8dGV4dCBpZD0iaVBob25lIiBvcGFjaXR5PSIwLjkiIGZvbnQtZmFtaWx5PSJQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0ibm9ybWFsIiBmaWxsPSIjNjE2MjZEIj4KICAgICAgICAgICAgPHRzcGFuIHg9IjU3LjkyMiIgeT0iMTM5Ij5pUGhvbmU8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgIDwvZz4KPC9zdmc+",onClick:this.handleIPhone}),s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY0cHgiIGhlaWdodD0iMTY0cHgiIHZpZXdCb3g9IjQ1OCAxNTQgMTY0IDE2NCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd0JsdXJPdXRlcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbXBvc2l0ZT4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuNTkyMTU2ODYzICAgMCAwIDAgMCAwLjYxMTc2NDcwNiAgIDAgMCAwIDAgMC42MzUyOTQxMTggIDAgMCAwIDAuMTUgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxtYXNrIGlkPSJtYXNrLTMiIG1hc2tDb250ZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC00IiB4PSIwIiB5PSIwIiB3aWR0aD0iNDYiIGhlaWdodD0iNjQiIHJ4PSI1Ij48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNSIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSI0NiIgaGVpZ2h0PSI2NCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTQiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC02IiB4PSIwIiB5PSI2IiB3aWR0aD0iNDYiIGhlaWdodD0iNDkiPjwvcmVjdD4KICAgICAgICA8bWFzayBpZD0ibWFzay03IiBtYXNrQ29udGVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgbWFza1VuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ2IiBoZWlnaHQ9IjQ5IiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Ikdyb3VwLTIzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NjAuMDAwMDAwLCAxNTUuMDAwMDAwKSI+CiAgICAgICAgPGcgaWQ9IlJlY3RhbmdsZS0xNyI+CiAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0yKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDx1c2Ugc3Ryb2tlLW9wYWNpdHk9IjAuNSIgc3Ryb2tlPSIjREVERkUxIiBtYXNrPSJ1cmwoI21hc2stMykiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9Im1vYmlsZSIgb3BhY2l0eT0iMC41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1Ny4wMDAwMDAsIDMxLjAwMDAwMCkiIHN0cm9rZT0iIzQyNEI1NyIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stNSkiIHN0cm9rZS13aWR0aD0iMiIgeGxpbms6aHJlZj0iI3BhdGgtNCI+PC91c2U+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stNykiIHN0cm9rZS13aWR0aD0iMiIgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtMSIgY3g9IjIzIiBjeT0iNTkiIHI9IjIiPjwvY2lyY2xlPgogICAgICAgIDwvZz4KICAgICAgICA8dGV4dCBpZD0iaVBhZCIgb3BhY2l0eT0iMC45IiBmb250LWZhbWlseT0iUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQyIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgZmlsbD0iIzYxNjI2RCI+CiAgICAgICAgICAgIDx0c3BhbiB4PSI2NS42OTkiIHk9IjEzOSI+aVBhZDwvdHNwYW4+CiAgICAgICAgPC90ZXh0PgogICAgPC9nPgo8L3N2Zz4=",onClick:this.handleIPad}),s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY0cHgiIGhlaWdodD0iMTY0cHgiIHZpZXdCb3g9IjY1OCAxNTQgMTY0IDE2NCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd0JsdXJPdXRlcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbXBvc2l0ZT4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuNTkyMTU2ODYzICAgMCAwIDAgMCAwLjYxMTc2NDcwNiAgIDAgMCAwIDAgMC42MzUyOTQxMTggIDAgMCAwIDAuMTUgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxtYXNrIGlkPSJtYXNrLTMiIG1hc2tDb250ZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC00IiB4PSIwIiB5PSIwIiB3aWR0aD0iMzYiIGhlaWdodD0iNjQiIHJ4PSI1Ij48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNSIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSIzNiIgaGVpZ2h0PSI2NCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTQiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC02IiB4PSIwIiB5PSI2IiB3aWR0aD0iMzYiIGhlaWdodD0iNTAiPjwvcmVjdD4KICAgICAgICA8bWFzayBpZD0ibWFzay03IiBtYXNrQ29udGVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgbWFza1VuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeD0iMCIgeT0iMCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjUwIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Ikdyb3VwLTIzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NjAuMDAwMDAwLCAxNTUuMDAwMDAwKSI+CiAgICAgICAgPGcgaWQ9IlJlY3RhbmdsZS0xNyI+CiAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0yKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDx1c2Ugc3Ryb2tlLW9wYWNpdHk9IjAuNSIgc3Ryb2tlPSIjREVERkUxIiBtYXNrPSJ1cmwoI21hc2stMykiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGcgaWQ9Im1vYmlsZSIgb3BhY2l0eT0iMC41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Mi4wMDAwMDAsIDMxLjAwMDAwMCkiIHN0cm9rZT0iIzQyNEI1NyIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stNSkiIHN0cm9rZS13aWR0aD0iMiIgeGxpbms6aHJlZj0iI3BhdGgtNCI+PC91c2U+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stNykiIHN0cm9rZS13aWR0aD0iMiIgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtNCIgeD0iMTQiIHk9IjU4IiB3aWR0aD0iOCIgaGVpZ2h0PSIzIiByeD0iMS41Ij48L3JlY3Q+CiAgICAgICAgPC9nPgogICAgICAgIDx0ZXh0IGlkPSJBbmRyb2lkIiBvcGFjaXR5PSIwLjkiIGZvbnQtZmFtaWx5PSJQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0ibm9ybWFsIiBmaWxsPSIjNjE2MjZEIj4KICAgICAgICAgICAgPHRzcGFuIHg9IjU0LjgzNSIgeT0iMTM5Ij5BbmRyb2lkPC90c3Bhbj4KICAgICAgICA8L3RleHQ+CiAgICA8L2c+Cjwvc3ZnPg==",onClick:this.handleAndroid}),s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY0cHgiIGhlaWdodD0iMTY0cHgiIHZpZXdCb3g9Ijg1OCAxNTQgMTY0IDE2NCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd0JsdXJPdXRlcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbXBvc2l0ZT4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuNTkyMTU2ODYzICAgMCAwIDAgMCAwLjYxMTc2NDcwNiAgIDAgMCAwIDAgMC42MzUyOTQxMTggIDAgMCAwIDAuMTUgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxtYXNrIGlkPSJtYXNrLTMiIG1hc2tDb250ZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC00IiB4PSIwIiB5PSIwIiB3aWR0aD0iNjQiIGhlaWdodD0iNDQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNSIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSI2NCIgaGVpZ2h0PSI0NCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTQiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC02IiB4PSIwIiB5PSIzNCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjEwIj48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNyIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSI2NCIgaGVpZ2h0PSIxMCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTYiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC04IiB4PSIyNiIgeT0iNDMiIHdpZHRoPSIxMiIgaGVpZ2h0PSI5Ij48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stOSIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSIxMiIgaGVpZ2h0PSI5IiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtOCI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxyZWN0IGlkPSJwYXRoLTEwIiB4PSIyMiIgeT0iNTEiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxIj48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stMTEiIG1hc2tDb250ZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMSIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEwIj48L3VzZT4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iR3JvdXAtMjMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg2MC4wMDAwMDAsIDE1NS4wMDAwMDApIj4KICAgICAgICA8ZyBpZD0iUmVjdGFuZ2xlLTE3Ij4KICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgPHVzZSBzdHJva2Utb3BhY2l0eT0iMC41IiBzdHJva2U9IiNERURGRTEiIG1hc2s9InVybCgjbWFzay0zKSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvZz4KICAgICAgICA8ZyBpZD0ibW9iaWxlIiBvcGFjaXR5PSIwLjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4LjAwMDAwMCwgMzcuMDAwMDAwKSIgc3Ryb2tlPSIjNDI0QjU3IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8dXNlIGlkPSJSZWN0YW5nbGUtMSIgbWFzaz0idXJsKCNtYXNrLTUpIiB4bGluazpocmVmPSIjcGF0aC00Ij48L3VzZT4KICAgICAgICAgICAgPHVzZSBpZD0iUmVjdGFuZ2xlLTEiIG1hc2s9InVybCgjbWFzay03KSIgeGxpbms6aHJlZj0iI3BhdGgtNiI+PC91c2U+CiAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS0xIiBtYXNrPSJ1cmwoI21hc2stOSkiIHhsaW5rOmhyZWY9IiNwYXRoLTgiPjwvdXNlPgogICAgICAgICAgICA8dXNlIGlkPSJSZWN0YW5nbGUtMSIgbWFzaz0idXJsKCNtYXNrLTExKSIgeGxpbms6aHJlZj0iI3BhdGgtMTAiPjwvdXNlPgogICAgICAgIDwvZz4KICAgICAgICA8dGV4dCBpZD0iV2ViIiBvcGFjaXR5PSIwLjkiIGZvbnQtZmFtaWx5PSJQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0ibm9ybWFsIiBmaWxsPSIjNjE2MjZEIj4KICAgICAgICAgICAgPHRzcGFuIHg9IjY1LjUwMyIgeT0iMTM5Ij5XZWI8L3RzcGFuPgogICAgICAgIDwvdGV4dD4KICAgIDwvZz4KPC9zdmc+",onClick:this.handleCustomize}))}}]),t}(s.a.Component);t.a=h,h.propTypes={tcid:s.a.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(3),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=window,p=l.I18N,d=l.$,f=l.MB,m=l.Project,h={android:"fa fa-android",web:"fa fa-desktop"},v=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.handleCreate=function(){var e=o.props,t=e.demo,n=e.tcid;f.ga("send","event","feature","点击了模板项目"+t.name);var r=new m({device:t.device,model:t.model});n&&(r.team_cid=n),r.base=t.access_token,f.renderAppModal(r),d("#app-modal").modal()},o.handlePreview=function(e){f.isElectron()&&(e.preventDefault(),e.stopPropagation(),s.browserHistory.push("/workspace/page/app/"+o.props.demo.access_token))},i=n,a(o,i)}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.demo,t=h[e.device]||"fa fa-apple";return c.a.createElement("div",{className:"app"},c.a.createElement("img",{className:"snapshot",src:e.cover}),c.a.createElement("div",{className:"overlay"},c.a.createElement("a",{onClick:this.handleCreate},c.a.createElement("i",{className:"fa fa-plus"}),p.new_app),c.a.createElement("a",{href:"/app/"+e.access_token,target:"_blank",onClick:this.handlePreview},c.a.createElement("i",{className:"fa fa-eye"}),p.preview_demo)),c.a.createElement("div",{className:"meta"},c.a.createElement("i",{className:t}),e.name))}}]),t}(c.a.Component);t.a=v,v.propTypes={demo:c.a.PropTypes.object,tcid:c.a.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.color,t=this.props.value;return c.a.createElement("div",{className:"mb-hr"},c.a.createElement("h5",{style:{background:e}},t))}}]),t}(c.a.Component);u.propTypes={color:c.a.PropTypes.string,value:c.a.PropTypes.string},u.defaultProps={color:"#FFF"},t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(3),u=(n.n(s),n(214)),l=n(213),p=n(212),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=window,m=f.I18N,h=f.MB,v=f.$,y=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.handleBack=function(){var e=s.browserHistory.getCurrentLocation(),t=e.pathname,n=e.state,r=void 0===n?{}:n;r.fromList?s.browserHistory.goBack():/\/team/.test(t)?s.browserHistory.push(t.replace(/\/start/,"")):s.browserHistory.push("/workspace/apps")},i=n,a(o,i)}return o(t,e),d(t,[{key:"componentDidMount",value:function(){v(this.refs.list).perfectScrollbar({suppressScrollX:!0})}},{key:"componentWillUnmount",value:function(){v(this.refs.list).perfectScrollbar("destroy")}},{key:"render",value:function(){var e=h.demos,t=this.context.router.params.tcid,n=v("body").css("background-color");return c.a.createElement("div",{id:"welcome",className:"list-body"},c.a.createElement("header",{className:"list-header"},c.a.createElement("h3",null,m.new_app),c.a.createElement("a",{className:"btn btn-default",onClick:this.handleBack},c.a.createElement("span",null,m.back))),c.a.createElement("section",{className:"list-content",ref:"list"},c.a.createElement("div",{className:"welcome-content"},c.a.createElement(u.a,{value:m.blank_app,color:n}),c.a.createElement(p.a,{tcid:t}),c.a.createElement(u.a,{value:m.template_app,color:n}),c.a.createElement("div",{className:"section"},e.map(function(e){return c.a.createElement(l.a,{key:e.id,demo:e,tcid:t})},this)))))}}]),t}(c.a.Component);t.a=y,y.contextTypes={router:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(101),u=n(204),l=n(206),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=window,f=d.I18N,m=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleNew=function(e){o.props.handleNew(e)},i=n,a(o,i)}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.order,n=e.keyword,r=e.team,a=e.type,o=e.collaborations;return c.a.createElement("div",{className:"list-header"},r?c.a.createElement(l.a,{type:a,team:r}):c.a.createElement(u.a,{type:a,collaborations:o}),c.a.createElement(s.a,{order:t,keyword:n,btnText:f.new_app,dispatch:this.props.dispatch,handleNew:this.handleNew,placeholder:f.type2search+f.project}))}}]),t}(c.a.Component);t.a=m,m.propTypes={team:c.a.PropTypes.object,type:c.a.PropTypes.string,order:c.a.PropTypes.string,keyword:c.a.PropTypes.string,collaborations:c.a.PropTypes.object,dispatch:c.a.PropTypes.func,handleNew:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(5),u=n.n(s),l=n(219),p=n(176),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=window,m=f.MB,h=f.confirm,v=f.I18N,y=f.$,g=f.Project,b=f.Template,I=f.Screen,w=f.Widget,C=f.Link,E=f.Panel,M=f.Screenstate,j=f.Widgetstate,_=f.Panelstate,k=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.designApp=function(e){e.preventDefault();var t=n.props.app;if(t.canEdit()){if(e.preventDefault(),e.stopPropagation(),m.viewOnly(t))return void m.promptRenew(t,"collaboration");n.clearData(),m.designer.designApp(t.cid)}},n.handleSettings=function(e){e.preventDefault(),e.stopPropagation();var t=g.find(n.props.app.cid);m.ga("send","event","feature","点击了设置按钮"),n.clearData(),"web"!==t.device&&"customize"!==t.model||(m.DEVICES[t.device][t.model].width=t.width,m.DEVICES[t.device][t.model].height=t.height),m.renderAppModal(t),y("#app-modal").modal()},n.handleSharing=function(e){e.preventDefault(),e.stopPropagation(),m.ga("send","event","feature","点击了分享按钮"),n.clearData();var t=g.find(n.props.app.cid);m.renderSharing(t);var r=y("#sharing-modal");r.modal(),r.one("hidden.bs.modal",function(){u.a.unmountComponentAtNode(r[0])})},n.handleDup=function(e){e.preventDefault(),e.stopPropagation();var t=n.props.app;if(m.viewOnly(t))return void m.promptRenew(t,"collaboration");if(!h(v.dup_app_confirmation)!=!0){var r="/app/"+t.access_token+"/duplicate.json";y.getJSON(r,function(e){m.pusher.notifyFallback({message:v.project_duplicated})})}},n.handleMore=function(){n.setState({showPopup:!n.state.showPopup})},n.handleMouseLeave=function(){n.setState({showPopup:!1})},n.handleDel=function(e){e.preventDefault(),e.stopPropagation();var t=n.props,r=t.app,a=t.dispatch;a({type:"entry:service:project:delete",payload:{project:r}})},n.handleMove=function(e){e.preventDefault(),y("#move-modal").html("");var t=document.getElementById("move-modal");u.a.unmountComponentAtNode(t),u.a.render(c.a.createElement(l.a,{app:n.props.app}),t),y("#move-modal").modal()},n.state={showPopup:!1},n}return o(t,e),d(t,[{key:"componentDidMount",value:function(){y.timeago.settings.lang=m.locale,y(".timeago").timeago(),y(this.refs.icons).find(".action-icon").tooltip({container:this.refs.icons,trigger:"hover focus click"})}},{key:"clearData",value:function(){b.deleteAll(),I.deleteAll(),w.deleteAll(),C.deleteAll(),E.deleteAll(),M.deleteAll(),j.deleteAll(),_.deleteAll()}},{key:"render",value:function(){var e=this.props.app,t=e.owner_id===m.user.id,n=t||e.canEdit(),r=t||e.canAdmin(),a=t||r&&e.team_cid?v.delete:v.remove_me,o=e.duplicating,i=o&&new Date-new Date(e.created_at)>36e5;if(0===e.screens_count&&!e.duplicating)return null;var s=e.screens_count+" "+v.screens_count;e.screens_count<2&&(s=s.replace(/s$/,""));var u=void 0;this.state.showPopup||(u=c.a.createElement(m.Collaborators,{host:e.team_cid?e.cteam():e}));var l=this.state.showPopup,d=!this.state.showPopup;return c.a.createElement("div",{id:"app"+e.cid,"data-cid":e.cid,"data-access":e.access,className:e.version+" item "+e.access,onMouseLeave:this.handleMouseLeave,style:{pointerEvents:o&&!i?"none":"auto"}},c.a.createElement("section",{className:"item-top"},u),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"icon"},c.a.createElement("img",{src:e.icon})),c.a.createElement(p.a,{className:"title",title:e.name,isHTML:!0}),c.a.createElement("div",{className:"timestamp"},o?i?c.a.createElement("span",{style:{color:"#f55d54"}},v.project_duplicate_failed):c.a.createElement("span",null,v.project_duplicating):c.a.createElement("time",{className:"timeago",dateTime:e.updated_at})),c.a.createElement("div",{className:"meta"},c.a.createElement("span",null,s),c.a.createElement("span",{className:"dot"}),c.a.createElement("span",{className:"device_name"},e.device_name())),c.a.createElement("div",{className:"overlay"},!(!n||!d)&&c.a.createElement("div",{className:"actions"},c.a.createElement("a",{className:"action",href:"/app/"+e.access_token+"/workflow",target:"_blank"},v.edit_workflows),c.a.createElement("a",{className:"action active",onClick:this.designApp},v.edit_screens)),!(n||!d)&&c.a.createElement("div",{className:"actions"},c.a.createElement("a",{className:"action",href:"/app/"+e.access_token,target:"_blank"},v.view_app),c.a.createElement("a",{className:"action active",href:"/app/"+e.access_token+"/workflow",target:"_blank"},v.view_workflows)),c.a.createElement("div",{className:"icons",ref:"icons"},c.a.createElement("div",{className:"action-icon","data-toggle":"tooltip","data-placement":"top",title:v.setting,onClick:this.handleSettings,style:{display:m.shouldDisplay(n||!e.team_cid)}},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4zICgzMzgzOSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJpY19zZXR0aW5ncyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBvbHlnb24gaWQ9IkJvdW5kcyIgcG9pbnRzPSIwIDAgMjQgMCAyNCAyNCAwIDI0Ij48L3BvbHlnb24+CiAgICAgICAgPHBhdGggZD0iTTE5LjQzLDEyLjk4IEMxOS40NywxMi42NiAxOS41LDEyLjM0IDE5LjUsMTIgQzE5LjUsMTEuNjYgMTkuNDcsMTEuMzQgMTkuNDMsMTEuMDIgTDIxLjU0LDkuMzcgQzIxLjczLDkuMjIgMjEuNzgsOC45NSAyMS42Niw4LjczIEwxOS42Niw1LjI3IEMxOS41NCw1LjA1IDE5LjI3LDQuOTcgMTkuMDUsNS4wNSBMMTYuNTYsNi4wNSBDMTYuMDQsNS42NSAxNS40OCw1LjMyIDE0Ljg3LDUuMDcgTDE0LjQ5LDIuNDIgQzE0LjQ2LDIuMTggMTQuMjUsMiAxNCwyIEwxMCwyIEM5Ljc1LDIgOS41NCwyLjE4IDkuNTEsMi40MiBMOS4xMyw1LjA3IEM4LjUyLDUuMzIgNy45Niw1LjY2IDcuNDQsNi4wNSBMNC45NSw1LjA1IEM0LjcyLDQuOTYgNC40Niw1LjA1IDQuMzQsNS4yNyBMMi4zNCw4LjczIEMyLjIxLDguOTUgMi4yNyw5LjIyIDIuNDYsOS4zNyBMNC41NywxMS4wMiBDNC41MywxMS4zNCA0LjUsMTEuNjcgNC41LDEyIEM0LjUsMTIuMzMgNC41MywxMi42NiA0LjU3LDEyLjk4IEwyLjQ2LDE0LjYzIEMyLjI3LDE0Ljc4IDIuMjIsMTUuMDUgMi4zNCwxNS4yNyBMNC4zNCwxOC43MyBDNC40NiwxOC45NSA0LjczLDE5LjAzIDQuOTUsMTguOTUgTDcuNDQsMTcuOTUgQzcuOTYsMTguMzUgOC41MiwxOC42OCA5LjEzLDE4LjkzIEw5LjUxLDIxLjU4IEM5LjU0LDIxLjgyIDkuNzUsMjIgMTAsMjIgTDE0LDIyIEMxNC4yNSwyMiAxNC40NiwyMS44MiAxNC40OSwyMS41OCBMMTQuODcsMTguOTMgQzE1LjQ4LDE4LjY4IDE2LjA0LDE4LjM0IDE2LjU2LDE3Ljk1IEwxOS4wNSwxOC45NSBDMTkuMjgsMTkuMDQgMTkuNTQsMTguOTUgMTkuNjYsMTguNzMgTDIxLjY2LDE1LjI3IEMyMS43OCwxNS4wNSAyMS43MywxNC43OCAyMS41NCwxNC42MyBMMTkuNDMsMTIuOTggTDE5LjQzLDEyLjk4IFogTTEyLDE1LjUgQzEwLjA3LDE1LjUgOC41LDEzLjkzIDguNSwxMiBDOC41LDEwLjA3IDEwLjA3LDguNSAxMiw4LjUgQzEzLjkzLDguNSAxNS41LDEwLjA3IDE1LjUsMTIgQzE1LjUsMTMuOTMgMTMuOTMsMTUuNSAxMiwxNS41IEwxMiwxNS41IFoiIGlkPSJJY29uIiBmaWxsPSIjNDI0QjU3Ij48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==",alt:""})),c.a.createElement("div",{className:"action-icon","data-toggle":"tooltip","data-placement":"top",title:v.share,onClick:this.handleSharing},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iNTIgMCAyNCAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAuMyAoMzM4MzkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iaWNfc2hhcmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyLjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICA8cG9seWdvbiBpZD0iQm91bmRzIiBwb2ludHM9IjAgMCAyNCAwIDI0IDI0IDAgMjQiPjwvcG9seWdvbj4KICAgICAgICA8cGF0aCBkPSJNMTYuMDQsMTYuODUgTDguOTEsMTIuNyBDOC45NiwxMi40NyA5LDEyLjI0IDksMTIgQzksMTEuNzYgOC45NiwxMS41MyA4LjkxLDExLjMgTDE1Ljk2LDcuMTkgQzE2LjUsNy42OSAxNy4yMSw4IDE4LDggQzE5LjY2LDggMjEsNi42NiAyMSw1IEMyMSwzLjM0IDE5LjY2LDIgMTgsMiBDMTYuMzQsMiAxNSwzLjM0IDE1LDUgQzE1LDUuMjQgMTUuMDQsNS40NyAxNS4wOSw1LjcgTDguMDQsOS44MSBDNy41LDkuMzEgNi43OSw5IDYsOSBDNC4zNCw5IDMsMTAuMzQgMywxMiBDMywxMy42NiA0LjM0LDE1IDYsMTUgQzYuNzksMTUgNy41LDE0LjY5IDguMDQsMTQuMTkgTDE1LjE2LDE4LjM1IEMxNS4xMSwxOC41NiAxNS4wOCwxOC43OCAxNS4wOCwxOSBDMTUuMDgsMjAuNjEgMTYuMzksMjEuOTIgMTgsMjEuOTIgQzE5LjYxLDIxLjkyIDIwLjkyLDIwLjYxIDIwLjkyLDE5IEMyMC45MiwxNy4zOSAxOS42MSwxNi4wOCAxOCwxNi4wOCBDMTcuMjQsMTYuMDggMTYuNTYsMTYuMzggMTYuMDQsMTYuODUgWiIgaWQ9Ikljb24iIGZpbGw9IiM0MjRCNTciPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+",
alt:""})),c.a.createElement("a",{className:"action-icon","data-toggle":"tooltip","data-placement":"top",title:v.launch,href:"/app/"+e.access_token,target:"_blank"},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMTA0IDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQwLjMgKDMzODM5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9ImljX3BsYXlfYXJyb3ciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNC4wMDAwMDAsIDAuMDAwMDAwKSI+CiAgICAgICAgPHBvbHlnb24gaWQ9IkJvdW5kcyIgcG9pbnRzPSIwIDAgMjQgMCAyNCAyNCAwIDI0Ij48L3BvbHlnb24+CiAgICAgICAgPHBvbHlnb24gaWQ9Ikljb24iIGZpbGw9IiM0MjRCNTciIHBvaW50cz0iNiAyIDYgMjIgMjIgMTIiPjwvcG9seWdvbj4KICAgIDwvZz4KPC9zdmc+",alt:""})),c.a.createElement("div",{className:"action-icon",onClick:this.handleMore,"data-toggle":"tooltip","data-placement":"top",title:v.more_options},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMTU2IDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQwLjMgKDMzODM5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9ImljX21vcmVfdmVydCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU2LjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICA8cG9seWdvbiBpZD0iQm91bmRzIiBwb2ludHM9IjAgMCAyNCAwIDI0IDI0IDAgMjQiPjwvcG9seWdvbj4KICAgICAgICA8cGF0aCBkPSJNMTIsOCBDMTMuMSw4IDE0LDcuMSAxNCw2IEMxNCw0LjkgMTMuMSw0IDEyLDQgQzEwLjksNCAxMCw0LjkgMTAsNiBDMTAsNy4xIDEwLjksOCAxMiw4IEwxMiw4IFogTTEyLDEwIEMxMC45LDEwIDEwLDEwLjkgMTAsMTIgQzEwLDEzLjEgMTAuOSwxNCAxMiwxNCBDMTMuMSwxNCAxNCwxMy4xIDE0LDEyIEMxNCwxMC45IDEzLjEsMTAgMTIsMTAgTDEyLDEwIFogTTEyLDE2IEMxMC45LDE2IDEwLDE2LjkgMTAsMTggQzEwLDE5LjEgMTAuOSwyMCAxMiwyMCBDMTMuMSwyMCAxNCwxOS4xIDE0LDE4IEMxNCwxNi45IDEzLjEsMTYgMTIsMTYgTDEyLDE2IFoiIGlkPSJJY29uIiBmaWxsPSIjNDI0QjU3Ij48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==",alt:""}))),c.a.createElement("ul",{className:"popup",style:{display:m.shouldDisplay(l)}},c.a.createElement("li",null,c.a.createElement("a",{onClick:this.handleDup,style:{display:m.shouldDisplay(n)}},v.make_a_copy)),c.a.createElement("li",null,c.a.createElement("a",{onClick:this.handleMove,style:{display:m.shouldDisplay(t)}},v.move)),c.a.createElement("li",{className:"divider"}),c.a.createElement("li",null,c.a.createElement("a",{onClick:this.handleDel,style:{display:m.shouldDisplay(r||!e.team_cid)}},a))))))}}]),t}(c.a.Component);t.a=k,k.propTypes={app:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=window,l=u.I18N,p=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleNew=function(e){o.props.handleNew(e)},i=n,a(o,i)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.team?l.no_team_app:l.no_app;return c.a.createElement("section",{className:"no-app"},c.a.createElement("div",{className:"create-body",onClick:this.handleNew},c.a.createElement("img",{src:"/images/workspace/no_app.png",alt:""}),c.a.createElement("p",{className:"no-tips"},e),c.a.createElement("p",{className:"create-tips"},l.create_app_tips),c.a.createElement("a",{className:"btn btn-primary new",onClick:this.handleNew},c.a.createElement("i",{className:"fa fa-plus"}),c.a.createElement("span",null,l.new_app))),c.a.createElement("div",{className:"create-bottom"},c.a.createElement("a",{href:"/downloads",target:"_blank",className:"download"},c.a.createElement("img",{src:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MC4zICgzMzgzOSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJpY19kZXNrdG9wX21hYyIgb3BhY2l0eT0iMC44MDAwMDAwMTIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwb2x5Z29uIGlkPSJCb3VuZHMiIHBvaW50cz0iMCAwIDI0IDAgMjQgMjQgMCAyNCI+PC9wb2x5Z29uPgogICAgICAgIDxwYXRoIGQ9Ik0yMSwyIEwzLDIgQzEuOSwyIDEsMi45IDEsNCBMMSwxNiBDMSwxNy4xIDEuOSwxOCAzLDE4IEwxMCwxOCBMOCwyMSBMOCwyMiBMMTYsMjIgTDE2LDIxIEwxNCwxOCBMMjEsMTggQzIyLjEsMTggMjMsMTcuMSAyMywxNiBMMjMsNCBDMjMsMi45IDIyLjEsMiAyMSwyIEwyMSwyIFogTTIxLDE0IEwzLDE0IEwzLDQgTDIxLDQgTDIxLDE0IEwyMSwxNCBaIiBpZD0iSWNvbiIgZmlsbD0iIzYxNjI2RCI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4="}),c.a.createElement("span",null,l.client_download)),c.a.createElement("a",{href:"/tutorials",target:"_blank",className:"help"},c.a.createElement("span",{className:"fa fa-question-circle-o"}),c.a.createElement("span",null,l.tutorial_video))))}}]),t}(c.a.Component);t.a=p,p.propTypes={team:c.a.PropTypes.object,handleNew:c.a.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=window,l=u.MB,p=u.I18N,d=u.Team,f=u.$,m=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={makeCopy:!1,dst:null},n.handleDstChange=n.handleDstChange.bind(n),n.handleMakeCopy=n.handleMakeCopy.bind(n),n.handleMove=n.handleMove.bind(n),n}return o(t,e),s(t,[{key:"handleDstChange",value:function(e){var t=e.target.value;"inbox"===t||"archive"===t?this.setState({dst:t,makeCopy:!1}):this.setState({dst:t})}},{key:"handleMakeCopy",value:function(e){this.setState({makeCopy:e.target.checked})}},{key:"handleMove",value:function(){var e=this.state.dst;if(e){f("#move-modal").modal("hide");var t=this.props.app;if("inbox"===e||"archive"===e)t.archived="archive"===e,t.team_cid=null;else{if(this.state.makeCopy){var n="/app/"+t.access_token+"/duplicate.json?team_cid="+e;return void f.getJSON(n,function(e){l.pusher.notifyFallback({message:p.project_duplicated})})}var r=d.find(e);t.team_cid=e,t.owner_id=r.owner_id,t.owner_avatar=r.owner_avatar,t.owner_name=r.owner_name,t.archived=!1}t.lsave(),l.webpackInterface.refreshProject(),f("body").trigger("queue:save"),this.dst=null}}},{key:"render",value:function(){var e=[],t=[],n=this.props.app,r=this.state.dst,a=r&&"inbox"!==r&&"archive"!==r;d.all().map(function(r){n.team_cid!==r.cid&&(r.owner_id===l.user.id?e.push(r):t.push(r))});var o=void 0,i=void 0;return n.archived&&!n.team_cid||(o=c.a.createElement("option",{value:"archive",key:"archive"},p.archive)),(n.archived||n.team_cid)&&(i=c.a.createElement("option",{value:"inbox",key:"inbox"},p.inbox)),c.a.createElement("div",null,c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement(l.ModalHeader,{title:p.move}),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{className:"form-control",onChange:this.handleDstChange},c.a.createElement("option",{value:""},p.choose_move_dst),i,o,c.a.createElement("optgroup",{label:p.created_teams},e.map(function(e){return c.a.createElement("option",{value:e.cid,key:e.cid},e.name)},this)),c.a.createElement("optgroup",{label:p.joined_teams},t.map(function(e){return c.a.createElement("option",{value:e.cid,key:e.cid},e.name)},this)))),c.a.createElement("div",{className:"form-group",style:{display:l.shouldDisplay(a)}},c.a.createElement("label",{style:{color:"#888",fontWeight:"normal"}},c.a.createElement("input",{type:"checkbox",style:{marginRight:8},checked:this.state.makeCopy,onClick:this.handleMakeCopy}),p.move_tips))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{type:"submit",className:"btn btn-primary",onClick:this.handleMove},p.move)))))}}]),t}(c.a.Component);t.a=m,m.propTypes={app:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e){var t=e.handleChange,n=e.handleClear,r=e.keyword,a=e.placeholder;return o.a.createElement("div",{className:"search-box"},o.a.createElement("a",{className:"search"},o.a.createElement("i",{className:"fa fa-search"})),o.a.createElement("input",{className:"search-area",value:r,onChange:t,placeholder:a}),r.length?o.a.createElement("a",{className:"clear",onClick:n},o.a.createElement("i",{className:"fa fa-times-circle"})):null)}var a=n(0),o=n.n(a);t.a=r,r.propTypes={keyword:o.a.PropTypes.string,handleClear:o.a.PropTypes.func,handleChange:o.a.PropTypes.func,placeholder:o.a.PropTypes.string}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={keyword:"",order:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,o=t.payload;switch(n){case"container:listpage:set:order":return r({},e,{order:o.order});case"container:listpage:set:keyword":return r({},e,{keyword:o.keyword})}return e}},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=n(20),u=n(108),l=n.n(u),p=n(241),d=n.n(p);n.d(t,"a",function(){return m});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.doCloseUI=function(){n.props.dispatch({type:"entry:webpack-interface:view:call",payload:{name:"screen",method:"stop"}})},n.doExpandAll=function(){return n.itemRecursiveExpand(!0)},n.doCollapseAll=function(){return n.itemRecursiveExpand(!1)};var o=n.props.inspectSession.project.screenRootList;return n.isExpandable=!1,o.forEach(function(e){e.subScreens&&(n.isExpandable=!0)}),n.contentRef=null,n.itemRefs={},n}return o(t,e),f(t,[{key:"componentDidMount",value:function(){$("#ui-screen-panel .screen-count").tooltip({container:"body",trigger:"hover focus click"})}},{key:"componentDidUpdate",value:function(){this.contentRef&&(this.contentRef.style.borderBottomWidth=this.props.screenContainer.bottomCoveredHeight+"px")}},{key:"itemRecursiveExpand",value:function(e){for(var t in this.itemRefs)this.itemRefs[t].doRecursiveExpand(e)}},{key:"isItemExpanded",value:function(){for(var e in this.itemRefs)if(this.itemRefs[e].isExpand)return!0;return!1}},{key:"renderRootScreens",value:function(){var e=this,t=this.props,n=t.inspectSession,r=t.commentSession,a=t.dispatch;return n.project.screenRootList.map(function(t){return c.a.createElement(h,{key:t.cid,ref:function(n){return e.itemRefs[t.cid]=n},screen:t,level:0,inspectSession:n,commentSession:r,dispatch:a})})}},{key:"render",value:function(){var e=this,t=this.isExpandable&&this.isItemExpanded(),n=this.props.inspectSession.project.screenList;return c.a.createElement("div",{className:[l.a.preview_panel,l.a.preview_panel_active].join(" ")},c.a.createElement("div",{className:l.a.preview_panel_upper,type:"toolbar"},c.a.createElement("button",{type:"button-left",className:this.isExpandable?"":l.a.invisible,onClick:t?this.doCollapseAll:this.doExpandAll},c.a.createElement("i",{className:t?"fa fa-compress":"fa fa-expand"})),c.a.createElement("p",null,s.a.I18N.preview.screen.panel,c.a.createElement("span",{className:"screen-count "+l.a.screen_count,title:s.a.I18N.preview.screen.total_page,"data-toggle":"tooltip","data-placement":"bottom"},"(",n.length>1e3?"1000+":n.length,")")),c.a.createElement("button",{type:"button-right",onClick:this.doCloseUI},c.a.createElement("i",{className:"fa fa-times"}))),c.a.createElement("div",{ref:function(t){e.contentRef=t},className:[l.a.preview_panel_content,d.a.screen_panel_content,d.a.tree_link].join(" ")},this.renderRootScreens()))}}]),t}(c.a.Component);m.propTypes={commentSession:c.a.PropTypes.object,inspectSession:c.a.PropTypes.object,screenContainer:c.a.PropTypes.object,dispatch:c.a.PropTypes.func};var h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.doSwitchComment=function(){n.doSelect(),n.props.dispatch({type:"entry:webpack-interface:view:call",payload:{name:"comment",method:"start"}}),n.props.dispatch({type:"container:comment:set:is-minified",payload:{isMinified:!1}})},n.doSelect=function(){var e=n.props,t=e.screen,r=e.inspectSession,a=r.screen.data.cid===t.cid;!a&&n.props.dispatch({type:"entry:inspect:screen",payload:{screen:t}})},n.doToggleExpand=function(e){var t=n.props,r=t.screen,a=t.dispatch;r.subScreens&&(void 0===e&&(e=!n.isExpand),n.isExpand=e,a({type:"container:screen:expand"}))},n.doRecursiveExpand=function(e){n.doToggleExpand(e);for(var t in n.itemRefs)n.itemRefs[t].doRecursiveExpand(e)},n.toggleExpand=function(e){e.stopPropagation(),n.doToggleExpand()},n.itemRefs={},n.isExpand=Boolean(e.screen.subScreens),n}return o(t,e),f(t,[{key:"renderSubLevel",value:function(){var e=this,n=this.props,r=n.screen,a=n.level,o=n.inspectSession,i=n.commentSession,s=n.dispatch,u=0===a;return r.subScreens&&c.a.createElement("div",{"data-css":"group",className:[u?d.a.screen_item_root_tree_link:"",this.isExpand?"":d.a.screen_item_hide].join(" ")},r.subScreens.map(function(n){return c.a.createElement(t,{key:n.cid,ref:function(t){return e.itemRefs[n.cid]=t},screen:n,level:a+1,inspectSession:o,commentSession:i,dispatch:s})}))}},{key:"render",value:function(){var e=this.props,t=e.screen,n=e.level,r=e.inspectSession,a=e.commentSession,o=r.screen.data.cid===t.cid,i=0===n,s=a.screenThreadCountMap,u=a.tickData,l=s&&s[t.cid]||0;u&&u.unreadCountScreenMap&&u.unreadCountScreenMap[t.cid]||0;return c.a.createElement("div",{"data-css":i?"root":"item"},c.a.createElement("div",{className:[d.a.screen_item,o?d.a.screen_item_select:"",i?d.a.screen_item_root:d.a.screen_item_sub].join(" "),onClick:o?t.subScreens?this.toggleExpand:null:this.doSelect},t.subScreens?c.a.createElement("i",{className:this.isExpand?"fa fa-chevron-down":"fa fa-chevron-right",onClick:this.toggleExpand}):c.a.createElement("i",{className:"fa fa-circle-o","data-css":"leaf"}),c.a.createElement("span",null,t.displayName),c.a.createElement("div",{"data-css":"spacer"}),l>0&&c.a.createElement("b",{onClick:this.doSwitchComment},l,c.a.createElement("div",null))),this.renderSubLevel())}}]),t}(c.a.Component);h.propTypes={screen:c.a.PropTypes.object,level:c.a.PropTypes.number,inspectSession:c.a.PropTypes.object,commentSession:c.a.PropTypes.object,dispatch:c.a.PropTypes.func}},function(e,t,n){"use strict";var r=n(18),a=(n.n(r),n(226)),o=n(224),i={ScreenPanel:n.i(r.connect)(function(e){return{commentSession:e.service.comment,inspectSession:e.service.inspect,screenContainer:e.container.screen}})(o.a)};t.a={reducers:a.a,containers:i}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={expandCount:0,bottomCoveredHeight:0};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,o=t.payload;switch(n){case"container:screen:expand":return r({},e,{expandCount:e.expandCount++});case"container:screen:set:bottom-covered-height":return r({},e,{bottomCoveredHeight:o.bottomCoveredHeight})}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.isInit=!1,this.store=null,this.viewMap={},this.observerMap={}}return a(e,[{key:"setStore",value:function(e){this.store=e}},{key:"callObserver",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this.observerMap[e]&&(t=this.observerMap)[e].apply(t,[e].concat(r))}},{key:"setObserver",value:function(e,t){this.observerMap[e]=t}},{key:"applyObserverMap",value:function(e){for(var t in e)this.setObserver(t,e[t])}},{key:"setView",value:function(e,t){this.viewMap[e]=t}},{key:"callViewMethod",value:function(e,t){for(var n,r=this.viewMap[e],a=arguments.length,o=Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];return r&&r[t]?(this.callObserver("view:"+e+":"+t),r[t].apply(r,[this.store].concat(o))):(n=console).warn.apply(n,["[WebpackInvasion][callViewMethod] missed",e,t].concat(o))}},{key:"callAllViewMethod",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a in this.viewMap)this.callViewMethod.apply(this,[a,e].concat(n))}},{key:"init",value:function(){this.isInit||(this.isInit=!0,this.callObserver("init"),this.store&&this.store.dispatch({type:"entry:service:init"}))}},{key:"clear",value:function(){this.isInit&&(this.store&&this.store.dispatch({type:"entry:service:clear"}),this.callObserver("clear"),this.isInit=!1)}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e){var t={serviceList:[],containerReducerMap:{},viewMap:{},extendCallback:null};return e.forEach(function(e){t.serviceList=a(o,t.serviceList,e.serviceList),t.containerReducerMap=a(i,t.containerReducerMap,e.containerReducerMap),t.viewMap=a(i,t.viewMap,e.viewMap),t.extendCallback=a(c,t.extendCallback,e.extendCallback)}),t}function a(e,t,n){return n?t?e(t,n):n:t}function o(e,t){function n(e){r[e]||(r[e]=!0,a.push(e))}var r={},a=[];return e.forEach(n),t.forEach(n),a}function i(e,t){function n(e,t){r[e]=t}var r={};for(var a in e)n(a,e[a]);for(var o in t)n(o,t[o]);return r}function c(e,t){return function(){return e.apply(void 0,arguments),t.apply(void 0,arguments)}}t.a=r},,,,,,,,,,function(e,t,n){(function(n){var r,a;!function(n,o){"use strict";r=[],a=function(){return o()}.apply(t,r),!(void 0!==a&&(e.exports=a))}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function c(e,t,n){c.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function u(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"undefined"!=typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(t,n,r,p,d,f,m){d=d||[];var h=d.slice(0);if("undefined"!=typeof f){if(p){if("function"==typeof p&&p(h,f))return;if("object"==typeof p){if(p.prefilter&&p.prefilter(h,f))return;if(p.normalize){var v=p.normalize(h,f,t,n);v&&(t=v[0],n=v[1])}}}h.push(f)}"regexp"===u(t)&&"regexp"===u(n)&&(t=t.toString(),n=n.toString());var y=typeof t,g=typeof n;if("undefined"===y)"undefined"!==g&&r(new o(h,n));else if("undefined"===g)r(new i(h,t));else if(u(t)!==u(n))r(new a(h,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!==0)r(new a(h,t,n));else if("object"===y&&null!==t&&null!==n){if(m=m||[],m.indexOf(t)<0){if(m.push(t),Array.isArray(t)){var b;t.length;for(b=0;b<t.length;b++)b>=n.length?r(new c(h,b,new i(e,t[b]))):l(t[b],n[b],r,p,h,b,m);for(;b<n.length;)r(new c(h,b,new o(e,n[b++])))}else{var I=Object.keys(t),w=Object.keys(n);I.forEach(function(a,o){var i=w.indexOf(a);i>=0?(l(t[a],n[a],r,p,h,a,m),w=s(w,i)):l(t[a],e,r,p,h,a,m)}),w.forEach(function(t){l(e,n[t],r,p,h,t,m)})}m.length=m.length-1}}else t!==n&&("number"===y&&isNaN(t)&&isNaN(n)||r(new a(h,t,n)))}function p(t,n,r,a){return a=a||[],l(t,n,function(e){e&&a.push(e)},r),a.length?a:e}function d(e,t,n){if(n.path&&n.path.length){var r,a=e[t],o=n.path.length-1;for(r=0;r<o;r++)a=a[n.path[r]];switch(n.kind){case"A":d(a[n.path[r]],n.index,n.item);break;case"D":delete a[n.path[r]];break;case"E":case"N":a[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,a=-1,o=n.path?n.path.length-1:0;++a<o;)"undefined"==typeof r[n.path[a]]&&(r[n.path[a]]="number"==typeof n.path[a]?[]:{}),r=r[n.path[a]];switch(n.kind){case"A":d(n.path?r[n.path[a]]:r,n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}}function m(e,t,n){if(n.path&&n.path.length){var r,a=e[t],o=n.path.length-1;for(r=0;r<o;r++)a=a[n.path[r]];switch(n.kind){case"A":m(a[n.path[r]],n.index,n.item);break;case"D":a[n.path[r]]=n.lhs;break;case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}else switch(n.kind){case"A":m(e[t],n.index,n.item);break;case"D":e[t]=n.lhs;break;case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function h(e,t,n){if(e&&t&&n&&n.kind){var r,a,o=e;for(a=n.path.length-1,r=0;r<a;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":m(o[n.path[r]],n.index,n.item);break;case"D":o[n.path[r]]=n.lhs;break;case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function v(e,t,n){if(e&&t){var r=function(r){n&&!n(e,t,r)||f(e,t,r)};l(e,t,r)}}var y,g,b=[];return y="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},g=y.DeepDiff,g&&b.push(function(){"undefined"!=typeof g&&y.DeepDiff===p&&(y.DeepDiff=g,g=e)}),t(a,r),t(o,r),t(i,r),t(c,r),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:h,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof g},enumerable:!0},noConflict:{value:function(){return b&&(b.forEach(function(e){e()}),b=null),p},enumerable:!0}}),p})}).call(t,n(24))},function(e,t){e.exports={dropdown:"ZcLoiTn-2kIJ3pJ-dHqPg"}},function(e,t){},function(e,t){e.exports={tree_link:"b2_fE7vM12Y3f0J1gojkZ",screen_panel_content:"A5pU1_spzusLYE-g9Y_QL",screen_item:"_1dED9ixAeONzrFxFDos086",screen_item_root:"_3_wRnSAjKOHPP5M5ofa67d",screen_item_root_tree_link:"_2q8mixQByXr8jcJI-DmKUI",screen_item_sub:"_1ZRCf0F1OYDST2pCpebKTv",screen_item_hide:"_3obnw-a7x_6Gp250AYsAVQ",screen_item_select:"_2qdYNAFNBXQjTrE7Os1nHD"}},,function(e,t,n){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,a=!1,o=!1,i=!1,c=void 0,s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return a=!0,o?void(c=t):void n.apply(void 0,t)},u=function u(){if(!a&&(i=!0,!o)){for(o=!0;!a&&r<e&&i;)i=!1,t(r++,u,s);return o=!1,a?void n.apply(void 0,c):void(r>=e&&i&&(a=!0,n()))}};u()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var a=n(66);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return a.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return a.go}});var o=n(17),i=(r(o),n(26)),c=n(40),s=n(109),u=n(15),l="hashchange",p=function(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)},d=function(e){return window.location.hash=e},f=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},m=t.getCurrentLocation=function(e,t){var n=e.decodePath(p()),r=(0,u.getQueryStringValueFromPath)(n,t),a=void 0;r&&(n=(0,u.stripQueryStringValueFromPath)(n,t),a=(0,s.readState)(r));var o=(0,u.parsePath)(n);return o.state=a,(0,i.createLocation)(o,void 0,r)},h=void 0,v=(t.startListener=function(e,t,n){var r=function(){var r=p(),a=t.encodePath(r);if(r!==a)f(a);else{var o=m(t,n);if(h&&o.key&&h.key===o.key)return;h=o,e(o)}},a=p(),o=t.encodePath(a);return a!==o&&f(o),(0,c.addEventListener)(window,l,r),function(){return(0,c.removeEventListener)(window,l,r)}},function(e,t,n,r){var a=e.state,o=e.key,i=t.encodePath((0,u.createPath)(e));void 0!==a&&(i=(0,u.addQueryStringValueToPath)(i,n,o),(0,s.saveState)(o,a)),h=e,r(i)});t.pushLocation=function(e,t,n){return v(e,t,n,function(e){p()!==e&&d(e)})},t.replaceLocation=function(e,t,n){return v(e,t,n,function(e){p()!==e&&f(e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(66);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var a=n(26),o=n(15);t.getCurrentLocation=function(){return(0,a.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,o.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,o.createPath)(e)),!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),c=a(i),s=n(67),u=n(66),l=r(u),p=n(245),d=r(p),f=n(40),m=n(68),h=a(m),v=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s.canUseDOM?void 0:(0,c.default)(!1);var t=e.forceRefresh||!(0,f.supportsHistory)(),n=t?d:l,r=n.getUserConfirmation,a=n.getCurrentLocation,i=n.pushLocation,u=n.replaceLocation,p=n.go,m=(0,h.default)(o({getUserConfirmation:r},e,{getCurrentLocation:a,pushLocation:i,replaceLocation:u,go:p})),v=0,y=void 0,g=function(e,t){1===++v&&(y=l.startListener(m.transitionTo));var n=t?m.listenBefore(e):m.listen(e);return function(){n(),0===--v&&y()}},b=function(e){return g(e,!0)},I=function(e){return g(e,!1)};return o({},m,{listenBefore:b,listen:I})};t.default=v},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(17),c=(a(i),n(2)),s=a(c),u=n(67),l=n(40),p=n(244),d=r(p),f=n(68),m=a(f),h="_k",v=function(e){return"/"===e.charAt(0)?e:"/"+e},y={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:v},slash:{encodePath:v,decodePath:v}},g=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u.canUseDOM?void 0:(0,s.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t=h),null==n&&(n="slash"),n in y||(n="slash");var r=y[n],a=d.getUserConfirmation,i=function(){return d.getCurrentLocation(r,t)},c=function(e){return d.pushLocation(e,r,t)},p=function(e){return d.replaceLocation(e,r,t)},f=(0,m.default)(o({getUserConfirmation:a},e,{getCurrentLocation:i,pushLocation:c,replaceLocation:p,go:d.go})),v=0,g=void 0,b=function(e,n){1===++v&&(g=d.startListener(f.transitionTo,r,t));var a=n?f.listenBefore(e):f.listen(e);return function(){a(),0===--v&&g()}},I=function(e){return b(e,!0)},w=function(e){return b(e,!1)},C=((0,l.supportsGoWithoutReloadUsingHash)(),function(e){f.go(e)}),E=function(e){return"#"+r.encodePath(f.createHref(e))};return o({},f,{listenBefore:I,listen:w,go:C,createHref:E})};t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(17),i=(r(o),n(2)),c=r(i),s=n(26),u=n(15),l=n(68),p=r(l),d=n(39),f=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},m=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=h[v],t=(0,u.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=b(n));var o=(0,u.parsePath)(t);return(0,s.createLocation)(a({},o,{state:r}),void 0,n)},n=function(e){var t=v+e;return t>=0&&t<h.length},r=function(e){if(e&&n(e)){v+=e;var r=t();l.transitionTo(a({},r,{action:d.POP}))}},o=function(e){v+=1,v<h.length&&h.splice(v),h.push(e),g(e.key,e.state)},i=function(e){h[v]=e,g(e.key,e.state)},l=(0,p.default)(a({},e,{getCurrentLocation:t,pushLocation:o,replaceLocation:i,go:r})),m=e,h=m.entries,v=m.current;"string"==typeof h?h=[h]:Array.isArray(h)||(h=["/"]),h=h.map(function(e){return(0,
s.createLocation)(e)}),null==v?v=h.length-1:v>=0&&v<h.length?void 0:(0,c.default)(!1);var y=f(h),g=function(e,t){return y[e]=t},b=function(e){return y[e]};return a({},l,{canGo:n})};t.default=m},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?s:c:u&&u in Object(e)?n.i(o.a)(e):n.i(i.a)(e)}var a=n(113),o=n(252),i=n(253),c="[object Null]",s="[object Undefined]",u=a.a?a.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(24))},function(e,t,n){"use strict";var r=n(254),a=n.i(r.a)(Object.getPrototypeOf,Object);t.a=a},function(e,t,n){"use strict";function r(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=c.call(e);return r&&(t?e[s]=n:delete e[s]),a}var a=n(113),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,s=a.a?a.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return o.call(e)}var a=Object.prototype,o=a.toString;t.a=r},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";var r=n(250),a="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||a||Function("return this")();t.a=o},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(284),o=n(285),i=n(286),c=n(287),s=n(288);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(298),o=n(299),i=n(300),c=n(301),s=n(302);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new a(e);this.size=t.size}var a=n(41),o=n(310),i=n(311),c=n(312),s=n(313),u=n(314);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=c,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(27),a=r.Uint8Array;e.exports=a},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e,t){var n=i(e),r=!n&&o(e),l=!n&&!r&&c(e),d=!n&&!r&&!l&&u(e),f=n||r||l||d,m=f?a(e.length,String):[],h=m.length;for(var v in e)!t&&!p.call(e,v)||f&&("length"==v||l&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,h))||m.push(v);return m}var a=n(274),o=n(124),i=n(125),c=n(126),s=n(121),u=n(129),l=Object.prototype,p=l.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];c.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||a(e,t,n)}var a=n(70),o=n(46),i=Object.prototype,c=i.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(21),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(281),a=r();e.exports=a},function(e,t,n){function r(e){return o(e)&&a(e)==i}var a=n(43),o=n(33),i="[object Arguments]";e.exports=r},function(e,t,n){function r(e){if(!i(e)||o(e))return!1;var t=a(e)?m:u;return t.test(c(e))}var a=n(73),o=n(292),i=n(21),c=n(315),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,p=Object.prototype,d=l.toString,f=p.hasOwnProperty,m=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return i(e)&&o(e.length)&&!!N[a(e)]}var a=n(43),o=n(127),i=n(33),c="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",p="[object Error]",d="[object Function]",f="[object Map]",m="[object Number]",h="[object Object]",v="[object RegExp]",y="[object Set]",g="[object String]",b="[object WeakMap]",I="[object ArrayBuffer]",w="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",M="[object Int8Array]",j="[object Int16Array]",_="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",P="[object Uint32Array]",N={};N[C]=N[E]=N[M]=N[j]=N[_]=N[k]=N[A]=N[S]=N[P]=!0,N[c]=N[s]=N[I]=N[u]=N[w]=N[l]=N[p]=N[d]=N[f]=N[m]=N[h]=N[v]=N[y]=N[g]=N[b]=!1,e.exports=r},function(e,t,n){function r(e){if(!a(e))return i(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&s.call(e,r))&&n.push(r);return n}var a=n(21),o=n(122),i=n(303),c=Object.prototype,s=c.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,l,p){e!==t&&i(t,function(i,u){if(s(i))p||(p=new a),c(e,t,u,n,r,l,p);else{var d=l?l(e[u],i,u+"",e,t,p):void 0;void 0===d&&(d=i),o(e,u,d)}},u)}var a=n(259),o=n(117),i=n(265),c=n(271),s=n(21),u=n(87);e.exports=r},function(e,t,n){function r(e,t,n,r,g,b,I){var w=e[n],C=t[n],E=I.get(C);if(E)return void a(e,n,E);var M=b?b(w,C,n+"",e,t,I):void 0,j=void 0===M;if(j){var _=l(C),k=!_&&d(C),A=!_&&!k&&v(C);M=C,_||k||A?l(w)?M=w:p(w)?M=c(w):k?(j=!1,M=o(C,!0)):A?(j=!1,M=i(C,!0)):M=[]:h(C)||u(C)?(M=w,u(w)?M=y(w):(!m(w)||r&&f(w))&&(M=s(C))):j=!1}j&&(I.set(C,M),g(M,C,r,b,I),I.delete(C)),a(e,n,M)}var a=n(117),o=n(277),i=n(278),c=n(279),s=n(289),u=n(124),l=n(125),p=n(317),d=n(126),f=n(73),m=n(21),h=n(128),v=n(129),y=n(319);e.exports=r},function(e,t,n){function r(e,t){return i(o(e,t,a),e+"")}var a=n(123),o=n(307),i=n(308);e.exports=r},function(e,t,n){var r=n(316),a=n(118),o=n(123),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}var a=n(260);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}var a=n(27),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===o,s=c?a.Buffer:void 0,u=s?s.allocUnsafe:void 0;e.exports=r}).call(t,n(49)(e))},function(e,t,n){function r(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var a=n(276);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){var r=n(27),a=r["__core-js_shared__"];e.exports=a},function(e,t){function n(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),c=i.length;c--;){var s=i[e?c:++a];if(n(o[s],s,o)===!1)break}return t}}e.exports=n},function(e,t,n){function r(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=c.call(e);return r&&(t?e[s]=n:delete e[s]),a}var a=n(116),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,s=a?a.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(){this.__data__=a?a(null):{},this.size=0}var a=n(45);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(a){var n=t[e];return n===o?void 0:n}return c.call(t,e)?t[e]:void 0}var a=n(45),o="__lodash_hash_undefined__",i=Object.prototype,c=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return a?void 0!==t[e]:i.call(t,e)}var a=n(45),o=Object.prototype,i=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?o:t,this}var a=n(45),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||i(e)?{}:a(o(e))}var a=n(264),o=n(120),i=n(122);e.exports=r},function(e,t,n){function r(e,t,n){if(!c(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&i(t,n.length):"string"==r&&t in n)&&a(n[t],e)}var a=n(46),o=n(72),i=n(121),c=n(21);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!o&&o in e}var a=n(280),o=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=a(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():i.call(t,n,1),--this.size,!0}var a=n(42),o=Array.prototype,i=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}var a=n(42);e.exports=r},function(e,t,n){function r(e){return a(this.__data__,e)>-1}var a=n(42);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var a=n(42);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new a,map:new(i||o),string:new a}}var a=n(257),o=n(41),i=n(115);e.exports=r},function(e,t,n){function r(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}var a=n(44);e.exports=r},function(e,t,n){function r(e){return a(this,e).get(e)}var a=n(44);e.exports=r},function(e,t,n){function r(e){return a(this,e).has(e)}var a=n(44);e.exports=r},function(e,t,n){function r(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var a=n(44);e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){var r=n(119),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a,c=i&&r.process,s=function(){try{return c&&c.binding&&c.binding("util")}catch(e){}}();e.exports=s}).call(t,n(49)(e))},function(e,t){function n(e){return a.call(e)}var r=Object.prototype,a=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,c=o(r.length-t,0),s=Array(c);++i<c;)s[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),a(e,this,u)}}var a=n(261),o=Math.max;e.exports=r},function(e,t,n){var r=n(273),a=n(309),o=a(r);e.exports=o},function(e,t){function n(e){var t=0,n=0;return function(){var i=o(),c=a-(i-n);if(n=i,c>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,a=16,o=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new a,this.size=0}var a=n(41);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!o||r.length<c-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(e,t),this.size=n.size,this}var a=n(41),o=n(115),i=n(258),c=200;e.exports=r},function(e,t){function n(e){if(null!=e){try{return a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,a=r.toString;e.exports=n},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e){return o(e)&&a(e)}var a=n(72),o=n(33);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return a(e,o(e))}var a=n(157),o=n(87);e.exports=r},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var c=n(0),s=n(130),u=r(s),l=n(131),p=(r(l),function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return c.Children.only(this.props.children)},t}(c.Component));t.default=p,p.propTypes={store:u.default.isRequired,children:c.PropTypes.element.isRequired},p.childContextTypes={store:u.default.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return e.displayName||e.name||"Component"}function s(e,t){try{return e.apply(t)}catch(e){return k.value=e,k}}function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Boolean(e),d=e||M,m=void 0;m="function"==typeof t?t:t?(0,y.default)(t):j;var v=n||_,g=r.pure,b=void 0===g||g,I=r.withRef,C=void 0!==I&&I,S=b&&v!==_,P=A++;return function(e){function t(e,t,n){var r=v(e,t,n);return r}var n="Connect("+c(e)+")",r=function(r){function c(e,t){a(this,c);var i=o(this,r.call(this,e,t));i.version=P,i.store=e.store||t.store,(0,E.default)(i.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var s=i.store.getState();return i.state={storeState:s},i.clearCache(),i}return i(c,r),c.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},c.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},c.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},c.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},c.prototype.configureFinalMapDispatch=function(e,t){var n=m(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:m,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},c.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,h.default)(e,this.stateProps))&&(this.stateProps=e,!0)},c.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,h.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},c.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&S&&(0,h.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},c.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},c.prototype.trySubscribe=function(){u&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},c.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},c.prototype.componentDidMount=function(){this.trySubscribe()},c.prototype.componentWillReceiveProps=function(e){b&&(0,h.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},c.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},c.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},c.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=s(this.updateStatePropsIfNeeded,this);if(!n)return;n===k&&(this.statePropsPrecalculationError=k.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},c.prototype.getWrappedInstance=function(){return(0,E.default)(C,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},c.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,a=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,a)throw a;var i=!0,c=!0;b&&o&&(i=n||t&&this.doStatePropsDependOnOwnProps,c=t&&this.doDispatchPropsDependOnOwnProps);var s=!1,u=!1;r?s=!0:i&&(s=this.updateStatePropsIfNeeded()),c&&(u=this.updateDispatchPropsIfNeeded());var d=!0;return d=!!(s||u||t)&&this.updateMergedPropsIfNeeded(),!d&&o?o:(C?this.renderedElement=(0,p.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,p.createElement)(e,this.mergedProps),this.renderedElement)},c}(p.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:f.default},r.propTypes={store:f.default},(0,w.default)(r,e)}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=u;var p=n(0),d=n(130),f=r(d),m=n(326),h=r(m),v=n(327),y=r(v),g=n(131),b=(r(g),n(128)),I=(r(b),n(112)),w=r(I),C=n(2),E=r(C),M=function(e){return{}},j=function(e){return{dispatch:e}},_=function(e,t,n){return l({},n,e,t)},k={value:null},A=0},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return function(t){return(0,a.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=r;var a=n(81)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),c=n(132),s=r(c),u=i.default.createClass({displayName:"IndexLink",render:function(){return i.default.createElement(s.default,a({},this.props,{onlyActiveOnIndex:!0}))}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(0),o=r(a),i=n(30),c=(r(i),n(2)),s=r(c),u=n(134),l=r(u),p=n(34),d=o.default.PropTypes,f=d.string,m=d.object,h=o.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=l.default.createRouteFromReactElement(e))}},propTypes:{to:f.isRequired,query:m,state:m,onEnter:p.falsy,children:p.falsy},render:function(){(0,s.default)(!1)}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(0),o=r(a),i=n(30),c=(r(i),n(2)),s=r(c),u=n(16),l=n(34),p=o.default.PropTypes.func,d=o.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,u.createRouteFromReactElement)(e))}},propTypes:{path:l.falsy,component:l.component,components:l.components,getComponent:p,getComponents:p},render:function(){(0,s.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(0),o=r(a),i=n(2),c=r(i),s=n(16),u=n(34),l=o.default.PropTypes,p=l.string,d=l.func,f=o.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:s.createRouteFromReactElement},propTypes:{path:p,component:u.component,components:u.components,getComponent:d,getComponents:d},render:function(){(0,c.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),c=r(i),s=n(0),u=r(s),l=n(138),p=r(l),d=n(34),f=n(79),m=r(f),h=n(16),v=n(135),y=n(30),g=(r(y),u.default.PropTypes),b=g.func,I=g.object,w=u.default.createClass({displayName:"Router",propTypes:{history:I,children:d.routes,routes:d.routes,render:b,createElement:b,onError:b,onUpdate:b,matchContext:I},getDefaultProps:function(){return{render:function(e){return u.default.createElement(m.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return(0,v.createRouterObject)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,a=n.children;return t.getCurrentLocation?void 0:(0,c.default)(!1),(0,p.default)(t,(0,h.createRoutes)(r||a))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):((0,v.assignRouterState)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,i=t.params,c=t.components,s=this.props,u=s.createElement,e=s.render,l=a(s,["createElement","render"]);return null==n?null:(Object.keys(w.propTypes).forEach(function(e){return delete l[e]}),e(o({},l,{router:this.router,location:n,routes:r,params:i,components:c,createElement:u})))}});t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r){var a=e.length<n,o=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(e.apply(t,r),a){var i=r[r.length-1];i()}};return r.add(o),o}function o(e){return e.reduce(function(e,t){return t.onEnter&&e.push(a(t.onEnter,t,3,f)),e},[])}function i(e){return e.reduce(function(e,t){return t.onChange&&e.push(a(t.onChange,t,4,m)),e},[])}function c(e,t,n){function r(e){a=e}if(!e)return void n();var a=void 0;(0,p.loopAsync)(e,function(e,n,o){t(e,r,function(e){e||a?o(e,a):n()})},n)}function s(e,t,n){f.clear();var r=o(e);return c(r.length,function(e,n,a){var o=function(){f.has(r[e])&&(a(),f.remove(r[e]))};r[e](t,n,o)},n)}function u(e,t,n,r){m.clear();var a=i(e);return c(a.length,function(e,r,o){var i=function(){m.has(a[e])&&(o(),m.remove(a[e]))};a[e](t,n,r,i)},r)}function l(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=s,t.runChangeHooks=u,t.runLeaveHooks=l;var p=n(76),d=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return t.hooks.indexOf(e)!==-1},this.clear=function(){return t.hooks=[]}},f=new d,m=new d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=r(o),c=n(79),s=r(c),u=n(30);r(u);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),c=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.createElement;return function(t,n){return c.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},i.default.createElement(s.default,a({},e,{createElement:u(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(246),o=r(a),i=n(137),c=r(i);t.default=(0,c.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,o.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function a(e,t){var n=e&&e.routes,a=t.routes,o=void 0,i=void 0,c=void 0;return n?!function(){var s=!1;o=n.filter(function(n){if(s)return!0;var o=a.indexOf(n)===-1||r(n,e,t);return o&&(s=!0),o}),o.reverse(),c=[],i=[],a.forEach(function(e){var t=n.indexOf(e)===-1,r=o.indexOf(e)!==-1;t||r?c.push(e):i.push(e)})}():(o=[],i=[],c=a),{leaveRoutes:o,changeRoutes:i,enterRoutes:c}}t.__esModule=!0;var o=n(29);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var a=r.call(t,e,n);(0,i.isPromise)(a)&&a.then(function(e){return n(null,e)},n)}else n()}function a(e,t){(0,o.mapAsync)(e.routes,function(t,n,a){r(e,t,a)},t)}t.__esModule=!0;var o=n(76),i=n(133);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,a.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var a=n(29);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(247),o=r(a),i=n(137),c=r(i);t.default=(0,c.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":s(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function a(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function o(e,t,n){for(var r=e,a=[],o=[],i=0,c=t.length;i<c;++i){var s=t[i],l=s.path||"";if("/"===l.charAt(0)&&(r=e,a=[],o=[]),null!==r&&l){var p=(0,u.matchPattern)(l,r);if(p?(r=p.remainingPathname,a=[].concat(a,p.paramNames),o=[].concat(o,p.paramValues)):r=null,""===r)return a.every(function(e,t){return String(o[t])===String(n[e])})}}return!1}function i(e,t){return null==t?null==e:null==e||r(e,t)}function c(e,t,n,r,c){var s=e.pathname,u=e.query;return null!=n&&("/"!==s.charAt(0)&&(s="/"+s),!!(a(s,n.pathname)||!t&&o(s,r,c))&&i(u,n.query))}t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=c;var u=n(29);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){var n=e.history,r=e.routes,o=e.location,s=a(e,["history","routes","location"]);n||o?void 0:(0,u.default)(!1),n=n?n:(0,p.default)(s);var l=(0,f.default)(n,(0,m.createRoutes)(r));o=o?n.createLocation(o):n.getCurrentLocation(),l.match(o,function(e,r,a){var o=void 0;if(a){var s=(0,h.createRouterObject)(n,l,a);o=i({},a,{router:s,matchContext:{transitionManager:l,router:s}})}t(e,r&&n.createLocation(r,c.REPLACE),o)})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(39),s=n(2),u=r(s),l=n(136),p=r(l),d=n(138),f=r(d),m=n(16),h=n(135);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var o=!0,i=void 0,s={location:t,params:c(n,r)},u=e.getChildRoutes(s,function(e,t){return t=!e&&(0,v.createRoutes)(t),o?void(i=[e,t]):void a(e,t)});return(0,f.isPromise)(u)&&u.then(function(e){return a(null,(0,v.createRoutes)(e))},a),o=!1,i}function o(e,t,n,r,a){if(e.indexRoute)a(null,e.indexRoute);else if(e.getIndexRoute){var i={location:t,params:c(n,r)},s=e.getIndexRoute(i,function(e,t){a(e,!e&&(0,v.createRoutes)(t)[0])});(0,f.isPromise)(s)&&s.then(function(e){return a(null,(0,v.createRoutes)(e)[0])},a)}else e.childRoutes?!function(){var i=e.childRoutes.filter(function(e){return!e.path});(0,d.loopAsync)(i.length,function(e,a,c){o(i[e],t,n,r,function(t,n){if(t||n){var r=[i[e]].concat(Array.isArray(n)?n:[n]);c(t,r)}else a()})},function(e,t){a(null,t)})}():a()}function i(e,t,n){return t.reduce(function(e,t,r){var a=n&&n[r];return Array.isArray(e[t])?e[t].push(a):t in e?e[t]=[e[t],a]:e[t]=a,e},e)}function c(e,t){return i({},e,t)}function s(e,t,n,r,i,s){var l=e.path||"";if("/"===l.charAt(0)&&(n=t.pathname,r=[],i=[]),null!==n&&l){try{var d=(0,m.matchPattern)(l,n);d?(n=d.remainingPathname,r=[].concat(r,d.paramNames),i=[].concat(i,d.paramValues)):n=null}catch(e){s(e)}if(""===n){var f=function(){var n={routes:[e],params:c(r,i)};return o(e,t,r,i,function(e,t){if(e)s(e);else{if(Array.isArray(t)){var r;(r=n.routes).push.apply(r,t)}else t&&n.routes.push(t);s(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof f?"undefined":p(f)))return f.v}}if(null!=n||e.childRoutes){var h=function(a,o){a?s(a):o?u(o,t,function(t,n){t?s(t):n?(n.routes.unshift(e),s(null,n)):s()},n,r,i):s()},v=a(e,t,r,i,h);v&&h.apply(void 0,v)}else s()}function u(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=l({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,d.loopAsync)(e.length,function(n,i,c){s(e[n],t,r,a,o,function(e,t){e||t?c(e,t):i()})},n)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=u;var d=n(76),f=n(133),m=n(29),h=n(30),v=(r(h),n(16));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,r=l.default.createClass({displayName:"WithRouter",mixins:[(0,f.ContextSubscriber)("router")],contextTypes:{router:m.routerShape},propTypes:{router:m.routerShape},getWrappedInstance:function(){return n?void 0:(0,s.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router,a=r.params,o=r.location,c=r.routes,s=i({},this.props,{router:r,params:a,location:o,routes:c});return n&&(s.ref=function(e){t.wrappedInstance=e}),l.default.createElement(e,s)}});return r.displayName="withRouter("+a(e)+")",r.WrappedComponent=e,(0,d.default)(r,e)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var c=n(2),s=r(c),u=n(0),l=r(u),p=n(112),d=r(p),f=n(77),m=n(78);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t,n,r){switch("undefined"==typeof e?"undefined":o(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,a(n)):e[r];case"function":return e(t);default:return e}}function c(e){var t=e.timestamp,n=e.duration;return function(e,r,a){var o=["action"];return t&&o.push("@ "+r),o.push(e.type),n&&o.push("(in "+a.toFixed(2)+" ms)"),o.join(" ")}}function s(e,t){var n=t.logger,r=t.actionTransformer,a=t.titleFormatter,o=void 0===a?c(t):a,s=t.collapsed,l=t.colors,d=t.level,f=t.diff;e.forEach(function(t,a){var c=t.started,m=t.startedTime,h=t.action,v=t.prevState,y=t.error,g=t.took,b=t.nextState,I=e[a+1];I&&(b=I.prevState,g=I.started-c);var w=r(h),C="function"==typeof s?s(function(){return b},h):s,E=(0,u.formatTime)(m),M=l.title?"color: "+l.title(w)+";":null,j=o(w,E,g);try{C?l.title?n.groupCollapsed("%c "+j,M):n.groupCollapsed(j):l.title?n.group("%c "+j,M):n.group(j)}catch(e){n.log(j)}var _=i(d,w,[v],"prevState"),k=i(d,w,[w],"action"),A=i(d,w,[y,v],"error"),S=i(d,w,[b],"nextState");_&&(l.prevState?n[_]("%c prev state","color: "+l.prevState(v)+"; font-weight: bold",v):n[_]("prev state",v)),k&&(l.action?n[k]("%c action","color: "+l.action(w)+"; font-weight: bold",w):n[k]("action",w)),y&&A&&(l.error?n[A]("%c error","color: "+l.error(y,v)+"; font-weight: bold",y):n[A]("error",y)),S&&(l.nextState?n[S]("%c next state","color: "+l.nextState(b)+"; font-weight: bold",b):n[S]("next state",b)),f&&(0,p.default)(v,b,n,C);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}Object.defineProperty(t,"__esModule",{value:!0}),t.printBuffer=s;var u=n(140),l=n(346),p=r(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return"color: "+u[e].color+"; font-weight: bold"}function o(e){var t=e.kind,n=e.path,r=e.lhs,a=e.rhs,o=e.index,i=e.item;switch(t){case"E":return n.join(".")+" "+r+" → "+a;case"N":return n.join(".")+" "+a;case"D":return""+n.join(".");case"A":return[n.join(".")+"["+o+"]",i];default:return null}}function i(e,t,n,r){var i=(0,s.default)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=o(e);n.log("%c "+u[t].text,a(t),r)}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var c=n(238),s=r(c),u={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=o({},u.default,e),n=t.logger,r=t.transformer,a=t.stateTransformer,s=t.errorTransformer,l=t.predicate,p=t.logErrors,d=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var f=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof l&&!l(n,r))return e(r);var u={};f.push(u),u.started=c.timer.now(),u.startedTime=new Date,u.prevState=a(n()),u.action=r;var m=void 0;if(p)try{m=e(r)}catch(e){u.error=s(e)}else m=e(r);u.took=c.timer.now()-u.started,u.nextState=a(n());var h=t.diff&&"function"==typeof d?d(n,r):t.diff;if((0,i.printBuffer)(f,o({},t,{diff:h})),f.length=0,u.error)throw u.error;return m}}}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(344),c=n(140),s=n(345),u=r(s);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.effects=t.CANCEL=t.delay=t.takeLatest=t.takeEvery=t.buffers=t.channel=t.eventChannel=t.END=t.runSaga=void 0;var o=n(351);Object.defineProperty(t,"runSaga",{enumerable:!0,get:function(){return o.runSaga}});var i=n(47);Object.defineProperty(t,"END",{enumerable:!0,get:function(){return i.END}}),Object.defineProperty(t,"eventChannel",{enumerable:!0,get:function(){return i.eventChannel}}),Object.defineProperty(t,"channel",{enumerable:!0,get:function(){return i.channel}});var c=n(80);Object.defineProperty(t,"buffers",{enumerable:!0,get:function(){return c.buffers}});var s=n(352);Object.defineProperty(t,"takeEvery",{enumerable:!0,get:function(){return s.takeEvery}}),Object.defineProperty(t,"takeLatest",{enumerable:!0,get:function(){return s.takeLatest}});var u=n(11);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return u.delay}}),Object.defineProperty(t,"CANCEL",{enumerable:!0,get:function(){return u.CANCEL}});var l=n(350),p=a(l),d=n(160),f=r(d),m=n(353),h=r(m);t.default=p.default,t.effects=f,t.utils=h},function(e,t,n){"use strict";function r(e){o?a.push(e):(o=!0,a.push(e),r.flush())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=[],o=!1;r.suspend=function(){return o=!0},r.flush=function(){for(var e=void 0;e=a.shift();)e();o=!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){function e(e){function r(e){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return(0,c.default)(e.apply(void 0,r),i.subscribe,o,a,t,0,e.name)}var a=e.getState,o=e.dispatch;n=r;var i=(0,s.emitter)();return function(e){return function(t){var n=e(t);return i.emit(t),n}}}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=void 0;if(o.is.func(t))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(t.logger&&!o.is.func(t.logger))throw new Error("`options.logger` passed to the Saga middleware is not a function!");return e.run=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return(0,o.check)(n,o.is.notUndef,"Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware"),(0,o.check)(e,o.is.func,"sagaMiddleware.run(saga, ...args): saga argument must be a Generator function!"),n.apply(void 0,[e].concat(r))},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(11),i=n(141),c=r(i),s=n(47)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t.subscribe,r=t.dispatch,a=t.getState,i=t.sagaMonitor,s=t.logger;return(0,o.check)(e,o.is.iterator,"runSaga must be called on an iterator"),(0,c.default)(e,n,r,a,{sagaMonitor:i,logger:s})}Object.defineProperty(t,"__esModule",{value:!0}),t.runSaga=a;var o=n(11),i=n(141),c=r(i)},function(e,t,n){"use strict";function r(e,t){function n(t,n){if(o===d)return p;if(n)throw o=d,n;a&&a(t);var r=e[o](),i=c(r,3),s=i[0],u=i[1],l=i[2];return o=s,a=l,o===d?p:u}var r=arguments.length<=2||void 0===arguments[2]?"iterator":arguments[2],a=void 0,o=t;return(0,u.makeIterator)(n,function(e){return n(null,e)},r)}function a(e){return Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function o(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var c={done:!1,value:(0,l.take)(e)},u=function(e){return{done:!1,value:l.fork.apply(void 0,[t].concat(o,[e]))}},p=void 0,f=function(e){return p=e};return r({q1:function(){return["q2",c,f]},q2:function(){return p===s.END?[d]:["q1",u(p)]}},"q1","takeEvery("+a(e)+", "+t.name+")")}function i(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var c={done:!1,value:(0,l.take)(e)},u=function(e){return{done:!1,value:l.fork.apply(void 0,[t].concat(o,[e]))}},p=function(e){return{done:!1,value:(0,l.cancel)(e)}},f=void 0,m=void 0,h=function(e){return f=e},v=function(e){return m=e};return r({q1:function(){return["q2",c,v]},q2:function(){return m===s.END?[d]:f?["q3",p(f)]:["q1",u(m),h]},q3:function(){return["q1",u(m),h]}},"q1","takeLatest("+a(e)+", "+t.name+")")}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.takeEvery=o,t.takeLatest=i;var s=n(47),u=n(11),l=n(48),p={done:!0,value:void 0},d={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);Object.defineProperty(t,"TASK",{enumerable:!0,get:function(){return r.TASK}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return r.noop}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return r.is}}),Object.defineProperty(t,"deferred",{enumerable:!0,get:function(){return r.deferred}}),Object.defineProperty(t,"arrayOfDeffered",{enumerable:!0,get:function(){return r.arrayOfDeffered}}),Object.defineProperty(t,"createMockTask",{enumerable:!0,get:function(){return r.createMockTask}});var a=n(48);Object.defineProperty(t,"asEffect",{enumerable:!0,get:function(){return a.asEffect}})},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var c=e(n,r,i),s=c.dispatch,u=[],l={getState:c.getState,dispatch:function(e){return s(e)}};return u=t.map(function(e){return e(l)}),s=a.a.apply(void 0,u)(c.dispatch),o({},c,{dispatch:s})}}}var a=n(143);t.a=r;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function a(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),a={},o=0;o<n.length;o++){var i=n[o],c=e[i];"function"==typeof c&&(a[i]=r(c,t))}return a}t.a=a},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:i.b.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:a}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+i.b.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var i=t[o];"function"==typeof e[i]&&(n[i]=e[i])}var c,s=Object.keys(n);try{a(n)}catch(e){c=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(c)throw c;for(var a=!1,o={},i=0;i<s.length;i++){var u=s[i],l=n[u],p=e[u],d=l(p,t);if("undefined"==typeof d){var f=r(u,t);throw new Error(f)}o[u]=d,a=a||d!==p}return a?o:e}}var i=n(144);n(114),n(145);t.a=o},function(e,t,n){e.exports=n(358)},function(e,t,n){"use strict";(function(e,r){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(359),c=a(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var s=(0,c.default)(o);t.default=s}).call(t,n(24),n(49)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=window,l=u.MB,p=u.$,d=u.I18N,f=u.confirm,m=u.Team,h=u.MBServer,v=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleShare=function(){e.setState({activeTab:"share"})},e.handleEmbed=function(){var t=e.props.app;t.download(function(){e.setState({activeTab:"embed"})})},e.handleSelect=function(e){p(e.target).select()},e.handleRefresh=function(t){if(t.preventDefault(),f(d.refresh_token_confirmation)){var n=Math.uuid(31);e.setAttr("access_token",n)}},e.handleHighlight=function(t){e.setAttr("highlight",t.target.checked)},e.handleWechat=function(t){e.setAttr("wechat",t.target.checked)},e.handlePasswordChange=function(t){e.setAttr("password",t.target.value)},e.handlePrivate=function(){e.setAttr("access","private")},e.handleRestricted=function(){return l.mp("选择了白名单模式"),e.props.app.password="",e.setAttr("access","restricted")},e.handleCollaborators=function(t){var n,r,a;t.preventDefault(),p("#sharing-modal").modal("hide"),l.mp("点击了分享窗口的协作者管理按钮"),n=e.props.app,n.team_cid&&(a=m.find(n.team_cid)),r=a||n,l.renderCollaboratorsModal(r),p("#collaborators-modal").modal()},e.handleUpdateShell=function(t){var n=e.props.app;n.shell_type=t.target.value,n.lsave(l.user.id===n.owner_id),p("body").trigger("queue:save"),l.currentProject&&l.runner.reload(!0)},e.handleSlackWebHook=function(t){e.setAttr("slack_web_hook_url",t.target.value)},e.state={activeTab:"share"},e}return o(t,e),s(t,[{key:"generateQrcode",value:function(){p(this.refs.qrcode).qrcode({text:this.qrurl+"?via=qrcode",width:150,height:150})}},{key:"componentDidMount",value:function(){this.generateQrcode(),p(this.refs.select).niceSelect(),p(this.refs.select).on("change",this.handleUpdateShell)}},{key:"refreshQrcode",value:function(){p(this.refs.qrcode).empty(),this.generateQrcode()}},{key:"setAttr",value:function(e,t){this.props.app[e]=t,this.props.app.lsave(),p("body").trigger("queue:save"),this.forceUpdate()}},{key:"render",value:function(){var e=this.props.app,t=void 0,n=void 0;this.qrurl=t="https://"+window.location.host+"/app/"+e.access_token,n="https://"+window.location.host,l.isLocal()&&"file:"!==window.location.protocol&&(this.qrurl=t=window.location.toString()),"file:"===window.location.protocol&&(n="https://"+h,this.qrurl=t="https://"+h+"/app/"+e.access_token),this.refreshQrcode();var r=/edge.modao.cc/.test(window.location.href)?null:"none",a='<iframe src="'+n+"/app/"+e.access_token+'/embed" width="'+(e.shell().width+80)+'" height="'+(e.shell().height+80)+'" allowTransparency="true" frameborder="0"></iframe>',o=!/^\/app/.test(window.location.pathname),i=e.owner_id===l.user.id&&o,s=i||e.canAdmin()&&o;return c.a.createElement("div",{className:"modal-dialog form-horizontal"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header tabs"},c.a.createElement("ul",null,c.a.createElement("li",{className:"share"===this.state.activeTab?"active":null,onClick:this.handleShare},d.sharing_app),c.a.createElement("li",{className:"embed"===this.state.activeTab?"active":null,onClick:this.handleEmbed},d.embed_app)),c.a.createElement("a",{href:"#",className:"close","data-dismiss":"modal"},"×")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{id:"sharing-container"},c.a.createElement("div",{className:"qrcode",ref:"qrcode",style:{display:l.shouldDisplay("share"===this.state.activeTab)}}),c.a.createElement("div",{className:"form-group",style:{display:l.shouldDisplay("share"===this.state.activeTab)}},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",value:t||"",readOnly:!0,onClick:this.handleSelect,style:{cursor:"text"}}),c.a.createElement("span",{className:"input-group-btn",style:{display:l.shouldDisplay(s)}},c.a.createElement("button",{className:"btn btn-default",type:"button",onClick:this.handleRefresh},d.regenerate)))),c.a.createElement("div",{className:"form-group",style:{display:l.shouldDisplay("embed"===this.state.activeTab)}},c.a.createElement("p",{style:{margin:"20px 0"}},d.embed_tips),c.a.createElement("textarea",{className:"form-control",onClick:this.handleSelect,value:a,readOnly:!0})),o?c.a.createElement(l.HR,{value:d.permission}):null,o?c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label col-sm-3",style:{marginTop:3}},d.access_permission),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("p",null,c.a.createElement("label",{className:"radio-inline"},c.a.createElement("input",{className:"mb-radio",id:"restricted",disabled:!s,type:"radio",name:"access",value:"restricted",checked:"restricted"===e.access,onChange:this.handleRestricted}),c.a.createElement("label",{htmlFor:"restricted"}),c.a.createElement("span",null,d.restricted_intro),s&&"restricted"===e.access?c.a.createElement("a",{href:"#",onClick:this.handleCollaborators},d.manage_collaborators):null)),c.a.createElement("p",null,c.a.createElement("label",{className:"radio-inline"},c.a.createElement("input",{className:"mb-radio",id:"private",disabled:!s,type:"radio",name:"access",value:"private",checked:"private"===e.access,onChange:this.handlePrivate}),c.a.createElement("label",{htmlFor:"private"}),c.a.createElement("span",null,d.private_intro))),c.a.createElement("p",{style:{display:l.shouldDisplay("private"===e.access)}},c.a.createElement("input",{type:"text",name:"password",className:"form-control password",placeholder:d.sharing_password,value:e.password||"",onChange:this.handlePasswordChange,readOnly:!s})))):null,s?c.a.createElement(l.HR,{value:d.other_settings}):null,c.a.createElement("div",{className:"form-group"},s&&"web"!==e.device?c.a.createElement("label",{className:"control-label col-sm-3"},d.shell_type):null,s&&"web"!==e.device?c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("select",{ref:"select",className:"form-control",defaultValue:e.shell_type,onChange:this.handleUpdateShell},c.a.createElement("option",{value:"device"},d.device_shell),c.a.createElement("option",{value:"default"},d.default_shell),c.a.createElement("option",{value:"none"},d.none_shell))):null),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label col-sm-3",style:{marginTop:3}},d.preview_settings),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox"},c.a.createElement("input",{className:"mb-checkbox",type:"checkbox",id:"highlight",checked:e.highlight,onChange:this.handleHighlight}),c.a.createElement("label",{htmlFor:"highlight"}),c.a.createElement("span",null,d.highlight_clickable))),c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox"},c.a.createElement("input",{className:"mb-checkbox",type:"checkbox",id:"wechat",checked:e.wechat,onChange:this.handleWechat}),c.a.createElement("label",{htmlFor:"wechat"}),c.a.createElement("span",null,d.view_in_browser))))),c.a.createElement("h4",{style:{display:r}},"Slack web hook"),c.a.createElement("div",{className:"input-group",style:{display:r}},c.a.createElement("input",{type:"text",className:"form-control",value:e.slack_web_hook_url||"",onBlur:this.handleSlackWebHook}))))))}}]),t}(c.a.Component);t.a=v,v.propTypes={app:c.a.PropTypes.object}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=window,i=o.$,c=function(){return(new Date).getTime()},s=function(){function e(){r(this,e),this.mouseState={down:!1,moved:!1},this.scrollState={x:null,y:null,left:null,top:null,target:null},this.windowState={blur:!1},this.coolDownTime=c(),this.coolDownInterval=200}return a(e,[{key:"isCoolDown",value:function(){var e=c()-this.coolDownTime;return this.coolDownTime+=e,e>this.coolDownInterval}},{key:"resetCoolDown",value:function(){this.coolDownTime-=this.coolDownInterval}},{key:"bind",value:function(e){var t=this,n=e.onScreenFocus;window.addEventListener("blur",function(){t.windowState.blur=!0}),window.addEventListener("focus",function(){t.windowState.blur&&(t.windowState.blur=!1,n())})}},{key:"bindMobile",value:function(e){var t=this,n=e.onOrientationChange;window.addEventListener(void 0!==window.onorientationchange?"orientationchange":"resize",n),i("body").on("touchstart",".pcanvas",function(){t.mouseState.down=!0,t.mouseState.moved=!1}).on("touchmove",".pcanvas",function(){t.mouseState.down&&(t.mouseState.moved=!0)}).on("touchend",function(){t.mouseState.down=!1})}},{key:"bindDesktop",value:function(e){var t=this,n=e.onAppMouseDown,r=e.onAppMouseMove;i("body").on("mousedown","#simulator-container",function(e){return!!n(e,t.scrollState,t.mouseState)||(t.mouseState.down=!0,t.mouseState.moved=!1,t.scrollState.x=e.clientX,void(t.scrollState.y=e.clientY))}).on("mousemove","#simulator-container",function(e){return!!r(e,t.scrollState,t.mouseState)||void(t.mouseState.moved=!0)}),window.addEventListener("mouseup",function(){t.mouseState.down=!1})}}]),e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=window,i=o.MB,c=o.$,s=o.Screen,u=function(){function e(){r(this,e)}return a(e,[{key:"setObjectUrl",value:function(e,t){e&&(e.contentWindow?e.contentWindow.location.replace(t):e.setAttribute("data",t))}},{key:"deviceOrient",value:function(){return c(window).width()>c(window).height()?"landscape":"portrait"}},{key:"cloneFixed",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=n.show().clone();return a.attr("id",a.attr("id")+"gh"),t.v&&a.css("opacity",t.o/100),a.css("top",t.t()),a.hasClass("clickable")&&a.css("pointer-events","auto"),n.hide(),r?(t.isBottomFixed(e)&&(i.isIOS9()&&this.deviceOrient()===e.orient()?a.css("top",c("#simulator").height()-(e.h()-t.t())+i.COMPONENTS.status_bar.height):a.css("top",c("#simulator").height()-(e.h()-t.t()))),a):a}},{key:"setScreenBg",value:function(e){var t=s.find(e.data("cid"));if(t){var n="transparent"===t.bgcolor?"#f0f0f2":t.bgcolor;e.css({"background-color":n,"background-image":t.bgimage?"url("+t.getRealBgImage()+")":""})}}},{key:"screenPreview",value:function(e){return'\n      <div id="pscreen'+e.cid+'" class="pcanvas '+e.orient()+'" data-cid="'+e.cid+'" data-orientation="'+e.orient()+'">\n      <div class="widgets">\n        <div class="scontainer">\n          <div class="sheader"></div>\n          <div class="sfooter"></div>\n        </div>\n      </div>\n      <div class="stickies"></div>\n    </div>\n    '}}]),e}();t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=this;r(this,e),this.elementFrom=null,this.elementTo=null,this._delayedSync=null,this.delaySync=function(){t._delayedSync&&clearTimeout(t._delayedSync),t._delayedSync=setTimeout(function(){return t.sync()},100),t.sync()}}return a(e,[{key:"init",value:function(e,t){this.elementFrom=e,this.elementTo=t,this.sync()}},{key:"sync",value:function(){var e=this.elementFrom.scrollTop;this.elementTo.style.marginTop=0-e+"px"}},{key:"reverseSync",value:function(){var e=0-parseInt(this.elementTo.style.marginTop);this.elementFrom.scrollTop=e}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.timeoutMap=new Map}return a(e,[{key:"setTimeout",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var r=this,a=setTimeout(function(){t(),r.clearTimeout(e,t)},n);return this.setToken(e,t,a),a})},{key:"clearTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this.getToken(e,t);void 0!==n&&(clearTimeout(n),this.clearToken(e,t))})},{key:"clearTimeoutByKey",value:function(e){var t=this,n=this.timeoutMap.get(e);void 0!==n&&(n.forEach(function(n,r){return t.clearTimeout(e,r)}),this.timeoutMap.delete(e))}},{key:"clear",value:function(){var e=this;this.timeoutMap.forEach(function(t,n){return e.clearTimeoutByKey(n)})}},{key:"setToken",value:function(e,t,n){var r=this.timeoutMap.get(e);void 0===r&&(r=new Map,this.timeoutMap.set(e,r)),r.set(t,n)}},{key:"getToken",value:function(e,t){var n=this.timeoutMap.get(e);if(n)return n.get(t)}},{key:"clearToken",value:function(e,t){var n=this.timeoutMap.get(e);n&&n.delete(t)}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.toggleMap=new Map,this.afterChange=t||null}return a(e,[{key:"addToggle",value:function(e,t,n){this.toggleMap.set(e,{name:e,value:t,onChange:n})}},{key:"toggle",value:function e(t,n){var e=this.toggleMap.get(t);e&&e.value!==n&&(void 0===n&&(n=!e.value),this.checkToggle(t,n))}},{key:"checkToggle",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.toggleMap.get(e);r&&r.value!==t&&(void 0===t&&(t=!r.value),r.value=t,r.onChange&&r.onChange(t),n||this.afterChange&&this.afterChange(this.getStatus()))}},{key:"getStatus",value:function(){var e={};return this.toggleMap.forEach(function(t){e[t.name]=t.value}),e}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=window,i=o.MB,c=o.$,s=function(){function e(){r(this,e)}return a(e,[{key:"activeWidth",value:function(){return"portrait"===i.currentScreen.orientation?Math.round(i.project().width*i.scale()/100):Math.round(i.project().height*i.scale()/100)}},{key:"activeHeight",value:function(){return"portrait"===i.currentScreen.orientation?Math.round(i.project().height*i.scale()/100):Math.round(i.project().width*i.scale()/100)}},{key:"hideScreen",value:function(e){c(e).hide(),c(e).find(".iframe").each(function(e,t){i.runner.runnerUtil.setObjectUrl(t,"about:blank")})}},{key:"doTransition",value:function(e,t,n,r){var a=this;n.enableTransition(r.delay()),t.enableTransition(r.delay()),r.template&&e.indexOf("menu")!==-1&&(e="none"),c.nextTick(function(){a[e](t,n,r)})}},{key:"none",value:function(e,t,n){t.addClass("active"),e.removeClass("active top"),this.hideScreen(e),i.runner.doneTransition(t)}},{key:"slideIn",value:function(e,t,n,r,a,o){var c=this;e.transitionEnd(function(){e.removeClass("active"),t.addClass("active top"),c.hideScreen(e),i.runner.doneTransition(t)}),e[n](r),t[n](a)}},{key:"slidebottom",value:function(e,t,n){this.slideIn(e,t,"translateY",0-this.activeHeight(),0,n)}},{key:"slideleft",value:function(e,t,n){this.slideIn(e,t,"translateX",0-this.activeWidth(),0,n)}},{key:"slidetop",value:function(e,t,n){this.slideIn(e,t,"translateY",this.activeHeight(),0,n)}},{key:"slideright",value:function(e,t,n){this.slideIn(e,t,"translateX",this.activeWidth(),0,n);
}},{key:"slideMenu",value:function(e,t,n,r,a){t.zindex("2"),e.css("z-index","101"),e.transitionEnd(function(){i.runner.doneTransition(t)}),e[n](r)}},{key:"leftmenu",value:function(e,t,n){this.slideMenu(e,t,"translateX",this.activeWidth()*n.menu_offset/100,n)}},{key:"rightmenu",value:function(e,t,n){this.slideMenu(e,t,"translateX",0-this.activeWidth()*n.menu_offset/100,n)}},{key:"fixedIn",value:function(e,t,n,r,a){var o=this;t.addClass("top"),t.css("z-index","101"),t.transitionEnd(function(){0===r&&(e.removeClass("active"),t.addClass("active"),o.hideScreen(e)),i.runner.doneTransition(t),0!==r&&t.css("z-index","101")}),t[n](r)}},{key:"topin",value:function(e,t,n){this.fixedIn(e,t,"translateY",0,n)}},{key:"popin",value:function(e,t,n){this.fixedIn(e,t,"translateY",0,n)}},{key:"slideleft2",value:function(e,t,n){this.fixedIn(e,t,"translateX",0,n)}},{key:"slideright2",value:function(e,t,n){this.fixedIn(e,t,"translateX",0,n)}},{key:"leftdrawer",value:function(e,t,n){this.fixedIn(e,t,"translateX",this.activeWidth()*(n.menu_offset-100)/100,n)}},{key:"rightdrawer",value:function(e,t,n){this.fixedIn(e,t,"translateX",this.activeWidth()*(100-n.menu_offset)/100,n)}},{key:"fixedOut",value:function(e,t,n,r,a){var o=this;t.zindex("2"),e.transitionEnd(function(){e.removeClass("active"),t.addClass("active"),o.hideScreen(e),i.runner.doneTransition(t)}),e[n](r)}},{key:"leftout",value:function(e,t,n){this.fixedOut(e,t,"translateX",0-this.activeWidth(),n)}},{key:"rightout",value:function(e,t,n){this.fixedOut(e,t,"translateX",this.activeWidth(),n)}},{key:"topout",value:function(e,t,n){this.fixedOut(e,t,"translateY",0-this.activeHeight(),n)}},{key:"popout",value:function(e,t,n){this.fixedOut(e,t,"translateY",this.activeHeight(),n)}},{key:"transitionHandler",value:function(e,t,n,r,a){switch("leftmenu"===e&&t.addClass("menu lmenu"),"rightmenu"===e&&t.addClass("menu rmenu"),"leftdrawer"===e&&n.addClass("drawer ldrawer"),"rightdrawer"===e&&n.addClass("drawer rdrawer"),e){case"popin":case"slidebottom":n.translate(0,a);break;case"topin":case"slidetop":n.translate(0,0-a);break;case"popout":case"none":case"leftout":case"rightout":case"topout":case"leftmenu":case"rightmenu":n.translate(0,0);break;case"slideright":case"slideleft2":case"leftdrawer":n.translate(0-r,0);break;case"slideleft":case"slideright2":case"rightdrawer":n.translate(r,0)}}}]),e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r,a){return"up"===e&&n.scrollTop>0?Math.max(t,0-n.scrollTop):"down"===e&&n.scrollTop<a.height-r.height?Math.min(t,a.bottom-r.bottom):0}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=window,c=i.MB,s=i.$,u=i.I18N,l=function(){function e(){r(this,e),this.webpackInterface=null}return o(e,[{key:"clear",value:function(){this.safeCall("webpackInterface","previewClear")}},{key:"initWebpackInterface",value:function(e){c.webpackInterface&&(this.webpackInterface=c.webpackInterface,this.webpackInterface.applyObserverMap(e),this.safeCall("webpackInterface","previewInit"),this.safeCall("webpackInterface","checkHash",window.location,window.history))}},{key:"safeCall",value:function(e,t){try{for(var n,r=arguments.length,a=Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];this[e]&&this[e][t]&&(n=this[e])[t].apply(n,a)}catch(n){c.ga&&c.ga("send","event","webpack","warning","["+e+"-"+t+"]"+n.message+" "+n.stack+"("+c.user.email+")")}}},{key:"getPreviewObserverMap",value:function(e){var t=this,n=function(){return s("div#ui-comment-tip").removeClass("hide")},r=function(){return s("div#ui-comment-tip").addClass("hide")},o=function(e){var t=e.pageX,n=e.pageY;return s("div#ui-comment-tip").css({left:t+24,top:n})};return{"view:comment:start":function(){s("#simulator-container").addClass("comment-mode").on("mouseenter",n).on("mouseleave",r).on("mousemove",o),s("div#ui-comment-range").removeClass("hide"),s("#ui-comment-panel, a#switch-comment").addClass("active"),s("#switch-comment-switch").addClass("checked"),s("div#ui-comment-tip span").html(c.user.id?"guest"===t.safeCall("webpackInterface","getUserRole")?u.preview.comment.tip_not_collaborator:u.preview.comment.tip:u.preview.comment.tip_signin),e.toggleBoard.toggle("Comment",!0)},"view:comment:stop":function(){s("#simulator-container").removeClass("comment-mode").off("mouseenter",n).off("mouseleave",r).off("mousemove",o),s("div#ui-comment-tip div#ui-comment-range").addClass("hide"),s("#ui-comment-panel, a#switch-comment").removeClass("active"),s("#switch-comment-switch").removeClass("checked"),e.toggleBoard.toggle("Comment",!1)},"view:screen:start":function(){s("#ui-screen-panel, a#switch-screen").addClass("active"),e.toggleBoard.toggle("Screen",!0)},"view:screen:stop":function(){s("#ui-screen-panel, a#switch-screen").removeClass("active"),e.toggleBoard.toggle("Screen",!1)},"focus-method:request-focus":function(e,t){var n=document.getElementById("simulator-container"),r=t.getBoundingClientRect(),o=n.getBoundingClientRect();if(!(r.top>o.top&&r.bottom<o.bottom)){var i=r.top+.5*r.height-(o.top+.5*o.height),c=i<0?"up":"down",u=document.getElementById("simulator-wrapper"),l=a(c,i,n,o,u.getBoundingClientRect());if(n.scrollTop+=l,i-=l,0!==i){var p=s(".pcanvas.active .widgets")[0],d=s(".pcanvas.active .widgets .scontainer")[0];l=a(c,i,p,p.getBoundingClientRect(),d.getBoundingClientRect()),p.scrollTop+=l}}}}}}]),e}();t.a=l},function(e,t,n){"use strict";function r(e){e.ScrollSync=a.a,e.WebpackInvasion=o.a,e.ToggleBoard=i.a,e.TimeoutBucket=c.a,e.EventBucket=s.a,e.RunnerUtil=u.a,e.TransitionUtil=l.a}var a=n(396),o=n(400),i=n(398),c=n(397),s=n(394),u=n(395),l=n(399);t.a=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),a=n(401),o=n(0),i=n.n(o),c=n(5),s=n.n(c),u=n(393);try{if(r.a.MB.webpackInterface)throw new Error("[ExportWebpackInterface] already inited MB.webpackInterface");r.a.MB.webpackInterface=n.i(r.b)(r.c.Preview),r.a.MB.setRunnerExtra=a.a}catch(e){console.warn("[UI:Preview] Failed to init:",e.stack||e)}window.MB.renderSharing=function(e){s.a.render(i.a.createElement(u.a,{app:e}),document.getElementById("sharing-modal"))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(50),e.exports=n(526)}],[926]);